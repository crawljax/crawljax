HTTP/1.1 200 OK
Age: 13
cache-control: public, max-age=600
Connection: Keep-Alive
Content-Length: 251407
content-type: text/javascript; charset=utf-8
Date: Mon, 09 Sep 2013 22:03:18 GMT
Server: YTS/1.19.11
vary: Accept-Encoding
Via: HTTP/1.1 r13.ycpi.sp2.yahoo.net UserFiberFramework/1.0
X-Content-Type-Options: NOSNIFF
X-Frame-Options: SAMEORIGIN
X-Powered-By: Express
X-XSS-Protection: 1; mode=block

;YAHOO = window.YAHOO || {};YAHOO.VideoPlatform = YAHOO.VideoPlatform || {};YUI.add("yepswf",function(a){var k=a.SWF||{},m=k.prototype||{},p=k._instances||{},e=k.eventHandler||{},o=a.Event,q=a.Escape,h=a.SWFDetect,j=a.Lang,g=a.UA,l=a.Node,f="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",d="application/x-shockwave-flash",c="10.0.22",b="SWF.eventHandler",n={align:"",allowFullScreen:"",allowNetworking:"",allowScriptAccess:"",base:"",bgcolor:"",menu:"",name:"",quality:"",salign:"",scale:"",tabindex:"",wmode:""};a.YEPSWF=function(v,s,A,L,M){var J={};if(!a.Lang.isObject(a.SWF)||!a.Lang.isValue(a.SWF.prototype)){a.augment(this,a.EventTarget);J.type="yuiIntegrationError";this.publish("yuiIntegrationError",{fireOnce:true});this.fire("yuiIntegrationError",J);return;}this._id=a.guid("yuiswf");var x=this._id;var D=l.one(v);var L=L||{};var P=L.version||c;var I=(P+"").split(".");var z=h.isFlashVersionAtLeast(parseInt(I[0]),parseInt(I[1]),parseInt(I[2]));var H=(M===undefined||M.testMode===undefined)?(h.isFlashVersionAtLeast(8,0,0)):((M.testMode===false)?(h.isFlashVersionAtLeast(8,0,0)):true);var u=H&&!z&&L.useExpressInstall;var t=(u)?A:s;var O="<object ";var B,K;var N="yId="+a.id+"&YUISwfId="+x+"&YUIBridgeCallback="+b+"&allowedDomain="+document.location.hostname;var E=document.title.slice(0,47)+" - Flash Player Installation";var G=g.ie&&g.win?"ActiveX":"PlugIn",y="MMredirectURL="+window.location.toString().replace(/&/g,"%26")+"&MMplayerType="+G+"&MMdoctitle="+E;M.isExpressInstallUsed=u;if(u){N=y;}a.YEPSWF._instances[x]=this;if(D&&(z||u)&&t){O+='id="'+x+'" ';if(g.ie){O+='classid="'+f+'" ';}else{O+='type="'+d+'" data="'+q.html(t)+'" ';}B="100%";K="100%";O+='width="'+B+'" height="'+K+'">';if(g.ie){O+='<param name="movie" value="'+q.html(t)+'"/>';}for(var C in L.fixedAttributes){if(n.hasOwnProperty(C)){O+='<param name="'+(q.html(C)).toLowerCase()+'" value="'+q.html(L.fixedAttributes[C])+'"/>';}}for(var F in L.flashVars){var r=L.flashVars[F];if(j.isString(r)){N+="&"+q.html(F)+"="+q.html(encodeURIComponent(r));}}if(N){O+='<param name="flashVars" value="'+N+'"/>';}O+="</object>";D.set("innerHTML",O);this._swf=l.one("#"+x);}else{var J={};J.type="wrongflashversion";this.publish("wrongflashversion",{fireOnce:true});this.fire("wrongflashversion",J);}};a.YEPSWF.prototype=m;a.YEPSWF._instances=p;a.YEPSWF.eventHandler=e;},"",{requires:["swf","escape","node"]});YUI.add("PlayerData",function(a){a.namespace("VideoAds");PlayerData=function(){this._nicobarHost=null;this.setMASHost("http://static.vap.yahoo.net/");this._nicobarQueryHost=null;this.setMASQueryHost("http://query.vap.yahoo.net/nicobarMan/ads/");this._nicobarAcct=null;this._nicobarRulesetId=null;this._clipId=null;this._clipDuration=null;this._clipTitle=null;this._playlistId=null;this._playlistTitle=null;this._playerId=null;this._playerTitle=null;this._clipCats=new Array();this._isLive=true;this._customParams={};this._queryRules=null;this._adData=null;this._processAdData=function(){var d=this._adData;if(d){var g=d.adRules;try{if(g){if(g["ManModel"]==null){}else{var f=convertJSONToXML("ManModel",g["ManModel"]);this.setQueryRules(f);}}}catch(h){}var b=d.ad_targeting;var c="";try{if(b&&(typeof b==="string")&&(b.indexOf("<adData")>-1)){c="<adTargeting>"+b+"</adTargeting>";this.addCustomParameter("ad-extra:adTargeting",c);}else{c=b;this.addCustomParameter("ad-extra:adTargeting",c);}}catch(h){}try{var j=d.category;if(j){this.addCustomParameter("ad-extra:adTargetingCategory",j);}}catch(h){}}};};PlayerData.PLAYER_READY_EVENT="ready";PlayerData.CATEGORY_CHANGE_EVENT="categoryChange";PlayerData.CLIP_CHANGE_EVENT="clipChange";PlayerData.AD_BREAK_EVENT="adBreak";PlayerData.prototype.setMASHost=function(b){this._nicobarHost=b;};PlayerData.prototype.getMASHost=function(){return this._nicobarHost;};PlayerData.prototype.setMASQueryHost=function(b){this._nicobarQueryHost=b;};PlayerData.prototype.getMASQueryHost=function(){return this._nicobarQueryHost;};PlayerData.prototype.setMASAcctId=function(b){this._nicobarAcct=b;};PlayerData.prototype.getMASAcctId=function(){return this._nicobarAcct;};PlayerData.prototype.setMASRulesetId=function(b){this._nicobarRulesetId=b;};PlayerData.prototype.getMASRulesetId=function(){return this._nicobarRulesetId;};PlayerData.prototype.setClipId=function(b){this._clipId=b;};PlayerData.prototype.getClipId=function(){return this._clipId;};PlayerData.prototype.setClipDuration=function(b){this._clipDuration=b;};PlayerData.prototype.getClipDuration=function(){return this._clipDuration;};PlayerData.prototype.setClipTitle=function(b){this._clipTitle=b;};PlayerData.prototype.getClipTitle=function(){return this._clipTitle;};PlayerData.prototype.setPlaylistId=function(b){this._playlistId=b;};PlayerData.prototype.getPlaylistId=function(){return this._playlistId;};PlayerData.prototype.setPlaylistTitle=function(b){this._playlistTitle=b;};PlayerData.prototype.getPlaylistTitle=function(){return this._playlistTitle;};PlayerData.prototype.setPlayerId=function(b){this._playerId=b;};PlayerData.prototype.getPlayerId=function(){return this._playerId;};PlayerData.prototype.setPlayerTitle=function(b){this._playerTitle=b;};PlayerData.prototype.getPlayerTitle=function(){return this._playerTitle;};PlayerData.prototype.setClipCategories=function(b){this._clipCats=b;};PlayerData.prototype.getClipCategories=function(){return this._clipCats;};PlayerData.prototype.setIsLive=function(b){this._isLive=b;};PlayerData.prototype.getIsLive=function(){return this._isLive;};PlayerData.prototype.addCustomParameter=function(b,c){this._customParams[b]=c;};PlayerData.prototype.getCustomParameters=function(){return this._customParams;};PlayerData.prototype.getCustomParameter=function(b){return this._customParams[b];};PlayerData.prototype.toString=function(){return"MASHost = "+this.getMASHost()+", MASQueryHost = "+this.getMASQueryHost();};PlayerData.prototype.setQueryRules=function(b){this._queryRules=b;};PlayerData.prototype.getQueryRules=function(){return this._queryRules;};PlayerData.prototype.setAdData=function(b){this._adData=b;this._processAdData();};PlayerData.prototype.getAdData=function(){return this._adData;
};jsonToXML=function(g,c){var e="";var f="";var b="";var j=null;for(j in c){var h=c[j];if(j=="content"){b=b+"<![CDATA["+h+"]]>";continue;}if(h instanceof Array){for(var d=0;d<h.length;d++){var k=h[d];b=b+jsonToXML(j,k);}}else{if(h instanceof Object){b=b+jsonToXML(j,h);}else{f=f+" "+j+"="+'"'+h+'"';}}}e="<"+g+f+">"+b+"</"+g+">";return e;};convertJSONToXML=function(e,d){var b="<?xml version='1.0' encoding='UTF-8'?>";var c=b+jsonToXML(e,d);return c;};a.VideoAds.PlayerData=PlayerData;},"1.0.0",{});YUI.add("VideoAdPlugin",function(a){a.namespace("VideoAds");a.config.filter="debug";a.config.logLevel="info";VideoAdPlugin=function(h){var c="1.0.0.58";this.adPlugin=null;this.PLAYER_EVENT=null;this.currCategory=null;this.configObj=h;this.container=h.adContainer;this.rendererType=h.rendererType;if(this.rendererType=="html"){this.playerContainer=h.playerContainer;this.playerContainer.src="";this.playerContainer.load();this.playerContainer.play();}else{this.playerContainer=null;}this.state=VideoAdPlugin.PLUGIN_NOT_LOADED;this.timeoutValue=50;var b=this;this.cookie=new a.com.yahoo.ads.common.Cookie("yvap",this.configObj.playerData.getMASAcctId());var d=function(){try{document.createEvent("TouchEvent");return true;}catch(j){return false;}};if(d()||b.rendererType=="html"){try{a.use("AdPlugin","node-base","event","event-custom",function(e){b.adPlugin=new e.com.yahoo.ads.plugin.AdPlugin(b.configObj,b.cookie);b.handleSubscriptions();});}catch(g){}}else{if(!d()&&this.rendererType=="flash"){try{a.use("FlashAdPlugin","node-base","event","event-custom",function(e){b.adPlugin=new e.com.yahoo.ads.flash.FlashAdPlugin(b.configObj,b.cookie);b.handleSubscriptions();});}catch(g){}}}if(b.adPlugin){var f=function(){b.adPlugin.load(b.container,b.configObj);};setTimeout(f,this.timeoutValue);}window.Y=a;};VideoAdPlugin.PLUGIN_NOT_LOADED=0;VideoAdPlugin.PLUGIN_LOADED=1;VideoAdPlugin.READY_FIRED=2;VideoAdPlugin.prototype.handleSubscriptions=function(){this.subscribeInternally();if(this.configObj.on){this.subscribeExternally();}};VideoAdPlugin.prototype.subscribeInternally=function(){if(!this.adPlugin||this.adPlugin==undefined){var b=this;var c=function(){b.subscribeInternally();};setTimeout(c,this.timeoutValue);}else{this.subscribeToInternalEvents();}};VideoAdPlugin.prototype.subscribeToInternalEvents=function(){var b=this;if(this.playerContainer&&this.rendererType=="flash"){var d=function(){if(b.container.id!=b.playerContainer.id){b.container.style.zIndex=b.playerContainer.style.zIndex+1;}};this.adPlugin.on("VideoAdStart",d);var c=function(){if(b.container.id!=b.playerContainer.id){b.container.style.zIndex=b.playerContainer.style.zIndex-1;}};this.adPlugin.on("VideoAdEnd",c);}this.adPlugin.on("PluginLoaded",function(){b.state=VideoAdPlugin.PLUGIN_LOADED;b.init(b.container);if(b.cookie.cookieEnabled){var e=new Object();e.enable=true;e.clipCount=this.cookie.getCookieParam("cc");b.adPlugin.setSession(e);}b.registerAdSlot(b.container,b.playerContainer);b.onClientInfoChanged(b.configObj.clientInfo);if(typeof(b.configObj.clientInfo.volume)!=="undefined"){b.adPlugin.setVolume(b.configObj.clientInfo.volume);}b.onPlayerReady(b.configObj.playerData);});this.adPlugin.on("PluginReady",function(){b.state=VideoAdPlugin.READY_FIRED;});this.adPlugin.on("AdPluginDestroy",function(){});this.adPlugin.on("AdPluginTimeout",function(){});};VideoAdPlugin.prototype.subscribeExternally=function(){if(!this.adPlugin||this.adPlugin==undefined){var c=this;var b=function(){c.subscribeExternally();};setTimeout(b,this.timeoutValue);}else{this.subscribeToExternalEvents();}};VideoAdPlugin.prototype.subscribeToExternalEvents=function(){var c=this.configObj.on;var b=this.configObj.context;try{for(var d in c){this.adPlugin.on(d,c[d],b);}}catch(f){}};VideoAdPlugin.prototype.detachAll=function(){var c=this.configObj.on;var b=this.configObj.context;try{for(var d in c){this.adPlugin.detach(d,c[d],b);}}catch(f){}};VideoAdPlugin.prototype.init=function(b){if(this.adPlugin&&this.adPlugin!=undefined){this.adPlugin.init(b);this.PLAYER_EVENT=this.adPlugin.getPlayerObj();}};VideoAdPlugin.prototype.destroy=function(){this.state=VideoAdPlugin.PLUGIN_NOT_LOADED;this.adPlugin.destroy();};VideoAdPlugin.prototype.timeout=function(){this.adPlugin.timeout();};VideoAdPlugin.prototype.registerAdSlot=function(c,b){if(this.adPlugin&&this.adPlugin.isPluginInited()){this.adPlugin.registerAdSlot("overlaySlot",c,b,true);}};VideoAdPlugin.prototype.beginAdExperience=function(d){if(this.state<VideoAdPlugin.READY_FIRED||!(this.adPlugin&&this.adPlugin.isPluginInited())){var c=this;var b=function(){c.beginAdExperience(d);};setTimeout(b,this.timeoutValue);}else{if(this.currCategory!=d.getPlaylistId()){this.currCategory=d.getPlaylistId();this.onCategoryChange(d);}this.onClipChange(d);this.beginVideoExperience();}};VideoAdPlugin.prototype.beginVideoExperience=function(){if(this.state<VideoAdPlugin.READY_FIRED||!(this.adPlugin&&this.adPlugin.isPluginInited())){var c=this;var b=function(){c.beginVideoExperience();};setTimeout(b,this.timeoutValue);}else{this.adPlugin.beginVideoExperience();}};VideoAdPlugin.prototype.onPlayerReady=function(b){if(this.adPlugin&&this.adPlugin.isPluginInited()&&this.PLAYER_EVENT&&this.PLAYER_EVENT!=undefined){this.PLAYER_EVENT.firePlayerReadyEvent(b);}};VideoAdPlugin.prototype.onCategoryChange=function(b){if(this.adPlugin&&this.adPlugin.isPluginInited()&&this.PLAYER_EVENT&&this.PLAYER_EVENT!=undefined){this.PLAYER_EVENT.fireCategoryChangeEvent(b);}};VideoAdPlugin.prototype.onClipChange=function(b){if(this.adPlugin&&this.adPlugin.isPluginInited()&&this.PLAYER_EVENT&&this.PLAYER_EVENT!=undefined){if(this.cookie.cookieEnabled){this.cookie.setCookieParam("cc",parseInt(this.cookie.getCookieParam("cc"))+1);b.addCustomParameter("cookie-clipCount",this.cookie.getCookieParam("cc"));b.addCustomParameter("cookie-adLength",this.cookie.getCookieParam("al"));b.addCustomParameter("cookie-vidLength",this.cookie.getCookieParam("vl"));b.addCustomParameter("cookie-adCount",this.cookie.getCookieParam("ac"));
}this.PLAYER_EVENT.fireClipChangeEvent(b);}};VideoAdPlugin.prototype.onVolumeChange=function(b){this.adPlugin.setVolume(b);};VideoAdPlugin.prototype.onClientInfoChanged=function(b){if(this.adPlugin&&this.adPlugin.isPluginInited()&&this.PLAYER_EVENT&&this.PLAYER_EVENT!=undefined){this.adPlugin.onClientInfoChanged(b);}};VideoAdPlugin.prototype.onControlTween=function(b){this.adPlugin.onControlTween(b);};VideoAdPlugin.prototype.onContentVideoComplete=function(){this.adPlugin.onContentVideoComplete();};VideoAdPlugin.prototype.onContentVideoProgress=function(c){var b=c.position;var d=c.duration;this.adPlugin.onContentVideoProgress(b,d);if(this.cookie.cookieEnabled){this.cookie.setCookieParam("vl",parseInt(this.cookie.getCookieParam("vl"))+1);}};VideoAdPlugin.prototype.subscribe=function(f,d,c){if(!this.adPlugin||this.adPlugin==undefined){var e=this;var b=function(){e.subscribe(f,d,c);};setTimeout(b,this.timeoutValue);}else{this.adPlugin.on(f,d,c);}};VideoAdPlugin.prototype.unsubscribe=function(e,c,b){if(!this.adPlugin||this.adPlugin==undefined){var d=this;var f=function(){d.unsubscribe(e,c,b);};setTimeout(f,this.timeoutValue);}else{this.adPlugin.detach(e,c,b);}};a.VideoAds.VideoAdPlugin=VideoAdPlugin;},"1.0.0",{requires:["jsonp","json","io-base","io-xdr","node","swf","event","event-custom","Constants","PlayerData","MonitorBeaconer","Cookie"]});YUI.add("Constants",function(a){a.namespace("com.yahoo.ads.common");prefix="";Constants={};Constants.FLASH_PLUGIN_URL="http://d.yimg.com/ks/plugin/AdPlugin.swf";Constants.EVENT_PLUGIN_ERROR="AdPluginError";Constants.EVENT_PLUGIN_LOADED="PluginLoaded";Constants.EVENT_PLUGIN_READY="PluginReady";Constants.EVENT_PLUGIN_DESTROY="AdPluginDestroy";Constants.EVENT_PLUGIN_TIMEOUT="AdPluginTimeout";Constants.EVENT_VIDEO_AD_START="VideoAdStart";Constants.EVENT_VIDEO_AD_END="VideoAdEnd";Constants.EVENT_RICH_AD_START="RichAdStart";Constants.EVENT_RICH_AD_END="RichAdEnd";Constants.EVENT_OVERLAY_START="OverlayStart";Constants.EVENT_OVERLAY_END="OverlayEnd";Constants.EVENT_EXPERIENCE_COMPLETE="ExperienceComplete";Constants.EVENT_PREPARE_VIDEO="PrepareVideo";Constants.EVENT_AD_PROGRESS="blockingAdProgress";Constants.EVENT_NOAD="PluginNoAd";Constants.EVENT_PROFILER="AdPluginProfiler";Constants.EVENT_METRIC="AdPluginMetric";Constants.MANAGED_CONFIG_LOADED_EVENT="MANAGED_CONFIG_LOADED_EVENT";Constants.COMPONENT_LOADED_EVENT="COMPONENT_LOADED_EVENT";Constants.PROPERTY_ID_READY_EVENT="PROPERTY_ID_READY_EVENT";Constants.LOAD_ERROR_EVENT="errorLoading";Constants.AD_ENGINE_READY_EVENT="AD_ENGINE_READY_EVENT";Constants.AD_ENGINE_ERROR_EVENT="AD_ENGINE_ERROR_EVENT";Constants.AD_ENGINE_AD_EVENT="AD_ENGINE_AD_EVENT";Constants.PLAYER_READY_EVENT="PLAYER_READY_EVENT";Constants.CATEGORY_CHANGE_EVENT="CATEGORY_CHANGE_EVENT";Constants.CLIP_CHANGE_EVENT="CLIP_CHANGE_EVENT";Constants.ALLOCATION="Allocation";Constants.RULEGROUP="RuleGroup";Constants.LICENSOR_TYPE_ID="licensorTypeId";Constants.SHARED_OBJECTS_NOT_ALLOWED="SharedObjectsNotAllowed";Constants.MME="MME";Constants.AD_READY_EVENT="AdReady";Constants.NOAD_EVENT="NoAd";Constants.ADCALL_ERROR_EVENT="AdCallError";Constants.AD_REDIRECT_EVENT="AdRedirect";Constants.AD_REQUEST_EVENT="AdRequest";Constants.TRIGGER_PLAYER_GATEWAY="playerGateway";Constants.TRIGGER_PLAYLIST_GATEWAY="playlistGateway";Constants.TRIGGER_CLIP_GATEWAY="clipGateway";Constants.TRIGGER_CLIP_PREROLL="preroll";Constants.TRIGGER_CLIP_POSTROLL="postroll";Constants.NOTIFICATION_CLIP_CHANGE="clipChange";Constants.EVENT_SKIN_PLAYER="skinPlayer";Constants.EVENT_UNLOCK_PLAYINST="unlockPlaylist";Constants.EVENT_SCALE_VIDEO="scaleVideo";Constants.EVENT_AD_PROGRESS="blockingAdProgress";Constants.EVENT_METRICS="metricsEvent";Constants.AD_EVENT="adEvent";Constants.EVENT_CONTENT_COMPLETE="ContentVideoComplete";Constants.ControlTweenEvent="ControlTweenEvent";Constants.ClientInfoChangedEvent="ClientInfoChanged";Constants.RenderCompleteEvent="AD_COMPLETE";Constants.VolumeChangedEvent="volumechanged";Constants.linearTemplateUrl="http://d.yimg.com/ks/templates/clickable_bumper_renderer.js";Constants.linearTemplateInitFn="getVPAIDAd";a.com.yahoo.ads.common.Constants=Constants;},"1.0.0",{requires:["node"]});YUI.add("Cookie",function(a){a.namespace("com.yahoo.ads.common");Cookie=function(b,c){this._cookieEnabled=(navigator.cookieEnabled)?true:false;this._cookieData=null;this._name=b;this._acc=c;this.readCookie=function(){var l="yvap"+"=";var e=document.cookie.split(";");for(var h=0;h<e.length;h++){var m=e[h];while(m.charAt(0)==" "){m=m.substring(1,m.length);}if(m.indexOf(l)==0){var g=m.substring(0,m.length);var k=g.split("@");this._cookieData=new Array();for(var f=0;f<k.length;f++){var m=k[f];var d=m.split("=");this._cookieData[d[0]]=d[1];}}}};this.getCookie=function(){var d="";for(var e in this._cookieData){d=d+"@"+e+"="+this._cookieData[e];}return d;};this.writeCookie=function(){var e=document.domain;var g="";var f=this._acc;if(e.indexOf(".yahoo.com")!=-1){g=e.substring(e.indexOf(".yahoo.com"));}else{if(e.indexOf(".yahoo.net")!=-1){g=e.substring(e.indexOf(".yahoo.net"));}}var d=this.getCookie();if(g){document.cookie="yvap"+"="+f+d+";domain="+g+";path=/;";}else{document.cookie="yvap"+"="+f+d+";";}};if(this._cookieEnabled){this.readCookie();if(!this._cookieData){this._cookieData=new Array();this.setCookieParam("cc",0);this.setCookieParam("al",0);this.setCookieParam("vl",0);this.setCookieParam("ac",0);}else{}}};Cookie.prototype.cookieEnabled=function(){return this._cookieEnabled;};Cookie.prototype.cookieData=function(){return this._cookieData;};Cookie.prototype.setCookieParam=function(b,c){this._cookieData[b]=c;this.writeCookie();};Cookie.prototype.getCookieParam=function(b){if(!this._cookieData[b]){this.setCookieParam(b,0);}return this._cookieData[b];};a.com.yahoo.ads.common.Cookie=Cookie;},"1.0.0",{requires:["node"]});YUI.add("MonitorBeaconer",function(b){b.namespace("com.yahoo.ads.common");function a(){MANHATTAN_BASE_URL="http://qos.video.yimg.com";BUCKET_PATH="/3/qos";YVAP_PATH="/yvap";OQS_ENV="p";
YWA_BASE_URL="http://z.analytics.yahoo.com/p.pl";YAMAS="YVAP_YAMAS";YWA="YVAP_YWA";this.fireMonitoringBeacon=function(c,f){var j="";if(f==YAMAS){j=MANHATTAN_BASE_URL+YVAP_PATH+BUCKET_PATH+"?";}else{j=YWA_BASE_URL+"?";}var h=true;for(var e in c){var g=c[e];var d=g.toString();if(!h){j+="&";}j+=e;if(d){j+="="+d;}h=false;}j=j+"&rand="+Math.round(Math.random()*10000000000000);this.sendBeacon(j);};this.sendBeacon=function(c){if(c){var d=document.createElement("img");d.src=c;d.style.display="none";}};}a.prototype.handleAction=function(c,d){c["env"]=OQS_ENV;this.fireMonitoringBeacon(c,d);};b.com.yahoo.ads.common.MonitorBeaconer=a;},"1.0.0",{requires:["node","jsonp","ScopeLogger"]});YUI.add("ScopeLogger",function(a){a.namespace("com.yahoo.ads.logging");ScopeLogger=function(c){var b=c;var d=function(){};return{trace:function(e){},message:function(e){a.message(b+"::"+e,"info","VideoAdPlugin");},warning:function(e){},error:function(e){}};};a.com.yahoo.ads.logging.ScopeLogger=ScopeLogger;},"1.0.0",{requires:["node"]});YUI.add("FlashAdPlugin",function(a){a.namespace("com.yahoo.ads.flash");FlashAdPlugin=function(c,b){_CONSTANTS=a.com.yahoo.ads.common.Constants;this.pluginLoaded=false;this.clientInfo=null;this.cookie=b;this.configObj=c;this.startLoad=null;this.endLoad=null;this.adPosition=0;this.myswf=this.configObj["playerContainer"];this.beaconer=new a.com.yahoo.ads.common.MonitorBeaconer();this.ConvertCssPxToInt=function(f){var d="0123456789.";var e=0;for(i=0;i<f.length;i++){if(d.indexOf(f.charAt(i))==-1){if(i>0){e=parseInt(f.substring(0,i));return e;}}}return parseInt(e);};};a.augment(FlashAdPlugin,a.EventTarget);FlashAdPlugin.prototype.isPluginInited=function(){return this.pluginLoaded;};FlashAdPlugin.prototype.onClientInfoChanged=function(b){this.clientInfo=b;this.onContentVideoResized(b.x,b.y,this.ConvertCssPxToInt(b.width),this.ConvertCssPxToInt(b.height),b.bitrate);};FlashAdPlugin.prototype.init=function(b){};FlashAdPlugin.prototype.destroy=function(){this.myswf.callSWF("destroy");};FlashAdPlugin.prototype.timeout=function(){this.myswf.callSWF("timeout");};FlashAdPlugin.prototype.load=function(b){try{this.loadStart();this.myswf=this.configObj["playerContainer"];this.pluginLoaded=true;this.loadEnd();}catch(d){this.fire(_CONSTANTS.EVENT_PLUGIN_ERROR,d);return;}window.SWF=a.SWF;var c=this;this.myswf.on(_CONSTANTS.EVENT_PLUGIN_READY,function(f){c.fire(_CONSTANTS.EVENT_PLUGIN_READY,f);});this.myswf.on(_CONSTANTS.EVENT_PLUGIN_DESTROY,function(f){c.fire(_CONSTANTS.EVENT_PLUGIN_DESTROY,f);});this.myswf.on(_CONSTANTS.EVENT_PLUGIN_TIMEOUT,function(f){c.fire(_CONSTANTS.EVENT_PLUGIN_TIMEOUT,f);});this.myswf.on(_CONSTANTS.EVENT_EXPERIENCE_COMPLETE,function(f){c.fire(_CONSTANTS.EVENT_EXPERIENCE_COMPLETE,f);});this.myswf.on(_CONSTANTS.EVENT_VIDEO_AD_END,function(f){c.fire(_CONSTANTS.EVENT_VIDEO_AD_END,f);});this.myswf.on(_CONSTANTS.EVENT_VIDEO_AD_START,function(f){c.adPosition=0;c.isCurrAdLinear=f.capabilities.linear;if(f.capabilities.blocked){if(c.isCurrAdLinear){c.cookie.setCookieParam("ac",parseInt(c.cookie.getCookieParam("ac"))+1);}}c.fire(_CONSTANTS.EVENT_VIDEO_AD_START,f.capabilities);});this.myswf.on(_CONSTANTS.EVENT_NOAD,function(f){c.fire(_CONSTANTS.EVENT_NOAD,f);});this.myswf.on(_CONSTANTS.EVENT_PLUGIN_ERROR,function(f){if(f.data){c.fire(_CONSTANTS.EVENT_PLUGIN_ERROR,f.data);}else{c.fire(_CONSTANTS.EVENT_PLUGIN_ERROR,f);}});this.myswf.on(_CONSTANTS.EVENT_AD_PROGRESS,function(g){if(c.isCurrAdLinear){var f=parseInt(g.position)-c.adPosition;c.adPosition=parseInt(g.position);if(c.cookie.cookieEnabled){c.cookie.setCookieParam("al",parseInt(c.cookie.getCookieParam("al"))+f);}}c.fire(_CONSTANTS.EVENT_AD_PROGRESS,g);});this.myswf.on(_CONSTANTS.EVENT_PROFILER,function(f){c.fire(_CONSTANTS.EVENT_PROFILER,f.payload);});this.myswf.on(_CONSTANTS.EVENT_METRIC,function(f){c.fire(_CONSTANTS.EVENT_METRIC,f.payload);});var d=new Object();this.fire(_CONSTANTS.EVENT_PLUGIN_LOADED,d);};FlashAdPlugin.prototype.beginVideoExperience=function(){this.myswf.callSWF("beginVideoExperience");};FlashAdPlugin.prototype.setVideoPlayer=function(){this.myswf.callSWF("setVideoPlayer",[null,"HTML"]);};FlashAdPlugin.prototype.firePlayerReadyEvent=function(b){this.setVideoPlayer();this.myswf.callSWF("onPlayerReadyJs",[b]);};FlashAdPlugin.prototype.fireCategoryChangeEvent=function(b){this.myswf.callSWF("onCategoryChangeJs",[b]);};FlashAdPlugin.prototype.fireClipChangeEvent=function(b){this.myswf.callSWF("onClipChangeJs",[b]);};FlashAdPlugin.prototype.onContentVideoResized=function(c,f,e,b,d){this.myswf.callSWF("onContentVideoResizedJs",[c,f,e,b,d]);this.myswf.callSWF("onControlTween",[c,f,e,b]);};FlashAdPlugin.prototype.registerAdSlot=function(e,d,c,b){this.myswf.callSWF("registerAdSlot",[e,null,b]);};FlashAdPlugin.prototype.setVolume=function(b){this.myswf.callSWF("setVolume",[b]);};FlashAdPlugin.prototype.setSession=function(b){this.myswf.callSWF("setSession",[b]);};FlashAdPlugin.prototype.onContentVideoComplete=function(){this.myswf.callSWF("onContentVideoComplete",[null]);};FlashAdPlugin.prototype.onContentVideoProgress=function(b,c){this.myswf.callSWF("onContentVideoProgress",[b,c]);};FlashAdPlugin.prototype.onControlTween=function(b){this.myswf.callSWF("onControlTween",b.x,b.y,this.ConvertCssPxToInt(b.width),this.ConvertCssPxToInt(b.height));};FlashAdPlugin.prototype.getPlayerObj=function(){return this;};FlashAdPlugin.prototype.loadStart=function(){this.startLoad=new Date().getTime();};FlashAdPlugin.prototype.loadEnd=function(){this.endLoad=new Date().getTime();var c=this.endLoad-this.startLoad;var b=new Object();b["pl"]=c;this.beaconer.handleAction(b,"YVAP_YAMAS");};a.com.yahoo.ads.flash.FlashAdPlugin=FlashAdPlugin;},"1.0.0",{requires:["node","swf","event","event-custom","Constants"]});YUI.add("videoplayer",function(e){function aa(ak){if(e.Lang.isValue(ak)){var Y=e.Lang.isArray(ak)?ak:e.Array(ak);this._items=e.Array.map(Y,function(al){return e.instanceOf(al,n)?al:new n(al);});}else{this._items=this._items||[];}this._registerItems(this._items);
this.publish("itemChange",{emitFacade:true});this.publish("clear",{emitFacade:true});}e.extend(aa,e.ArrayList,{toArray:function(){return e.Array.map(this._items.concat(),function(Y){return Y.toObject();});},add:function(am,ak){var Y=this._items,an=e.instanceOf(am,n)?am:new n(am),al;if(e.Lang.isNumber(ak)){Y.splice(ak,0,an);al=ak;}else{Y.push(an);al=Y.length-1;}this.fire("add",{item:this.item(al)});return this;},reset:function(){this._items=[];},find:function(Y,ak){return e.Array.find(this._items,Y,ak);},remove:function(an,al,Y){var am=[],ak;Y=Y||this.itemsAreEqual;for(ak=this._items.length-1;ak>=0;--ak){if(Y.call(this,an,this.item(ak))){am=am.concat(this._items.splice(ak,1));if(!al){break;}}}if(am.length>0){this._deregisterItems(am);this.fire("remove",{items:am});}return this;},clear:function(){this._deregisterItems(this._items);this._items=[];this.fire("clear");},_registerItems:function(Y){e.Array.each(Y,function(ak){ak.after("attrChange",this._onItemAttrChange,this);},this);},_deregisterItems:function(Y){e.Array.each(Y,function(ak){ak.detach("attrChange",this._onItemAttrChange,this);},this);},_onItemAttrChange:function(ak){var Y=ak.target;this.fire("itemChange",e.merge(ak,{mediaObject:Y,index:this.indexOf(Y)}));}});e.augment(aa,e.EventTarget);e.namespace("VideoPlatform").MediaCollection=aa;function G(Y){this.addAttrs({id:{value:"",validator:function(al,am){return e.Lang.isValue(al);}},totalLength:{value:0,validator:function(al,am){return e.Lang.isNumber(al);}},totalRequested:{value:0,validator:function(al,am){return e.Lang.isNumber(al);}},title:{value:"",validator:function(al,am){return e.Lang.isValue(al);}},description:{value:"",validator:function(al,am){return e.Lang.isValue(al);}},mediaItems:{value:new e.VideoPlatform.MediaCollection(),writeOnce:"initOnly",setter:function(al){if(!e.instanceOf(al,e.VideoPlatform.MediaCollection)){return new e.VideoPlatform.MediaCollection(al);}}}},Y);var ak=this.items();ak.after("itemChange",this._onItemChange,this);ak.after("add",this._onItemAdd,this);ak.after("remove",this._onItemRemove,this);this.publish("mediaItemChange",{emitFacade:true});this.publish("mediaItemRemove",{emitFacade:true});this.publish("mediaItemAdd",{emitFacade:true});}G.prototype={items:function(){return this.get("mediaItems");},toObject:function(){var Y=this.getAttrs(),ak=[];e.each(Y.mediaItems,function(am,al,an){ak.push(am.toObject());});Y.mediaItems=ak;return Y;},_onItemChange:function(Y){this.fire("mediaItemChange",{attrName:Y.attrName,index:Y.index,newVal:Y.newVal,prevVal:Y.prevVal,mediaObject:Y.mediaObject});},_onItemAdd:function(Y){this.fire("mediaItemAdd",{item:Y.item});},_onItemRemove:function(Y){this.fire("mediaItemRemove",{items:Y.items});},_fireAttrChange:function(ak,ao,an,Y,am){e.Attribute.prototype._fireAttrChange.apply(this,arguments);var al=(am)?e.merge(am):this._ATTR_E_FACADE;this.fire("attrChange",al);}};e.augment(G,e.Attribute);e.namespace("VideoPlatform").PlaylistObject=G;function n(ak){var Y=this;this.addAttrs({id:{},title:{},description:{},duration:{validator:e.Lang.isNumber},clipDuration:{validator:e.Lang.isString},comscoreC5:{validator:e.Lang.isString,writeOnce:true},images:{value:{large:null,medium:null,small:null,provider:null,thumbnail:null}},shareUrl:{},embedCode:{},isLive:{validator:e.Lang.isBoolean},eventBeginTime:{validator:e.Lang.isNumber},eventEndTime:{validator:e.Lang.isNumber},showName:{validator:e.Lang.isString},pageSpaceId:{validator:e.Lang.isString},CC:{},adData:{validator:e.Lang.isObject},licensorName:{validator:e.Lang.isString},licensorId:{validator:e.Lang.isString},licenseName:{validator:e.Lang.isString},licenseId:{validator:e.Lang.isString},"1u1sUrl":{validator:e.Lang.isString},"1u1sInterval":{validator:e.Lang.isNumber},originatingProperty:{validator:e.Lang.isString},cms:{},embeddable:{value:undefined},bitrate:{},sessionGUID:{},playlistId:{},streams:[],streamUrlOwner:{validator:e.Lang.isString},format:{},status:{},streamUrl:{},metrics:{validator:function(al,am){return e.Lang.isObject(al);}},adTargeting:{},adTargetingCategory:{},mediaInfo:{value:{currentKbps:null,droppedFrames:null,playbackBytesPerSecond:null,frameRate:null,bufferLength:null,videoBufferLength:null,bufferTime:null,totalMemory:null,currentStreamIndex:null,currentStreamBitrate:null,qualityLevels:null,hwDecoding:null,hwRendering:null,host:null,streamUrl:null,minBitRate:null,maxBitRate:null,highestQualityPlaybackRatio:null,streamSwitchReason:null,mediaWidth:null,mediaHeight:null}},history:{value:{currentStreamBitrate:[],frameRate:[],currentKbps:[],streamSwitchReason:[]}},provider:{value:{name:null}},hdAvailable:{validator:e.Lang.isFunction}},ak);this.after("mediaInfoChange",function(am){var an=am.newVal,ap=Y.get("history"),ao=["frameRate","currentStreamBitrate","currentKbps","streamSwitchReason"],aq,al;for(aq=0;aq<ao.length;aq++){al=ao[aq];ap[al].push(an[al]);if(ap[al].length>240){ap[al].shift();}}},this);}n.prototype={toObject:function(){return this.getAttrs();},_fireAttrChange:function(ak,ao,an,Y,am){e.Attribute.prototype._fireAttrChange.apply(this,arguments);var al=(am)?e.merge(am):this._ATTR_E_FACADE;this.fire("attrChange",al);}};var ad={HD_HEIGHT_CONSTANT:720,HD_WIDTH_CONSTANT:1280,HD_BITRATE_CONSTANT:1400};e.augment(n,e.Attribute);e.namespace("VideoPlatform").MediaObject=n;function ae(){this._items=[];}ae.prototype.items=function(){return this._items;};ae.prototype.add=function(Y){this._items.push(Y);this.fire("itemAdded",{item:Y});return this;};e.augment(ae,e.EventTarget);e.namespace("VideoPlatform").ProfileDataCollection=ae;function O(){O.superclass.constructor.apply(this,arguments);this.START_TIME=(new Date()).getTime();var Y=this.get("playlist");Y.after("attrChange",this._onPlaylistAttrChange,this);Y.after("mediaItemChange",this._onMediaItemChange,this);Y.after("mediaItemAdd",this._onMediaItemAdd,this);Y.after("mediaItemRemove",this._onMediaItemRemove,this);this.publish("playlistAttrChange",{emitFacade:true});this.publish("playlistItemChange",{emitFacade:true});this.publish("playlistItemAdd",{emitFacade:true});
this.publish("playlistItemRemove",{emitFacade:true});}O.NAME="Model";O.NS="model";O.ATTRS={version:{value:"3.9.2.10498",readOnly:true},hostingData:{writeOnce:true,setter:function(Y){return{bucket:Y.bucket,colo:Y.colo,env:Y.env};}},criticalError:{value:null,validator:function(Y,ak){return e.Lang.isObject(Y);}},fullscreen:{value:false,validator:e.Lang.isBoolean},height:{writeOnce:true,validator:function(Y){return e.Lang.isNumber(Y)&&Y>=0;}},width:{writeOnce:true,validator:function(Y){return e.Lang.isNumber(Y)&&Y>=0;}},adClientSize:{value:{width:0,height:0}},volume:{value:0.7,validator:function(Y,ak){return e.Lang.isNumber(Y);}},mute:{value:false,validator:function(Y,ak){return e.Lang.isBoolean(Y);}},autoplay:{value:false,validator:function(Y,ak){return e.Lang.isBoolean(Y);}},ybang:{value:true,validator:function(Y,ak){return e.Lang.isBoolean(Y);}},carousel:{value:false,validator:function(Y,ak){return e.Lang.isBoolean(Y);}},endscreen:{value:true,validator:function(Y,ak){return e.Lang.isObject(Y)||e.Lang.isBoolean(Y);},contentAlgo:{value:"",validator:function(Y){return e.Lang.isString(Y);}}},infoscreen:{value:true,validator:function(Y,ak){return e.Lang.isObject(Y)||e.Lang.isBoolean(Y);}},errorscreen:{value:true,validator:function(Y,ak){return e.Lang.isObject(Y)||e.Lang.isBoolean(Y);}},startscreen:{value:true,validator:function(Y,ak){return e.Lang.isObject(Y)||e.Lang.isBoolean(Y);}},client:{value:""},YVAP:{value:null,setter:function(Y){return new e.Attribute().addAttrs({accountId:{value:""},playContext:{value:""},ruleSetId:{value:-1}},Y);}},YVAPRequired:{value:true},adPluginMetric:{value:null},mediaFormats:{validator:e.Lang.isArray},continuousPlay:{value:false,validator:e.Lang.isBoolean},guid:{writeOnce:true,validator:e.Lang.isString},playerSpaceId:{value:"0"},pageSpaceId:{value:"0"},reportingDomain:{value:"unknown.videoplayer.yahoo.com"},lang:{value:"",validator:e.Lang.isString},bitrate:{value:900,validator:function(Y,ak){return e.Lang.isNumber(Y);}},shareUrlTemplate:{value:"http://video.yahoo.com/play/{videoId}"},chromeless:{value:false,validator:e.Lang.isBoolean},warning:{value:null},error:{value:null},errorDisplayDuration:{value:5,validator:e.Lang.isNumber},beacons:{value:[],validator:e.Lang.isArray},site:{value:""},region:{value:""},jurisdiction:{value:""},comscoreC4:{validator:function(Y){return e.Lang.isString(Y)&&(Y.length>0);}},comscoreC6:{value:"",validator:e.Lang.isString},isOffNetwork:{value:false,validator:e.Lang.isBoolean},lms:{value:"none",validator:function(Y){return"none"==Y||"all"==Y;}},rendererType:{validator:e.Lang.isString},rendererReady:{value:false},videoPlaybackState:{value:null},currentMedia:{value:null},duration:{value:-1,validator:function(Y){return e.Lang.isNumber(Y)||Y==Number.POSITIVE_INFINITY;}},playbackPosition:{value:-1,validator:e.Lang.isNumber},playlistPosition:{value:-1,validator:e.Lang.isNumber},playlist:{value:new G(),writeOnce:"initOnly",setter:function(Y){return new G(Y);}},startVideo:{value:"",validator:e.Lang.isString},playerState:{value:null},yvapState:{value:null},yvapData:{value:null},isInitialized:{value:false},activeScreenStr:{value:undefined},isLoading:{value:false},isLoaded:{value:false},isPreparing:{value:false},isPrepared:{value:false},isStarted:{value:false},isCompleted:{value:false},isPlaying:{value:false},isWaiting:{value:false},isSeeking:{value:false},isPaused:{value:false},isError:{value:false},isPlaybackError:{value:false},metrics:{value:{sAPIRelatedClipsLatency:null,yvapJSLatency:null,cssLatency:null,playerRenderLatency:null}},expType:{value:"",validator:e.Lang.isString},expName:{value:"",validator:e.Lang.isString},expBucket:{value:"",validator:e.Lang.isString},profileData:{value:null,setter:function(){return new e.VideoPlatform.ProfileDataCollection();}},isSpinnerShown:{value:false},ccAvailable:{value:false,validator:e.Lang.isBoolean},showClosedCaptions:{value:false,validator:e.Lang.isBoolean},atlasEnv:{value:""},CMS:{value:{env:null}},SAPI_CONF:{value:{host:null}},endScreenVideos:{value:new G(),writeOnce:"initOnly",setter:function(Y){return new G(Y);}}};e.extend(O,e.Base,{_onPlaylistAttrChange:function(Y){this.fire("playlistAttrChange",Y);},_onMediaItemChange:function(Y){this.fire("playlistItemChange",Y);},_onMediaItemAdd:function(Y){this.fire("playlistItemAdd",Y);},_onMediaItemRemove:function(Y){this.fire("playlistItemRemove",Y);}});e.namespace("VideoPlatform").Model=O;function s(){s.superclass.constructor.apply(this,arguments);}s.CSS=".yui3-videoplayer-startscreen-button,.yui3-videoplayer-errorscreen-image,.yui3-videoplayer-startscreen-ybang,.yui3-videoplayer-loading,.yui3-videoplayer-endscreen-replay-button,.yui3-videoplayer-infoscreen-fb-icon,.yui3-videoplayer-carousel-left,.yui3-videoplayer-carousel-right{background:url('http://l.yimg.com/rx/builds/3.9.2.10498/assets/main-images.png') no-repeat}.yui3-videoplayer-startscreen-button{background-position:-0px -138px;width:55px;height:56px}.yui3-videoplayer-startscreen-button.hover{background-position:-0px -80px;width:55px;height:58px}.yui3-videoplayer-content.small .yui3-videoplayer-startscreen-button{background-position:-35px -347px;width:31px;height:32px}.yui3-videoplayer-content.small .yui3-videoplayer-startscreen-button.hover{background-position:-0px -347px;width:35px;height:35px}.yui3-videoplayer-errorscreen-image{background-position:-0px -194px;width:55px;height:53px}.yui3-videoplayer-startscreen-ybang{background-position:-0px -382px;width:34px;height:23px}.yui3-videoplayer-loading{background-position:-0px -0px;width:80px;height:80px}.yui3-videoplayer-content.ie .yui3-videoplayer-loading{background-position:-35px -379px;width:26px;height:26px}.yui3-videoplayer-content .yui3-videoplayer-endscreen-replay-button{background-position:-0px -405px;width:34px;height:20px}.yui3-videoplayer-infoscreen-fb-icon{background-position:-55px -80px;width:20px;height:20px}.yui3-videoplayer-carousel-container .yui3-videoplayer-carousel-left{background-position:-0px -247px;width:40px;height:50px}.yui3-videoplayer-carousel-container .yui3-videoplayer-arrow-container .yui3-videoplayer-carousel-left:hover{background-position:-40px -247px;width:40px;height:50px}.yui3-videoplayer-carousel-container .yui3-videoplayer-carousel-right{background-position:-40px -297px;width:40px;height:50px}.yui3-videoplayer-carousel-container .yui3-videoplayer-arrow-container .yui3-videoplayer-carousel-right:hover{background-position:-0px -297px;width:40px;height:50px}.yui3-videoplayer-content{position:relative;width:100%;height:100%;overflow:hidden;font-family:Arial,Helvetica,sans-serif;font-size:16px;cursor:default;background-color:black}.yui3-videoplayer-content h3,.yui3-videoplayer-content p,.yui3-videoplayer-content label,.yui3-videoplayer-content span,.yui3-videoplayer-content input{margin:0}.yui3-videoplayer-content h2:focus,.yui3-videoplayer-content h3:focus,.yui3-videoplayer-content h4:focus{outline:0}.yui3-videoplayer-yvap{position:absolute;top:0;left:0;width:100%;height:100%}.yui3-videoplayer-content a{color:#6cc5fd}.yui3-videoplayer-content a:hover{color:white}.yui3-videoplayer-content input:focus{outline:0}.yui3-videoplayer-video{position:absolute;width:100%;height:100%;-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out}.yui3-videoplayer-video>video{margin:auto;position:absolute;top:0;right:0;bottom:0;left:0}.yui3-videoplayer-loading{position:absolute;top:50%;left:50%;margin-top:-40px;margin-left:-40px;-moz-opacity:.30;opacity:.30;filter:alpha(opacity=30);-webkit-animation:yui3-videoplayer-spinner .6s infinite linear;-moz-animation:yui3-videoplayer-spinner .6s infinite linear}@-webkit-keyframes yui3-videoplayer-spinner{from{-webkit-transform:rotateZ(0deg)}to{-webkit-transform:rotateZ(360deg)}}@-moz-keyframes yui3-videoplayer-spinner{from{-moz-transform:rotateZ(0deg)}to{-moz-transform:rotateZ(360deg)}}.yui3-videoplayer-content.ie .yui3-videoplayer-loading{margin-left:-13px;margin-top:-13px}.yui3-videoplayer-main{width:100%;position:relative}.yui3-videoplayer-startscreen-container{width:100%;height:100%;background-color:black;position:absolute;cursor:pointer;-moz-opacity:0;opacity:0;filter:alpha(opacity=0)}.yui3-videoplayer-startscreen-container.yui3-videoplayer-show{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-startscreen-container.yui3-videoplayer-transition{-webkit-transition:all .5s ease-in-out;-moz-transition:all .5s ease-in-out;-o-transition:all .5s ease-in-out;transition:all .5s ease-in-out}.yui3-videoplayer-startscreen-container h3{color:white;font-size:1.2em}.yui3-videoplayer-startscreen-container p{margin-top:5px;color:#9ea1ab;line-height:1.2;font-size:.85em;letter-spacing:1px}.yui3-videoplayer-startscreen-bar-wrapper{position:absolute;width:100%;-webkit-box-shadow:0 0 8px 2px rgba(0,0,0,0.3);-moz-box-shadow:0 0 8px 2px rgba(0,0,0,0.3);background:#000;background:rgba(0,0,0,0.8)}.yui3-videoplayer-content.legacy .yui3-videoplayer-startscreen-bar-wrapper{background:black}.yui3-videoplayer-transition{-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out}.yui3-videoplayer-startscreen-bar{position:relative;width:inherit;padding:0;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;min-height:75px}.yui3-videoplayer-startscreen-bar-right{position:relative}.yui3-videoplayer-content.noybang .yui3-videoplayer-startscreen-bar-right{padding-right:0}.yui3-videoplayer-startscreen-image{position:absolute;left:50%;top:50%;display:none}.yui3-videoplayer-content .yui3-videoplayer-startscreen-title{-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out;font-size:20px;font-weight:bold;padding:6px 170px 0 75px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.yui3-videoplayer-startscreen-title-wrapper{min-height:65px;display:-webkit-box;display:-moz-box;display:box;-webkit-box-align:center;-moz-box-align:center;box-align:center;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.yui3-videoplayer-content.small .yui3-videoplayer-startscreen-title{font-size:14px;padding:5px 50px 0 40px}.yui3-videoplayer-content.small .yui3-videoplayer-startscreen-title-wrapper{min-height:35px}.yui3-videoplayer-content.medium .yui3-videoplayer-startscreen-title{padding-right:75px}.yui3-videoplayer-content .yui3-videoplayer-startscreen-desc{-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out;padding:0 75px 15px 75px}.yui3-videoplayer-content.small .yui3-videoplayer-startscreen-desc{padding:0 40px 0 40px}.yui3-videoplayer-startscreen-button{display:inline-block;position:absolute;left:10px;top:8px;-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out;-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-startscreen-button.hover{-moz-opacity:0;opacity:0;filter:alpha(opacity=0)}.yui3-videoplayer-content.small .yui3-videoplayer-startscreen-button{top:5px;left:5px}.yui3-videoplayer-content.small .yui3-videoplayer-startscreen-button.hover{top:4px;left:3px}.yui3-videoplayer-startscreen-container:hover .yui3-videoplayer-startscreen-button{-moz-opacity:0;opacity:0;filter:alpha(opacity=0)}.yui3-videoplayer-startscreen-container:hover .yui3-videoplayer-startscreen-button.hover{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-startscreen-container:hover .yui3-videoplayer-startscreen-title{color:#34c4ff}.yui3-videoplayer-startscreen-ybang{display:inline-block;position:absolute;top:24px;right:10px}.yui3-videoplayer-content.small .yui3-videoplayer-startscreen-ybang{top:8px;width:33px}.yui3-videoplayer-content.medium .yui3-videoplayer-startscreen-ybang{top:23px;width:33px}.yui3-videoplayer-content.noybang .yui3-videoplayer-startscreen-ybang{display:none}.yui3-videoplayer-errorscreen-container{width:100%;position:absolute;display:block;color:white;height:100%;background-color:black}.yui3-videoplayer-errorscreen-wrapper{position:absolute;background-color:black;text-align:center;display:block;vertical-align:middle;top:50%;margin-top:-55px;width:100%}.yui3-videoplayer-content .yui3-videoplayer-errorscreen-title{margin-top:10px;line-height:1.2;font-size:16px}.yui3-videoplayer-content.small .yui3-videoplayer-errorscreen-title{line-height:1;font-size:12px}.yui3-videoplayer-content .yui3-videoplayer-errorscreen-desc{font-size:16px;margin-top:5px;text-align:center}.yui3-videoplayer-content .yui3-videoplayer-errorscreen-type-code{text-align:center;color:#777;font-size:12px;font-weight:bold;margin-top:3px;position:absolute;right:0;bottom:0;padding:3px;background-color:black}.yui3-videoplayer-content.small .yui3-videoplayer-errorscreen-desc{font-size:12px}.yui3-videoplayer-errorscreen-image{display:inline-block}.yui3-videoplayer-infoscreen-container{width:100%;height:100%;position:absolute;color:white;-moz-opacity:0;opacity:0;filter:alpha(opacity=0);-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out}.yui3-videoplayer-infoscreen-container.yui3-videoplayer-show{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-infoscreen-tint{width:100%;height:100%;position:absolute;background-color:black}.yui3-videoplayer-infoscreen-top{position:absolute;width:100%}.yui3-videoplayer-infoscreen-left{display:inline-block;margin-left:15px;zoom:1;*display:inline}.yui3-videoplayer-infoscreen-right{display:inline-block;vertical-align:top;margin-left:15px;zoom:1;*display:inline}.yui3-videoplayer-content .yui3-videoplayer-infoscreen-now-playing{margin-left:15px;margin-top:10px;padding-bottom:5px;font-weight:bold;font-size:.9em}.yui3-videoplayer-infoscreen-title{overflow:hidden}.yui3-videoplayer-content.small .yui3-videoplayer-infoscreen-title{font-size:.8em}.yui3-videoplayer-content .yui3-videoplayer-infoscreen-desc{font-size:.75em;color:#aaa;margin-top:5px;overflow:hidden}.yui3-videoplayer-content.small .yui3-videoplayer-infoscreen-desc{font-size:.6em}.yui3-videoplayer-infoscreen-image-link{position:relative;border:3px solid #61cbff;display:block;cursor:pointer}.yui3-videoplayer-infoscreen-image{position:relative;background-color:black;display:block}.yui3-videoplayer-infoscreen-share{margin-top:7px;border-spacing:3px;width:100%}.yui3-videoplayer-content.small .yui3-videoplayer-infoscreen-share{display:none}.yui3-videoplayer-infoscreen-share td{font-size:12px;white-space:pre;padding-top:3px}.yui3-videoplayer-infoscreen-link-text-box-td,.yui3-videoplayer-infoscreen-embed-text-box-td{width:100%;padding-left:3px}.yui3-videoplayer-infoscreen-link-text-box,.yui3-videoplayer-infoscreen-embed-text-box{background-color:black;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;border-bottom:1px solid #333;border-right:1px solid #333;border-top:0;border-left:0;padding:2px 5px;width:100%;color:#aaa;font-size:11px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box box-sizing:border-box;-webkit-transition:background-color .5s,color .5s;-moz-transition:background-color .5s,color .5s;-o-transition:background-color .5s,color .5s;transition:background-color .5s,color .5s}.yui3-videoplayer-infoscreen-link-text-box:hover,.yui3-videoplayer-infoscreen-embed-text-box:hover{background-color:#222;color:#ccc}.yui3-videoplayer-infoscreen-link-text-box::-moz-selection,.yui3-videoplayer-infoscreen-embed-text-box::-moz-selection{color:black!important;background:#6cc5fd!important}.yui3-videoplayer-infoscreen-link-text-box::selection,.yui3-videoplayer-infoscreen-embed-text-box::selection{color:black!important;background:#6cc5fd!important}.yui3-videoplayer-infoscreen-fb-link{margin-top:5px;display:inline-block;text-decoration:none}.yui3-videoplayer-content.small .yui3-videoplayer-infoscreen-fb-link{display:none}.yui3-videoplayer-infoscreen-fb-icon{display:inline-block}.yui3-videoplayer-content .yui3-videoplayer-infoscreen-fb-share{padding:0;margin-top:3px;vertical-align:top;display:inline-block;font-size:12px;color:white;margin-left:5px}.yui3-videoplayer-content.legacy .yui3-videoplayer-infoscreen-fb-share{background-color:black}.yui3-videoplayer-content .yui3-videoplayer-infoscreen-closed-captions-complaint-link{text-align:center;color:#20bcfa;font-size:12px;font-weight:bold;margin-top:3px;position:absolute;right:0;bottom:0;padding:5px;background-color:black;text-decoration:none}.yui3-videoplayer-content .yui3-videoplayer-detailscreen-container p{padding:0 15px}.yui3-videoplayer-content .yui3-videoplayer-detailscreen-profile-log-link{position:absolute;right:20px;bottom:8px;color:#aaa;font-size:12px;font-weight:bold;cursor:pointer;font-style:italic}.yui3-videoplayer-content .yui3-videoplayer-detailscreen-profile-log-link:hover{color:#aaa}.yui3-videoplayer-detailscreen-container{position:absolute;color:white;right:-300px;z-index:9998;top:5px;-webkit-transition:all .5s ease-out;-moz-transition:all .5s ease-out;-o-transition:all .5s ease-out;transition:all .5s ease-out;-moz-opacity:0;opacity:0;filter:alpha(opacity=0)}.yui3-videoplayer-detailscreen-container.yui3-videoplayer-show{right:5px;-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-detailscreen-wrapper{width:inherit;position:relative;vertical-align:middle;text-align:right;font-family:monospace}.yui3-videoplayer-detailscreen-table-wrapper{display:inline-block;text-align:center;overflow-y:auto;overflow-x:hidden;height:200px;background:#000;background:rgba(0,0,0,0.6);border-radius:4px 0 0 4px;padding:0 10px 6px 10px;width:300px;border:2px solid white;position:relative;-webkit-box-shadow:0 0 8px 2px rgba(0,0,0,0.3);-moz-box-shadow:0 0 8px 2px rgba(0,0,0,0.3)}.yui3-videoplayer-content.legacy .yui3-videoplayer-detailscreen-table-wrapper{background:black}.yui3-videoplayer-detailscreen-details-table{float:right}.yui3-videoplayer-detailscreen-details-table td.title{font-size:10px;text-align:left;color:#61cbff;text-align:center;padding:5px 0 3px 0}.yui3-videoplayer-detailscreen-details-table td.label{color:white;font-size:10px;text-align:right;white-space:pre}.yui3-videoplayer-detailscreen-details-table td.value{color:#ccc;font-size:10px;text-align:left;padding-left:5px}.yui3-videoplayer-detailscreen-details-table-body canvas{cursor:pointer}.yui3-videoplayer-content .yui3-videoplayer-detailscreen-container .close{position:absolute;top:5px;right:20px;text-align:center}.yui3-videoplayer-hotkeyoverlay-title{font-size:1.2em;color:#6cc5fd}.yui3-videoplayer-hotkeyoverlay-container{position:absolute;width:100%;text-align:center;top:50%;margin-top:-110px;z-index:9999;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-o-transition:all .3s ease-out;transition:all .3s ease-out;-moz-opacity:0;opacity:0;filter:alpha(opacity=0)}.yui3-videoplayer-hotkeyoverlay-container.yui3-videoplayer-show{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-hotkeyoverlay-table{margin-top:10px}.yui3-videoplayer-hotkeyoverlay-table td{padding:1px}.yui3-videoplayer-hotkeyoverlay-table td.label{color:#6cc5fd;padding-right:10px}.yui3-videoplayer-hotkeyoverlay-table td.value{font-style:italic}.yui3-videoplayer-hotkeyoverlay-table-wrapper{display:inline-block;background:#000;background:rgba(0,0,0,0.8);padding:30px;color:white;border-radius:4px;border:2px solid white;position:relative;-webkit-box-shadow:0 0 8px 2px rgba(0,0,0,0.3);-moz-box-shadow:0 0 8px 2px rgba(0,0,0,0.3);zoom:1;*display:inline}.yui3-videoplayer-content.legacy .yui3-videoplayer-hotkeyoverlay-table-wrapper{background:black}.yui3-videoplayer-endscreen-container{position:relative;-moz-opacity:0;opacity:0;filter:alpha(opacity=0);background-color:#000;height:100%;font-family:HelveticaNeue,Helvetica,Arial,sans-serif;text-align:center;box-sizing:border-box}.yui3-videoplayer-endscreen-container.show{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-endscreen-replay{cursor:pointer;position:relative;z-index:3;display:inline-block;zoom:1;*display:inline;height:23px}.yui3-videoplayer-content .yui3-videoplayer-endscreen-replay-button{display:inline-block;zoom:1;*display:inline;margin:0 5px}.yui3-videoplayer-content .yui3-videoplayer-endscreen-replay-title{display:inline-block;margin:-2px 5px 0 0;*margin-top:-3px;padding:3px 0 6px 2px;vertical-align:top;font-size:12px;line-height:14px;color:#075be9;font-weight:bold;text-transform:lowercase}.yui3-videoplayer-content.small .yui3-videoplayer-endscreen-replay-title{display:none}.yui3-videoplayer-endscreen-watched .yui3-videoplayer-endscreen-watched-text{color:#2a48e0;padding-bottom:6px;font-weight:bold;font-size:12px}.yui3-videoplayer-endscreen-watched .yui3-videoplayer-endscreen-title{color:#2a48e0;margin:5px 0;max-height:45px;font-size:14px;line-height:15px;text-overflow:ellipsis;overflow:hidden}.yui3-videoplayer-endscreen-watched .yui3-videoplayer-endscreen-provider{color:#4e93a1;float:left;font-size:12px;max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;*width:120px}.yui3-videoplayer-endscreen-watched .yui3-videoplayer-endscreen-duration{font-size:12px;float:right;color:#abaeb7}.yui3-videoplayer-content.small .yui3-videoplayer-endscreen-watched .yui3-videoplayer-endscreen-title{margin:5px 0 1px 0;line-height:16px;white-space:nowrap}.yui3-videoplayer-content.small .yui3-videoplayer-endscreen-watched .yui3-videoplayer-endscreen-provider{max-width:70px;font-size:11px}.yui3-videoplayer-content.small .yui3-videoplayer-endscreen-watched .yui3-videoplayer-endscreen-duration{font-size:11px}.yui3-videoplayer-controlsContent{position:absolute;width:100%;height:100%}.yui3-videoplayer-controls-wrapper{position:absolute;width:100%;height:100%}.yui3-videoplayer-controls-buttons{position:absolute}.yui3-videoplayer-controls-title{position:absolute}.yui3-videoplayer-controls-cover{position:absolute;width:100%;height:100%;background-color:black;top:0;left:0}.yui3-videoplayer-content .close{position:absolute;top:5px;right:5px;font-size:10px;color:#333;cursor:pointer;font-family:Arial;background-color:white;border-radius:8px;width:17px;height:17px;vertical-align:middle;font-weight:bold;text-decoration:none;padding:0;border:0}.yui3-videoplayer-content .close:hover{background-color:#61cbff;color:black}.yui3-videoplayer-carousel-container{position:relative;height:inherit;background:0;overflow:hidden;padding:0;height:100%;background:0;padding:0;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}.yui3-videoplayer-carousel-viewport{position:relative;-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;-o-transition:all .3s ease-in-out;transition:all .3s ease-in-out;*width:9999px;height:100%;margin:25px auto}.yui3-videoplayer-carousel-viewport.touch,.yui3-videoplayer-carousel-viewport.touch li{-webkit-transition:none;-moz-transition:none;-o-transition:color 0 ease-in;transition:none;-webkit-user-select:none}.yui3-videoplayer-content.medium .yui3-videoplayer-carousel-viewport,.yui3-videoplayer-content.small .yui3-videoplayer-carousel-viewport{margin-left:20px}.yui3-videoplayer-carousel-container.yui3-videoplayer-enabled .yui3-videoplayer-carousel-viewport{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-carousel-viewport li{display:inline-block;zoom:1;*display:inline;-webkit-transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .3s ease-in-out;-moz-opacity:.60;opacity:.60;filter:alpha(opacity=60);position:relative}.yui3-videoplayer-carousel-container li.load,.yui3-videoplayer-carousel-viewport li.load:hover{cursor:pointer;-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-carousel-viewport img{display:block;filter:alpha(opacity=100)}.card-m .yui3-videoplayer-content.large img,.card-m .yui3-videoplayer-content.medium img{width:190px;height:107px}.card-m .yui3-videoplayer-content.small img{width:125px;height:71px}.yui3-videoplayer-carousel-viewport-item-play{position:absolute;left:0;bottom:0}.yui3-videoplayer-carousel-title{color:#34c4ff;font-weight:bold;margin-left:2%;width:96%;text-align:center;position:absolute;bottom:7px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;-moz-opacity:0;opacity:0;filter:alpha(opacity=0);-webkit-transition:opacity .2s ease-in-out;-moz-transition:opacity .2s ease-in-out;-o-transition:opacity .2s ease-in-out;transition:opacity .2s ease-in-out}.yui3-videoplayer-carousel-title.yui3-videoplayer-show{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-content.medium .yui3-videoplayer-carousel-title{font-size:12px;margin-top:2px}.yui3-videoplayer-content.small .yui3-videoplayer-carousel-title{font-size:12px;margin-top:2px}.yui3-videoplayer-carousel-viewport-item-indicator{position:absolute;background-color:#21beff;padding:5px;color:white;top:0;left:0;font-size:12px;font-weight:bold;*filter:alpha(opacity=100)}.yui3-videoplayer-content.medium .yui3-videoplayer-carousel-viewport-item-indicator,.yui3-videoplayer-content.small .yui3-videoplayer-carousel-viewport-item-indicator{font-size:8px}.yui3-videoplayer-carousel-container li,.yui3-videoplayer-carousel-container li:hover{-moz-opacity:0;opacity:0;filter:alpha(opacity=0);float:left;position:absolute;overflow:hidden;-webkit-transition:all .2s ease-in-out;-moz-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.yui3-videoplayer-carousel-container .yui3-videoplayer-carousel-viewport-item-img{width:190px;height:107px}.yui3-videoplayer-content.small .yui3-videoplayer-endscreen-carousel-node .title{color:#2a48e0;margin:5px 0 1px 0;line-height:16px;max-height:33px}.yui3-videoplayer-content.small .yui3-videoplayer-endscreen-carousel-node .provider{font-size:11px;color:#4e93a1;max-width:88px}.yui3-videoplayer-content.small .yui3-videoplayer-endscreen-carousel-node .duration{font-size:11px;color:#abaeb7}.yui3-videoplayer-carousel-container .yui3-videoplayer-arrow-container{position:absolute;top:0;height:inherit;width:30px}.yui3-videoplayer-content .yui3-videoplayer-left-enabled .yui3-videoplayer-carousel-left,.yui3-videoplayer-content .yui3-videoplayer-right-enabled .yui3-videoplayer-carousel-right{-moz-opacity:1;opacity:1;filter:alpha(opacity=100);display:block;*zoom:1}.yui3-videoplayer-content.medium .yui3-videoplayer-carousel-container .yui3-videoplayer-arrow-container,.yui3-videoplayer-content.small .yui3-videoplayer-carousel-container .yui3-videoplayer-arrow-container{height:100px}.yui3-videoplayer-carousel-container .yui3-videoplayer-arrow{display:inline-block;position:absolute;margin-top:-30px;margin-left:-10px;-moz-opacity:0;opacity:0;filter:alpha(opacity=0);top:50%;display:none;cursor:pointer}.yui3-videoplayer-content .yui3-videoplayer-carousel-left{margin-left:0}.yui3-videoplayer-carousel-container .yui3-videoplayer-carousel-left-container{left:0}.yui3-videoplayer-carousel-container .yui3-videoplayer-carousel-right-container{right:0}.yui3-videoplayer-endscreen-container .yui3-videoplayer-endscreen-carousel-node,.yui3-videoplayer-endscreen-container .yui3-videoplayer-endscreen-blank-node,.yui3-videoplayer-endscreen-container .yui3-videoplayer-endscreen-watched-center-wrapper{width:100%;position:relative;height:100%;z-index:2}.yui3-videoplayer-endscreen-container .yui3-videoplayer-endscreen-watched-middle-wrapper{height:100%;margin:0 auto;width:200px;text-align:left}.yui3-videoplayer-endscreen-container .yui3-videoplayer-endscreen-watched{position:relative;top:50%}.yui3-videoplayer-endscreen-watched img{width:190px;height:107px;filter:alpha(opacity=100)}.yui3-videoplayer-endscreen-watched img:hover{cursor:pointer}.yui3-videoplayer-endscreen-container .yui3-videoplayer-arrow-container{background:0;bottom:0;margin:auto;-webkit-transition:all .3s ease-in-out;-moz-transition:all .3s ease-in-out;transition:all .3s ease-in-out}.yui3-videoplayer-endscreen-carousel-node p{margin:0;text-align:left}.yui3-videoplayer-endscreen-carousel-node .title{font-size:15px;overflow:hidden}.yui3-videoplayer-endscreen-carousel-node .provider{float:left;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.yui3-videoplayer-endscreen-carousel-node .duration{float:right}.yui3-videoplayer-endscreen-carousel-node .yui3-videoplayer-arrow-container .yui3-videoplayer-carousel-left{*margin:-25px 0 0 -15px}.yui3-videoplayer-endscreen-carousel-node .yui3-videoplayer-arrow-container .yui3-videoplayer-carousel-right{*margin:-25px 0 0 -25px}.yui3-videoplayer-content.large .yui3-videoplayer-endscreen-carousel-node li,.yui3-videoplayer-content.medium .yui3-videoplayer-endscreen-carousel-node li{width:190px;height:107px}.yui3-videoplayer-content.large .yui3-videoplayer-endscreen-carousel-node .metadata-container,.yui3-videoplayer-content.medium .yui3-videoplayer-endscreen-carousel-node .metadata-container{width:100%;height:100%;position:absolute;top:0;left:0;overflow:hidden;background:-moz-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,0.8) 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,rgba(0,0,0,0)),color-stop(100%,rgba(0,0,0,0.8)));background:-webkit-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,0.8) 100%);background:-o-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,0.8) 100%);background:-ms-linear-gradient(top,rgba(0,0,0,0) 0,rgba(0,0,0,0.8) 100%);background:linear-gradient(to bottom,rgba(0,0,0,0) 0,rgba(0,0,0,0.8) 100%);-moz-opacity:0;opacity:0;filter:alpha(opacity=0);-moz-transition:opacity .2s ease-in;-webkit-transition:opacity .2s ease-in;-o-transition:opacity .2s ease-in;transition:opacity .2s ease-in}.yui3-videoplayer-content.large .yui3-videoplayer-endscreen-carousel-node li.load:hover .metadata-container,.yui3-videoplayer-content.medium .yui3-videoplayer-endscreen-carousel-node li.load:hover .metadata-container{-moz-opacity:1;opacity:1;filter:alpha(opacity=100);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000',endColorstr='#a6000000',GradientType=0)}.yui3-videoplayer-content.large .yui3-videoplayer-endscreen-carousel-node .metadata,.yui3-videoplayer-content.medium .yui3-videoplayer-endscreen-carousel-node .metadata{width:170px\9;position:absolute;bottom:-84px;padding:5px 10px;color:#eee;-moz-transition:bottom .2s ease-in;-webkit-transition:bottom .2s ease-in;-o-transition:bottom .2s ease-in;transition:bottom .2s ease-in}.yui3-videoplayer-content.large .yui3-videoplayer-endscreen-carousel-node li.load:hover .metadata,.yui3-videoplayer-content.medium .yui3-videoplayer-endscreen-carousel-node li.load:hover .metadata{bottom:0;*bottom:-6px;*left:0}.yui3-videoplayer-content.large .yui3-videoplayer-endscreen-carousel-node .title,.yui3-videoplayer-content.medium .yui3-videoplayer-endscreen-carousel-node .title{margin-bottom:5px;line-height:17px;max-height:51px;*width:170px;*margin-left:0}.yui3-videoplayer-content.large .yui3-videoplayer-endscreen-carousel-node .provider,.yui3-videoplayer-content.medium .yui3-videoplayer-endscreen-carousel-node .provider{font-size:12px;color:#abaeb7;*filter:alpha(opacity=100);max-width:130px}.yui3-videoplayer-content.large .yui3-videoplayer-endscreen-carousel-node .duration,.yui3-videoplayer-content.medium .yui3-videoplayer-endscreen-carousel-node .duration{font-size:12px;color:#fff}.yui3-videoplayer-content.small .yui3-videoplayer-endscreen-carousel-node .metadata-container{width:125px}.yui3-videoplayer-content .yui3-videoplayer-playlist-carousel .yui3-videoplayer-carousel-container,.yui3-videoplayer-content .yui3-videoplayer-playlist-carousel h4{background-color:#000}.yui3-videoplayer-content .yui3-videoplayer-playlist-carousel .yui3-videoplayer-carousel-container li{margin:10px 0}.yui3-videoplayer-content .yui3-videoplayer-playlist-carousel .yui3-videoplayer-carousel-container li.load{-moz-opacity:.6;opacity:.6;filter:alpha(opacity=60)}.yui3-videoplayer-content .yui3-videoplayer-playlist-carousel .yui3-videoplayer-carousel-container li.load:hover{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}.yui3-videoplayer-opacity-0{-moz-opacity:0;opacity:0;filter:alpha(opacity=0)}.yui3-videoplayer-opacity-70{-moz-opacity:.7;opacity:.7;filter:alpha(opacity=70)}.yui3-videoplayer-opacity-80{-moz-opacity:.8;opacity:.8;filter:alpha(opacity=80)}.yui3-videoplayer-opacity-100{-moz-opacity:1;opacity:1;filter:alpha(opacity=100)}";
s.NAME="View";s.NS="view";s.ATTRS={screenSize:{value:"LARGE"},activeScreen:{value:undefined},activeOverlay:{value:undefined},state:{value:"INIT"},_skipFlashCheck:{value:false},startScreenCreated:{value:false}};s.PLAYLIST_CAROUSEL_DIMENSIONS={LARGE:{HEIGHT:150,IMAGE_HEIGHT:105,SPACING:20,MARGIN:3},MEDIUM:{HEIGHT:100,IMAGE_HEIGHT:63,SPACING:10,MARGIN:3},SMALL:{HEIGHT:100,IMAGE_HEIGHT:63,SPACING:10,MARGIN:3}};s.FACEBOOK_URL_TEMPLATE="http://www.facebook.com/sharer.php?t={title}&u={shareUrl}";s.CC_COMPLAINTS_URL_TEMPLATE="http://info.yahoo.com/legal/{region}/yahoo/cc/{lang}/";s.KEYS={SHIFT:16,CTRL:17,OPTION:18,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,M:77,QUESTION:191,ESC:27};var W=s.KEYS;s.GOLDEN_RATIO=16/9;s.SMALL_MAX_WIDTH=400;s.MEDIUM_MAX_WIDTH=550;e.extend(s,e.Base,{initializer:function(Y){this._model=Y.model;this._controller=Y.controller;var ak=e.Node.create("<style>"+s.CSS+"</style>");e.one("head").append(ak);this.controls=new H({model:this._model,controller:this._controller,view:this});},_createRenderers:function(){this.createVideoRenderer(this.videoBox);if(this._model.get("error")!==null){return false;}return true;},render:function(al){this._renderStartTime=new Date().getTime();this._node=al;this.contentBox=this.createNode("div","content");this.main=this.createNode("div","main");this.controlsContent=this.createNode("div","controlsContent");this.loading=this.createNode("div","loading");this.main.append(this.controlsContent);this.main.append(this.loading);this._addContentClasses();var ap=this,am=ap._model,ak=al.get("offsetHeight"),ao=ap.main,Y=ap.get("screenSize"),ar=am.get("carousel")?(ak-s.PLAYLIST_CAROUSEL_DIMENSIONS[Y].HEIGHT).toString()+"px":"100%",aq=ap.createNode("div","video"),au=0,an=ap.contentBox,at;ao.setStyle("height",ar);ap.contentBox.append(ap.main);al.appendChild(ap.contentBox);ap._model.set("height",ap.contentBox.get("offsetHeight"));ap._model.set("width",ap.contentBox.get("offsetWidth"));ap._model.set("adClientSize",{width:ap.contentBox.get("offsetWidth"),height:ap.contentBox.get("offsetHeight")});aq.setStyle("opacity",0.001);ao.appendChild(aq);ap.videoBox=aq;at=am.get("playerState");if(at===ab.ERROR){ap._displayErrorScreen();return;}else{if(!am.get("autoplay")&&at===ab.LOADED){this._handleLoadedState();}}setTimeout(function(){ap.controls.render(ap.controlsContent);ap._delayCreateRenderers();},5);ap._bindUI();am.set("isSpinnerShown",true);},_delayCreateRenderers:function(){var Y=this._model,ak;if(!this._createRenderers()){ak=new Date().getTime()-this._renderStartTime;Y.set("metrics.playerRenderLatency",ak);return;}ak=new Date().getTime()-this._renderStartTime;Y.set("metrics.playerRenderLatency",ak);this.set("state","RENDERED");},_addContentClasses:function(){var al=this._node,ak=this.contentBox,Y=this._model,am=e.UA.ie;if(al.get("offsetWidth")<=s.SMALL_MAX_WIDTH||al.get("offsetHeight")<=s.SMALL_MAX_WIDTH/s.GOLDEN_RATIO){this.set("screenSize","SMALL");ak.addClass("small");}else{if(al.get("offsetWidth")<=s.MEDIUM_MAX_WIDTH||al.get("offsetHeight")<=s.MEDIUM_MAX_WIDTH/s.GOLDEN_RATIO){this.set("screenSize","MEDIUM");ak.addClass("medium");}else{ak.addClass("large");}}if(am>0&&am<8){ak.addClass("legacy");}if(am===6){ak.addClass("ie6");}else{if(am===7){ak.addClass("ie7");}}if(am>0){ak.addClass("ie");}if(!Y.get("ybang")){ak.addClass("noybang");}},_fireAssetsRequestComplete:function(){if(this.get("state")==="LOADING"){e.fire("VideoPlayer.assetsRequestComplete");}},_hideVideoTag:function(){this._node.one(".yui3-videoplayer-video").setStyle("marginTop","-2000px");},_showVideoTag:function(){this._node.one(".yui3-videoplayer-video").setStyle("marginTop","0px");},createVideoRenderer:function(am){var an=this._controller,ak=this._model,al=an.getRendererClass(ak.get("rendererType")),Y=this._instantiateVideoRenderer(al,{model:ak,controller:an,skipFlashCheck:this.get("_skipFlashCheck")});Y.render(am);an.registerRenderer(Y);this.videoRenderer=Y;},_instantiateVideoRenderer:function(Y,ak){return new Y(ak);},_resizeAndPositionImage:function(Y,ak){var am=Y.get("src"),al=new Image();al.onload=function(){var ar=al.width,an=al.height,aq=ar/an,ap=ak.get("offsetWidth"),at=ak.get("offsetHeight"),ao=ap/at;if(aq>=ao){if(an>at){an=at;ar=at*aq;}}else{if(ar>ap){ar=ap;an=ap/aq;}}Y.set("width",ar);Y.set("height",an);Y.setStyle("marginLeft",(ar/-2)+"px");Y.setStyle("marginTop",(an/-2)+"px");Y.setStyle("display","block");};al.src=am;},unrenderPlugin:function(Y){this.videoBox.clear();},onPluginInstanceChange:function(Y){if(Y.oldVal){this.unrenderPlugin(Y.oldVal);}if(Y.newVal){this.renderPlugin(Y.newVal);}},_bindUI:function(){var Y=this._model,al=this._controller,ak=this;this._bindKeys();Y.after("isSpinnerShownChange",function(am){if(am.newVal===true){ak.loading.setStyle("display","block");}else{ak.loading.setStyle("display","none");}});Y.after("yvapStateChange",function(am){switch(am.newVal){case"adProgress":ak.videoBox.setStyle("opacity",1);break;case"adStart":if(Y.get("rendererType")==="html"){ak.videoBox.setStyle("opacity",1);}break;}},this);Y.after("isPlayingChange",function(am){if(am.newVal===true){ak.videoBox.setStyle("opacity",1);}});Y.before("playerStateChange",function(am){ak._playerStateChange(am);});Y.after("fullscreenChange",function(am){if(am.newVal){ak.set("activeScreen",undefined);}});Y.before("activeScreenStrChange",function(am){ak._activeScreenStrChange(am);});this.after("activeScreenChange",function(am){if(undefined===am.newVal){Y.set("activeScreenStr",undefined,{src:"internal"});}if(am.prevVal!==undefined){am.prevVal.destructor();}});this.after("activeOverlayChange",function(am){if(am.prevVal!==undefined){am.prevVal.destructor();}if(am.newVal!==undefined){am.newVal.render(ak.main);}});e.Global.on("VideoPlayer.Carousel.thumbnailClick",function(an){var am;if(an.plType=="endScreen"){am="es-vid-"+parseInt(an.index+1);}else{am="pc-vid-"+parseInt(an.index+1);}Y.fire("uiInteract",{source:am});if(Y.get("rendererType")=="html"){ak._showVideoTag();}ak._controller.playIndex(an.index,an.plType);});e.Global.on(["VideoPlayer.Carousel.navigationClick","VideoPlayer.Carousel.touch"],function(am){Y.fire("uiInteract",{source:am});
});},_activeScreenStrChange:function(an){var al=this._model,ao=this._controller,am=this,ak,Y;if(an.src==="internal"){return;}ak=am._node.one(".yui3-videoplayer-content");switch(an.newVal){case"info":if(al.get("infoscreen")){if(!am.prevPlayerState){am.prevPlayerState=al.get("playerState");}am._controller.pause();Y=new Z({model:al,view:am});if(ao._renderer){ao._renderer.setFullscreen(false);}Y.render(am.main);am.set("activeScreen",Y);}break;case undefined:if(am.prevPlayerState!=="paused"){am._controller.play();}am.prevPlayerState=undefined;am.set("activeScreen",undefined);break;default:break;}},_displayErrorScreen:function(){var ak=this._model,ao=ak.get("error"),an,am,al=c.ERROR.OLD_FLASH,Y;if(this._node&&ak.get("errorscreen")){Y=this._node.one(".yui3-videoplayer-content");an=Y.one(".yui3-videoplayer-video");am=new y({model:ak,view:this});if(ao.type===al.type&&ao.code===al.code){this.set("activeScreen",undefined);an.setStyle("opacity","1");am=null;}else{am.render(this.main);this.set("activeScreen",am);}}},_handleLoadedState:function(){var ak=this._model,Y=this.main;if(!ak.get("autoplay")&&!this.startScreen&&ak.get("startscreen")){this.startScreen=new a({model:ak,view:this});this.startScreen.render(Y);this.set("activeScreen",this.startScreen);this.set("startScreenCreated",true);}if(ak.get("carousel")&&!this.carousel){this.renderPlaylistCarousel();}},renderPlaylistCarousel:function(){var Y=this._model.get("playlist").get("mediaItems").toArray(),al=this.get("screenSize"),ak=Math.round(s.PLAYLIST_CAROUSEL_DIMENSIONS[al].IMAGE_HEIGHT*s.GOLDEN_RATIO),an=this.createNode("div","playlist-carousel");an.setStyle("width",this.contentBox.get("offsetWidth"));an.setStyle("height",s.PLAYLIST_CAROUSEL_DIMENSIONS[al].HEIGHT-20);this.contentBox.append(an);this.carousel=new f({view:this,mediaItems:Y,pltype:"default",showMetadata:false,dimensions:{itemWidth:ak,itemHeight:s.PLAYLIST_CAROUSEL_DIMENSIONS[al].IMAGE_HEIGHT,imageWidth:ak,imageHeight:s.PLAYLIST_CAROUSEL_DIMENSIONS[al].IMAGE_HEIGHT,spacing:s.PLAYLIST_CAROUSEL_DIMENSIONS[al].SPACING,carouselMargin:s.PLAYLIST_CAROUSEL_DIMENSIONS[al].MARGIN}});this.carousel.render(an);var am=this.createNode("h4","title","carousel");an.setStyle("height",s.PLAYLIST_CAROUSEL_DIMENSIONS[al].HEIGHT+20);this.contentBox.one(".yui3-videoplayer-carousel-viewport").delegate("mouseover",function(ar){var ao=ar.container.all("li"),aq=ar.currentTarget,ap=ao.indexOf(aq);am.set("innerHTML",Y[ap].title);am.addClass("yui3-videoplayer-show");},"li");this.contentBox.one(".yui3-videoplayer-carousel-viewport").delegate("mouseout",function(ao){am.removeClass("yui3-videoplayer-show");},"li");this.contentBox.append(am);this._model.fire("uiInteract",{source:"pc-view"});},_playerStateChange:function(ap){var ak=this._model,aq=this._controller,aw=aq.getStrings(),ao=this,av=ap.newVal,al=this.main,au,an,Y,am,ar,at;switch(av){case"loaded":this._handleLoadedState();break;case"preparing":break;case"prestarted":if(this.get("activeScreen")&&this.get("activeScreen").name!=="ErrorScreen"){this.set("activeScreen",undefined);}if(this.carousel){this.carousel.setIndicator(ak.get("playlistPosition"),aw.UP_NEXT.replace(":","").toUpperCase());}break;case"started":this.set("activeScreen",undefined);if(this.carousel){this.carousel.setIndicator(ak.get("playlistPosition"),aw.NOW_PLAYING.toUpperCase());}break;case"poststarted":au=this._model.get("playlistPosition");an=au+1;ar=this._model.get("playlist").items().item(an);if(this.carousel&&ar){this.carousel.setIndicator(an,aw.UP_NEXT.replace(":","").toUpperCase());}break;case"paused":this.set("activeScreen",undefined);break;case"error":this._displayErrorScreen();break;case"playbackComplete":au=this._model.get("playlistPosition");an=au+1;ar=this._model.get("playlist").items().item(an);if(ak.get("continuousPlay")&&ar){aq.playNext();}else{if(ak.get("endscreen")){am=this._node.one(".yui3-videoplayer-content");Y=new p({model:ak,view:this});Y.render(al);this.set("activeScreen",Y);this.videoBox.setStyle("opacity",0);}if(this._model.get("fullscreen")||this._model.get("rendererType")==="html"){aq.setFullscreen(false);}}break;}},_bindTouch:function(){var ak=null,Y=this;Y._node.on("touchstart",function(al){al.preventDefault();clearTimeout(ak);ak=setTimeout(function(){Y.openProfiler();},5000);});Y._node.on("touchend",function(){clearTimeout(ak);});},_bindKeys:function(){var ak=this._model,am=this,ap=[],an=false,Y=false,al=false,ao=[79,80,69,78,83,73,77,83,73,77];if(e.Node.DOM_EVENTS.key.eventDef!==undefined){e.Node.DOM_EVENTS.key.eventDef.KEY_MAP.shift=16;e.Node.DOM_EVENTS.key.eventDef.KEY_MAP.ctrl=17;e.Node.DOM_EVENTS.key.eventDef.KEY_MAP.space=32;e.Node.DOM_EVENTS.key.eventDef.KEY_MAP.left=37;e.Node.DOM_EVENTS.key.eventDef.KEY_MAP.up=38;e.Node.DOM_EVENTS.key.eventDef.KEY_MAP.right=39;e.Node.DOM_EVENTS.key.eventDef.KEY_MAP.down=40;e.Node.DOM_EVENTS.key.eventDef.KEY_MAP.m=77;e.Node.DOM_EVENTS.key.eventDef.KEY_MAP.esc=27;e.one("doc").on("key",function(aq){am.controls._play();},"space+shift");e.one("doc").on("key",function(aq){am.controls._volumeUp();},"up+ctrl+shift");e.one("doc").on("key",function(aq){am.controls._volumeDown();},"down+ctrl+shift");e.one("doc").on("key",function(aq){am.controls._nextVideo();},"right+ctrl+shift");e.one("doc").on("key",function(ar){am.set("activeOverlay",undefined);var aq=am.get("activeScreen");if(aq!==undefined&&aq.name==="InfoScreen"){aq._closeScreen();}},"esc");}e.one("doc").on("yui3-videoplayer|keypress",function(aq){var ar=aq.keyCode;if(ar===63){am.controls._hotkeyMenu();}});e.one("body").on("yui3-videoplayer|keydown",function(aq){var ar=aq.keyCode;switch(ar){case W.CTRL:an=true;break;case W.OPTION:Y=true;break;case W.SHIFT:al=true;break;}ap.push(ar);if(ap.length>ao.length){ap.shift();}if(this._node&&ap.toString()===ao.toString()){am.openDetailScreen();}});e.one("body").on("yui3-videoplayer|keyup",function(aq){var ar=aq.keyCode;switch(ar){case W.CTRL:an=false;break;case W.OPTION:Y=false;break;case W.SHIFT:al=false;break;case W.ESC:am.set("activeOverlay",undefined);
break;}});},openDetailScreen:function(){var ak=this,am=this.get("activeOverlay"),Y=this._model,al;if(!am||am.name!=="DetailScreen"){al=new u({model:Y,view:ak});this.set("activeOverlay",al);}},openProfiler:function(){var am="",Y=this._model,ao,an,al,ap,ak;am+="<p>Yahoo Video Player: "+Y.get("version")+"<p>";am+='<p><table border="1">';am+="<tr><td>Event</td><td>START</td><td>END</td><td>DIFF</td><td>QOS KEY</td></tr>";ak=this._model.get("profileData").items();e.each(ak,function(ar,aq,at){am+="<tr><td>"+ar.message+"</td><td>"+ar.startTime+"</td><td>"+ar.endTime+"</td><td>"+ar.timeDiff+"</td><td>"+ar.type+"</td></tr>";});am+="</table></p>";am+='<p><table border="1">';ak=this._model.get("profileData").items();for(al in e.UA){ap=e.UA[al];if(ap){am+="<tr><td>"+al+"</td><td>"+ap+"</td></tr>";}}am+="</table></p>";am+='<p><table border="1"><tr><td colspan="2">MediaObject Data</td></tr>';an=Y.get("currentMedia").toObject();e.each(an,function(ar,aq,at){if(typeof ar!=="object"){am+="<tr><td>"+aq+"</td><td>"+ar+"</td></tr>";}});am+="</table></p>";if(this._model.get("rendererType")==="flash"){ao=window.open();ao.document.write(am);}else{document.write(am);}},createNode:function(ao,ak,am){var Y={img:true,input:true},an=am?"-"+am:"",al;if(ao in Y){al=e.Node.create("<"+ao+' class="'+e.ClassNameManager.getClassName("videoplayer"+an,ak)+'"/>');}else{al=e.Node.create("<"+ao+' class="'+e.ClassNameManager.getClassName("videoplayer"+an,ak)+'"></'+ao+">");}return al;},_buildFbLink:function(am){var ap=this._controller.getStrings(),al=this._model.get("currentMedia"),ao=al.get("shareUrl"),an=this.createNode("a","fb-link",am),ak=this.createNode("span","fb-icon",am),Y=this.createNode("span","fb-share",am);if(ao){Y.set("innerHTML",ap.SHARE_ON_FACEBOOK);an.set("target","_blank");an.set("href",e.substitute(s.FACEBOOK_URL_TEMPLATE,{title:encodeURIComponent(al.get("title")),shareUrl:encodeURIComponent(ao)}));an.append(ak);an.append(Y);return an;}return false;},destructor:function(){this._model.detachAll();e.one("body").detach("yui3-videoplayer|*");}});e.namespace("VideoPlatform").View=s;var ab={BEGIN:"begin",INITIALIZED:"initialized",LOADING:"loading",LOADED:"loaded",PREPARING:"preparing",PREPARED:"prepared",PRESTARTED:"prestarted",STARTED:"started",POSTSTARTED:"poststarted",PAUSED:"paused",PLAYBACKCOMPLETE:"playbackComplete",ERROR:"error"};function d(){}d.prototype.log=function(Y,ak){};function ac(ak,Y){this.model=ak;this.controller=Y;}ac.NAME="BaseState";ac.prototype={activate:function(){},init:function(){},load:function(){},prepare:function(){},start:function(){},play:function(){},pause:function(){},seek:function(){},setFullscreen:function(Y){},playbackReadyHandler:function(){var Y=this.model,ak=this.controller;ak.updateDuration(Y.get("currentMedia"),ak._renderer.getDuration());},playbackPlayHandler:function(){var Y=ab.STARTED;this.controller._setState(Y);this.model.set("playerState",Y);},playbackPlayingHandler:function(){this.model.set("isPlaying",true);this.model.set("isWaiting",false);},playbackPausedHandler:function(){var Y=ab.PAUSED;this.controller._setState(Y);this.model.setAttrs({playerState:Y,isPlaying:false});},playbackProgressHandler:function(ak){var Y=(ak.currentTime)?Math.round(ak.currentTime):"";this.model.set("playbackPosition",Y);},mediaInfoUpdateHandler:function(Y){this.model.get("currentMedia").set("mediaInfo",Y.mediaInfo);},playbackSeekHandler:function(){this.model.set("isSeeking",true);},playbackSeekedHandler:function(){this.model.set("isSeeking",false);},playbackCompleteHandler:function(){this.controller._setState(ab.POSTSTARTED);},playbackErrorHandler:function(Y){this.controller.error(Y);},playbackWaitingHandler:function(Y){this.model.set("isWaiting",true);},bitrateChangeHandler:function(Y){this.model.set("bitrate",Y.bitrate);},resizeHandler:function(Y){this.model.set("adClientSize",{width:Y.width,height:Y.height});},adPluginReadyHandler:function(){this.model.set("yvapState","adPluginReady");},adStartHandler:function(){},adEndHandler:function(){},adCompleteHandler:function(){},adProgressHandler:function(){},adErrorHandler:function(){},adNoneHandler:function(){},adPluginMetricHandler:function(Y){this.model.set("adPluginMetric",Y.data);},adPluginRemovedHandler:function(){this.model.set("yvapState",A.Events.PLUGIN_REMOVED);},volumeChangeHandler:function(Y){this.model.set("volume",Y.details[0]);},muteChangeHandler:function(Y){this.model.set("mute",Y.details[0]);},fullscreenEnterHandler:function(){this.model.set("fullscreen",true);},fullscreenExitHandler:function(){this.model.set("fullscreen",false);},uiInteractHandler:function(Y){this.model.fire(Y);},toString:function(){return"{state "+this.constructor.NAME+"}";}};e.augment(ac,d);function F(ak,Y){F.superclass.constructor.apply(this,arguments);}F.NAME="BeginState";e.extend(F,ac,{activate:function(){this.model.setAttrs({isInitialized:false,isLoading:false,isLoaded:false,isPreparing:false,isPrepared:false,isStarted:false,hasError:false});},init:function(aq){var Y=this.model,ap=this.controller,an=ap.configErrors(aq),ao,al,ak,am;if(an.length){ao=an.join("\n");ap.error(new e.VideoPlatform.ErrorObject(c.ERROR.CONFIG.type,c.ERROR.CONFIG.code,this.constructor.NAME,ao,c.LEVEL.CRITICAL));}else{al=ap.filterObject(aq,b.INSTANCE_CONFIG_WHITELIST);ap.commitToModel(al,Y);if(!aq.YVAP||ap.getRendererType(e.UA)=="html"){Y.set("YVAPRequired",false);}am=al.playlist;if(am&&am.startVideo){Y.set("startVideo",am.startVideo);}else{if(am&&am.mediaItems){ak=am.mediaItems;if(ak.length>0){Y.set("startVideo",ak[0].id);}}}ap.cookieHandler=new I({model:Y});ap.cookieHandler.createAndLoadCookies();ap._setState(ab.INITIALIZED);Y.set("playerState",ab.INITIALIZED);}}});function E(ak,Y){E.superclass.constructor.apply(this,arguments);}E.NAME="InitializedState";e.extend(E,ac,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:false,isLoaded:false,isPreparing:false,isPrepared:false,isStarted:false,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false});
},load:function(ap){var ak=this,ao=ak.controller,Y=ak.model,am=Y.get("playlist"),an=new k({model:Y});function al(){an.stop(ai.CMS_Meta,"Playlist loaded");ao.setPlaylistPosition(0);if(Y.get("playerState")!==ab.ERROR){ao._setState(ab.LOADED);Y.set("playerState",ab.LOADED);}}ak.log("playlist size: "+am.items().size());if(am.get("id").length>0||am.items().size()>0){ao._setState(ab.LOADING);Y.set("playerState",ab.LOADING);ak.log("loading playlist...");an.start();ak.loadPlaylist(am,{success:al,failure:function(aq){ao.error(aq);}});}},loadPlaylist:function(al,at){var av=this.controller,Y=at.context||null,au=al.items(),ay,aq=this.model.get("autoplay"),aw=this.model.get("rendererType"),ax,ap=this.model,ao=this.constructor.NAME,ar="all";function an(){at.success.call(Y,al);}function ak(az){at.failure.call(Y,e.merge({type:c.ERROR.CMS_REQUEST.type},az));}function am(aB){var az;function aA(){if(typeof az!=="undefined"){return az;}for(var aD=0,aC=aB.length;aD<aC;aD++){var aE=aB[aD];if(aE.height>=ad.HD_HEIGHT_CONSTANT&&aE.width>=ad.HD_WIDTH_CONSTANT){return az=true;}}return az=false;}return aA;}if(al.get("id").length>0){av._cmsService.loadPlaylist(al.get("id"),0,0,{success:function(aA){var aD=aA.mediaItems,aC,aB,aE=ap.get("playlist"),az=aA.status;if(aD.length===0){aE.set("status",az);ak(new e.VideoPlatform.ErrorObject(c.ERROR.NO_PLAYLIST_CONTENT.type,az.code,ao,az.msg+"; playlistId "+aE.get("id"),c.LEVEL.CRITICAL));}else{al.set("totalLength",aA.total);al.set("totalRequested",av._cmsService.get("playlistCount"));for(aC=0;aC<aD.length;aC++){aB=aD[aC];aB.hdAvailable=am(aB.streams);if(!(aC===0&&(aq||aw==="html"))){delete aB.streams;delete aB.streamUrl;}if(aB.images){aB.images.large=aB.images.medium=aB.images.thumbnail;}au.add(aB);}an();}},failure:ak});}else{ay=au.item(0);ax=au.filter(function(az){return az.get("id");});if(ax.size()>0){if(!aq){ar="meta";}else{if(aq&&ax.size()>1){ar="multi";}}if(ap.get("rendererType")==="html"){ar="all";}av._cmsService.loadClips(ax,ar,{success:function(az){if(az){e.each(az,function(aC,aA){var aD=aC.id,aB=au.find(function(aE){return aD==aE.get("id");});if(aC.streams){aC.hdAvailable=am(aC.streams);}if(aB){e.Object.each(aC,function(aF,aE){var aG=aB.get(aE);if(e.Lang.isObject(aG)&&e.Lang.isObject(aF)){for(key in aF){if(!aG[key]){aG[key]=aF[key];}}}else{if(aG===undefined){if("streams"===aE||"streamUrl"===aE){if((aq||aw==="html")&&aB===ay){aB.set(aE,aF);}}else{aB.set(aE,aF);}}}});}});an();}else{ak(new e.VideoPlatform.ErrorObject(c.ERROR.NO_PLAYLIST_CONTENT.type,c.ERROR.NO_PLAYLIST_CONTENT.code,ao,"no clips found",c.LEVEL.CRITICAL));}},failure:ak});}else{an();}}}});function D(ak,Y){D.superclass.constructor.apply(this,arguments);}D.NAME="LoadingState";e.extend(D,ac,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:true,isLoaded:false,isPreparing:false,isPrepared:false,isStarted:false,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false});}});function aj(ak,Y){aj.superclass.constructor.apply(this,arguments);}aj.NAME="LoadedState";e.extend(aj,ac,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:false,isLoaded:true,isPreparing:false,isPrepared:false,isStarted:false,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false});if(this.model.get("autoplay")===false){this.model.set("isSpinnerShown",false);}},prepare:function(){var am=this.controller,Y=this.model,al=Y.get("currentMedia"),ak=this.controller._yvapRenderer;if(ak&&!ak.get("criticalError")){ak.setup();}am._setState(ab.PREPARING);Y.set("playerState",ab.PREPARING);am.getPrepareStrategy(al).call(am,al,{success:function(an){am.updateMediaAttrs(al,an);am._setState(ab.PREPARED);Y.set("playerState",ab.PREPARED);am.play();},failure:function(ao,an){if(an){am.updateMediaAttrs(al,an);}am.error(ao);},context:this});},play:function(){this.controller.prepare();}});function P(Y,ak){P.superclass.constructor.apply(this,arguments);}P.NAME="PreparingState";e.extend(P,ac,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:false,isLoaded:true,isPreparing:true,isPrepared:false,isStarted:false,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false});if(this.model.get("autoplay")===false){this.model.set("isSpinnerShown",true);}}});function R(Y,ak){R.superclass.constructor.apply(this,arguments);}R.NAME="PreparedState";e.extend(R,ac,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:false,isLoaded:true,isPreparing:false,isPrepared:true,isStarted:false,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false});var Y=this.model.get("endScreenVideos").items().size();if(Y>0){this.model.get("endScreenVideos").items().reset();}},play:function(){this.controller._setState(ab.PRESTARTED);},setFullscreen:function(Y){this.controller._renderer.setFullscreen(Y);}});function X(Y,ak){X.superclass.constructor.apply(this,arguments);}X.NAME="StartedState";e.extend(X,ac,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:false,isLoaded:true,isPreparing:false,isPrepared:true,isStarted:true,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false,isSpinnerShown:false});var al=this,Y=al.model,ao=Y.get("currentMedia"),aq=al.controller,ak=Y.get("continuousPlay"),ap=Y.get("playlistPosition"),an=Y.get("playlist").items().size(),am=Y.get("endScreenVideos").items().size();if(Y.get("endscreen")){if(am===0){if(((ak&&ap===an-1)||!ak)){if(ao.get("duration")>3){Y.after("playbackPositionChange",al.loadEndScreenContent,al);}else{}}else{}}else{}}else{}},loadEndScreenContent:function(){var ak=this,Y=ak.model,al=Y.get("currentMedia"),am=ak.controller;if(Y.get("playbackPosition")>3){Y.detach("playbackPositionChange",ak.loadEndScreenContent,ak);ak.loadEndScreenVideos(al,{success:function(an){Y.set("endScreenVideos",an);},failure:function(an){am.warn(an);}});}else{}},loadEndScreenVideos:function(ak,ap){var aq=ap.context||null,am=this.model,an=this.constructor.NAME,ao=this.controller,ar={success:function(au){var av=c.ERROR.NO_RELATED_CONTENT;
if("100"==au.status.code){al(at(au));}else{Y(new e.VideoPlatform.ErrorObject(av.type,av.code,an,"error loading related videos",c.LEVEL.WARNING));}},failure:function(au){Y(au);}};function al(au){ap.success.call(aq,au);}function Y(au){ap.failure.call(aq,au);}function at(au){am.get("endScreenVideos").items().reset();var az=am.get("endScreenVideos"),aw=az.items(),av;for(var ay=0,ax=0;ay<au.mediaItems.length;ay++){if("100"==au.mediaItems[ay].status.code||"101"==au.mediaItems[ay].status.code){av=au.mediaItems[ay];if(av.images){av.images.large=av.images.medium=av.images.thumbnail;}aw.add(av);}}return aw;}ao._cmsService.loadRelatedVideos(ak,ar);},pause:function(){this.controller._renderer.pause();},seek:function(Y){this.controller._renderer.seek(Y);},setFullscreen:function(Y){this.controller._renderer.setFullscreen(Y);},uiInteractHandler:function(Y){this.constructor.superclass.uiInteractHandler.call(this,Y);if(Y.source=="controlsInfoButton"){this.controller.toggleInfoScreen();}else{if(Y.source=="controlsCCButton"){this.controller.toggleClosedCaptions();}}},adStartHandler:function(al){var am=this.controller,ak=this.model,Y=false;if(ak.get("rendererType")==="flash"){this.pause();}ak.set("yvapData",al);ak.set("yvapState","adStart");ak.set("isSpinnerShown",Y);am.updateControls({seekbarVisible:false,altText:am.getStrings().ADVERTISEMENT,altTextVisible:al.adslug,altDuration:0,playEnable:false,fullscreenEnable:(al.scale)?al.scale:true,altCurrentTime:0,infoEnable:false,volumeEnable:(al.volume)?al.volume:true,playLoadAnimation:Y});},mediaInfoUpdateHandler:function(Y){this.model.get("currentMedia").set("mediaInfo",Y.mediaInfo);},prepare:function(){aj.prototype.prepare.apply(this,arguments);}});function C(Y,ak){C.superclass.constructor.apply(this,arguments);}C.NAME="PausedState";e.extend(C,ac,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:false,isLoaded:true,isPreparing:false,isPrepared:true,isStarted:true,isPlaying:false,isPaused:true,isSeeking:false,isCompleted:false,isError:false});},play:function(){this.controller._renderer.play();},seek:function(){X.prototype.seek.apply(this,arguments);},setFullscreen:function(Y){this.controller._renderer.setFullscreen(Y);},uiInteractHandler:function(Y){X.prototype.uiInteractHandler.call(this,Y);},adEndHandler:function(){this._resumePlayback();},adCompleteHandler:function(){this._resumePlayback();},adProgressHandler:function(Y){this.model.set("yvapData",Y);this.model.set("yvapState","adProgress");this.controller.updateControls({seekbarVisible:false,infoEnable:false,playEnable:false,altDuration:(Y.hasOwnProperty("duration"))?Y.duration:0,altCurrentTime:(Y.hasOwnProperty("position"))?Y.position:0});},adNoneHandler:function(){this.model.set("yvapState","adNone");this._resumePlayback();},adErrorHandler:function(ak){var Y=this.model,al=this.controller;Y.set("yvapData",ak);Y.set("yvapState","adError");this._resumePlayback();},mediaInfoUpdateHandler:function(Y){X.prototype.mediaInfoUpdateHandler.call(this,Y);},_resumePlayback:function(){var Y=this.model;if(Y.get("rendererType")==="html"){this.controller._returnVideoControl();}if(Y.get("yvapState")!=="adError"){Y.set("yvapState","adComplete");}this.controller.updateControls({seekbarVisible:true,altText:"",altTextVisible:false,altDuration:0,playEnable:true,fullscreenEnable:true,volumeEnable:true,infoEnable:true,altCurrentTime:0});this.play();},prepare:function(){aj.prototype.prepare.apply(this,arguments);}});function U(Y,ak){U.superclass.constructor.apply(this,arguments);}U.NAME="PlaybackCompleteState";e.extend(U,ac,{activate:function(){this.model.setAttrs({isInitialized:true,isLoading:false,isLoaded:true,isPreparing:false,isPrepared:true,isStarted:true,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:true,isError:false});},play:function(){this.model.set("playbackPosition",0);aj.prototype.prepare.apply(this,arguments);},setFullscreen:function(Y){this.controller._renderer.setFullscreen(Y);},prepare:function(){aj.prototype.prepare.apply(this,arguments);}});function M(Y,ak){M.superclass.constructor.apply(this,arguments);}M.NAME="ErrorState";e.extend(M,ac,{activate:function(){this.model.setAttrs({isError:true});},prepare:function(){aj.prototype.prepare.apply(this,arguments);}});function K(Y,ak){K.superclass.constructor.apply(this,arguments);}K.NAME="PreStartedState";e.extend(K,ac,{activate:function(){var al=this.controller,Y=this.model,ak=al._yvapRenderer;if(Y.get("rendererReady")===false){Y.after("rendererReadyChange",function(am){if(true===am.newVal){this.activate();}},this);return;}this.model.setAttrs({playerState:ab.PRESTARTED,isInitialized:true,isLoading:false,isLoaded:true,isPreparing:false,isPrepared:true,isStarted:true,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false});if(ak&&!ak.get("criticalError")){if(Y.get("rendererType")==="html"){al._suspendVideoControl();}ak.start();}else{this._resumePlayback();}},adStartHandler:function(ak){var al=this,Y=false;this.model.set("yvapData",ak);this.model.set("yvapState","adStart");this.model.set("isSpinnerShown",Y);this.controller.updateControls({seekbarVisible:false,altText:al.controller.getStrings().ADVERTISEMENT,altTextVisible:ak.adslug,altDuration:0,playEnable:false,fullscreenEnable:(ak.scale)?ak.scale:true,altCurrentTime:0,infoEnable:false,volumeEnable:(ak.volume)?ak.volume:true,playLoadAnimation:Y});},adEndHandler:function(){this._resumePlayback();},adCompleteHandler:function(){this._resumePlayback();},adNoneHandler:function(){this.model.set("yvapState","adNone");this._resumePlayback();},adProgressHandler:function(Y){this.model.set("yvapData",Y);this.model.set("yvapState","adProgress");this.controller.updateControls({seekbarVisible:false,infoEnable:false,playEnable:false,altDuration:(Y.hasOwnProperty("duration"))?Y.duration:0,altCurrentTime:(Y.hasOwnProperty("position"))?Y.position:0});},adErrorHandler:function(ak){var Y=this.model,al=this.controller;Y.set("yvapData",ak);Y.set("yvapState","adError");this._resumePlayback();
},_resumePlayback:function(){var al=this.controller,Y=this.model,ak=al._renderer;if(Y.get("rendererType")==="html"){this.controller._returnVideoControl();}if(Y.get("yvapState")!=="adError"){Y.set("yvapState","adComplete");}al.updateControls({seekbarVisible:true,altText:"",altTextVisible:false,altDuration:0,playEnable:true,fullscreenEnable:true,volumeEnable:true,infoEnable:true,altCurrentTime:0});ak.load(Y.get("currentMedia"));ak.play();},prepare:function(){aj.prototype.prepare.apply(this,arguments);}});function S(Y,ak){S.superclass.constructor.apply(this,arguments);}S.NAME="PostStartedState";e.extend(S,ac,{activate:function(){this.model.setAttrs({playerState:ab.POSTSTARTED,isInitialized:true,isLoading:false,isLoaded:true,isPreparing:false,isPrepared:true,isStarted:true,isPlaying:false,isPaused:false,isSeeking:false,isCompleted:false,isError:false});var Y=this.controller._yvapRenderer,ak=ab.PLAYBACKCOMPLETE;if(!Y||Y.get("criticalError")){this.controller._setState(ak);this.model.set("playerState",ak);}else{if(this.model.get("rendererType")==="html"){this.controller._suspendVideoControl();}Y.onVideoComplete();}},adStartHandler:function(ak){var al=this,Y=false;this.model.set("yvapData",ak);this.model.set("yvapState","adStart");this.model.set("isSpinnerShown",Y);this.controller.updateControls({seekbarVisible:false,altText:al.controller.getStrings().ADVERTISEMENT,altTextVisible:ak.adslug,altDuration:0,playEnable:false,fullscreenEnable:(ak.scale)?ak.scale:true,altCurrentTime:0,infoEnable:false,volumeEnable:(ak.volume)?ak.volume:true,playLoadAnimation:Y});},adEndHandler:function(){this._resumePlayback();},adCompleteHandler:function(){this._resumePlayback();},adNoneHandler:function(){this.model.set("yvapState","adNone");this._resumePlayback();},adProgressHandler:function(Y){this.model.set("yvapData",Y);this.model.set("yvapState","adProgress");this.controller.updateControls({seekbarVisible:false,infoEnable:false,playEnable:false,altDuration:(Y.hasOwnProperty("duration"))?Y.duration:0,altCurrentTime:(Y.hasOwnProperty("position"))?Y.position:0});},adErrorHandler:function(ak){var al=this.controller,Y=this.model;Y.set("yvapData",ak);Y.set("yvapState","adError");this._resumePlayback();},_resumePlayback:function(){var al=this.controller,Y=this.model,ak=ab.PLAYBACKCOMPLETE;if(Y.get("rendererType")==="html"){al._returnVideoControl();}if(Y.get("yvapState")!=="adError"){Y.set("yvapState","adComplete");}al.updateControls({seekbarVisible:true,altText:"",altTextVisible:false,altDuration:0,playEnable:true,fullscreenEnable:true,volumeEnable:true,infoEnable:true,altCurrentTime:0});al._setState(ak);Y.set("playerState",ak);},prepare:function(){aj.prototype.prepare.apply(this,arguments);}});function b(Y){this._m=Y;this._states={begin:new F(Y,this),initialized:new E(Y,this),loading:new D(Y,this),loaded:new aj(Y,this),preparing:new P(Y,this),prepared:new R(Y,this),started:new X(Y,this),paused:new C(Y,this),playbackComplete:new U(Y,this),error:new M(Y,this),prestarted:new K(Y,this),poststarted:new S(Y,this)};this._activeState=this._states.begin;if(this._m){this._m.setAttrs({guid:J.generateGuid(),rendererType:this.getRendererType(e.UA),isOffNetwork:!J.isYahooDomain(J.getHostName()),hostingData:e.Object.getValue(window,"YAHOO.VideoPlatform.PlayerHosting".split("."))||{},lang:e.config.lang||""});}this._cmsService=new e.VideoPlatform.LegoCMS({model:this._m});this._1u1s=new r();this._1u1s.on("disconnect",function(ak){this.pause();this.error(new e.VideoPlatform.ErrorObject(c.ERROR["1U1S"].type,c.ERROR["1U1S"].code,this.constructior.NAME,"disconnect received from 1u1s",c.LEVEL.CRITICAL));},this);this._1u1s.start(this._m);}b.NAME="Controller";b.INSTANCE_CONFIG_WHITELIST=["autoplay","bitrate","site","lang","region","pageSpaceId","comscoreC4","comscoreC6","playerSpaceId","reportingDomain","playlist","chromeless","rendererType","continuousPlay","YVAP","beacons","errorDisplayDuration","mute","volume","lms","ybang","carousel","endscreen","startscreen","errorscreen","infoscreen","expType","expName","startVideo","atlasEnv","CMS","expBucket","SAPI_CONF"];b.prototype={init:function(Y){this._activeState.init(Y);this.load();},load:function(ak,Y){this._activeState.load(ak,Y);},prepare:function(){this._activeState.prepare();},preparePlaylistPosition:function(Y){this.setPlaylistPosition(Y);this.prepare();},play:function(){this._activeState.play();},pause:function(){this._activeState.pause();},seek:function(Y){this._activeState.seek(Y);},setFullscreen:function(Y){this._activeState.setFullscreen(Y);},setVolume:function(ak){try{if(ak<0){ak=0;}if(ak>1){ak=1;}this._renderer.setVolume(ak);}catch(Y){}},setMute:function(Y){try{this._renderer.setMute(Y);}catch(ak){}},setPlaylistPosition:function(ak){var Y=this._m;this.pause();Y.set("playlistPosition",ak);Y.set("currentMedia",Y.get("playlist").items().item(ak));Y.set("playbackPosition",0);},playNext:function(){var Y=this._m.get("playlistPosition")+1,ak=this._m.get("playlist").items().size();if(this._m.get("continuousPlay")===true&&ak>Y){this.preparePlaylistPosition(Y);}},playIndex:function(am,ak){var ak=typeof ak!=="undefined"?ak:false,Y=this._m,al,an,ao;if(ak&&ak=="endScreen"){an=Y.get("endScreenVideos").items().item(am);ao=Y.get("playlist").items();am=Y.get("playlistPosition")+1;ao.add(an,am);}this.preparePlaylistPosition(am);},clearPlaylist:function(){var ak=ab.INITIALIZED,Y=this._m;this.pause();Y.get("playlist").items().clear();this._setState(ak);Y.set("playerState",ak);},addToPlaylist:function(ak){var Y=this._m;Y.get("playlist").items().add(ak);if(ab.INITIALIZED==Y.get("playerState")){this.load();}},toggleInfoScreen:function(){var Y=this._m,ak=Y.get("activeScreenStr"),al="info"==ak?undefined:"info";Y.set("activeScreenStr",al);},toggleClosedCaptions:function(){var Y=this._m,al=Y.get("showClosedCaptions"),ak=!al;Y.set("showClosedCaptions",ak);this.updateControls({ccShow:ak});},updateControls:function(Y){this._renderer.updateControls(Y);},getMediaFormats:function(Y){return[J.formats.M3U8,J.formats.MP4];
},warn:function(Y){this._m.set("warning",Y);},error:function(al){var ak=ab.ERROR,Y=this._m;Y.set("error",al);this.pause();this._setState(ak);Y.set("playerState",ak);},updateMediaAttrs:function(ak,Y){e.Object.each(Y,function(am,al){if(e.Lang.isUndefined(ak.get(al))){ak.set(al,am);}});},loadClips:function(al,ak,Y){var am=Y.context||null;this._cmsService.loadClips(al,ak,{success:function(an){Y.success.call(am,an);},failure:function(an){Y.failure.call(am,an);}});},commitToModel:function(am,Y){Y.setAttrs(am);if("playlist" in am){var al=am.playlist,ak=Y.get("playlist");ak.setAttrs(al);if("string"===typeof al.id&&al.id.length>0){}else{e.each(al.mediaItems,function(an){ak.items().add(an);});}}if(e.Lang.isNumber(e.UA.ios)||(e.UA.android>0)){Y.set("autoplay",false);}if(Y.get("chromeless")){Y.set("startscreen",false);Y.set("infoscreen",false);Y.set("errorscreen",false);Y.set("endscreen",false);}},filterObject:function(al,Y){var ak={};e.each(al,function(an,am){if(e.Array.indexOf(Y,am)>=0){ak[am]=an;}});return ak;},configErrors:function(ak){var al=[],Y=["pageSpaceId","comscoreC4"];if(e.Lang.isObject(ak)){e.each(Y,function(am){if(!e.Lang.isValue(ak[am])){al.push('missing required key: "'+am+'"');}});if("beacons" in ak){if(!e.Lang.isArray(ak.beacons)){al.push("config.beacons should be an Array i.e. [{},]");}}}else{al.push("config is not an object");}return al;},updateDuration:function(ak,Y){var al=isNaN(Y)?ak.get("duration")||NaN:Y;if(ak.get("isLive")||isNaN(al)){al=Number.POSITIVE_INFINITY;}this._m.set("duration",al);ak.set("duration",al);},getPrepareStrategy:function(am){var Y=am.get("status"),ao=am.get("streams"),ak=am.get("streamUrl"),al=Y&&Y.code?parseInt(Y.code,10):NaN,an;an=this._fetchStreamData;if((ao&&ao.length)||(ak&&ak.length)){an=this._alreadyPrepared;}if(!isNaN(al)&&al>=200){an=this._clipStatusNotPlayable;}return an;},_alreadyPrepared:function(ak,Y){Y.success.call(Y.context||null,{});},_clipStatusNotPlayable:function(am,al){var Y=am.get("status"),ak=this.constructor.NAME;al.failure.call(al.context||null,new e.VideoPlatform.ErrorObject(c.ERROR.STREAM_NOT_PLAYABLE.type,Y.code,ak,"clip not playable: "+Y.msg,c.LEVEL.CRITICAL),null);},_fetchStreamData:function(an,am){var aq=new e.VideoPlatform.MediaCollection([an]),al=this.constructor.NAME,ak=am.context||null;function ao(ar){am.success.call(ak,ar);}function Y(at,ar){am.failure.call(ak,at,ar);}var ap=new k({model:this._m});ap.start();this.loadClips(aq,"streams",{success:function(ar){ap.stop(ai.CMS_GetStreams,"Fetched stream data for clips");var at=ar[0];if(at&&at.status&&("100"==at.status.code||"101"==at.status.code)){ao(at);}else{Y(new e.VideoPlatform.ErrorObject(c.ERROR.STREAM_NOT_PLAYABLE.type,(at&&at.status)?at.status.code:c.ERROR.STREAM_NOT_PLAYABLE.code,al,(at&&at.status&&at.status.msg)?at.status.msg:"error loading content",c.LEVEL.CRITICAL),at);}},failure:function(ar){Y(ar,null);}});},_activeState:null,_setState:function(Y){if(Y!=this._m.get("playerState")){this._activeState=this._states[Y];this._activeState.activate();}return this._activeState;},_renderer:null,_yvapRenderer:null,registerRenderer:function(Y){this._addRendererListeners(Y);this._renderer=Y;if(this._m.get("YVAPRequired")===true){this._createYVAP();}this._m.set("rendererReady",true);},_addRendererListeners:function(Y){var ak=af;e.each([ak.PLAYBACK_READY,ak.PLAYBACK_PLAY,ak.PLAYBACK_PLAYING,ak.PLAYBACK_PAUSED,ak.PLAYBACK_PROGRESS,ak.PLAYBACK_SEEK,ak.PLAYBACK_SEEKED,ak.PLAYBACK_COMPLETE,ak.PLAYBACK_ERROR,ak.PLAYBACK_WAITING,ak.FULLSCREEN_ENTER,ak.FULLSCREEN_EXIT,ak.MUTE_CHANGE,ak.VOLUME_CHANGE,ak.UI_INTERACT,ak.MEDIA_INFO_UPDATE,ak.BITRATE_CHANGE,ak.PLAYER_RESIZE],function(al){Y.on(al,function(an){var am=al+"Handler";if(e.Lang.isFunction(this._activeState[am])){this._activeState[am](an);}},this);},this);},_suspendVideoControl:function(){var Y=this._renderer.suspendControl();this._m.set("videoPlaybackState",Y);},_returnVideoControl:function(){var Y=this._m.get("videoPlaybackState");if(Y){this._renderer.returnControl(Y);}},getRendererType:function(ak){var al=J.compareVersions,Y="flash",am="html";if(e.Lang.isNumber(ak.ios)||ak.android>0){return am;}if((navigator&&navigator.userAgent)&&((navigator.userAgent.indexOf("MSAppHost")>=0)||(/.+MSIE 10.+Windows NT.+WebView/i.test(navigator.userAgent)))){return am;}if((!this._isFlashVersionAtLeast(10,2))&&(al(ak.chrome,21)>=0||al(ak.ie,9)>=0||al(ak.safari,6)>=0)){return am;}return Y;},_isFlashVersionAtLeast:function(Y,al,ak){return e.SWFDetect.isFlashVersionAtLeast(Y,al,ak);},getRendererClass:function(Y){var ak={"flash":j,"html":g};return ak[Y];},_createYVAP:function(){var Y=new e.VideoPlatform.YVAP({model:this._m,controller:this,videoRenderer:this._renderer});this._yvapRenderer=Y;this.registerYVAP(Y);},registerYVAP:function(Y){var ak=e.VideoPlatform.YVAP.Events;e.each([ak.ADPLUGIN_READY,ak.AD_START,ak.AD_END,ak.AD_COMPLETE,ak.AD_ERROR,ak.AD_NONE,ak.AD_PROGRESS,ak.AD_PLUGIN_METRIC,ak.PLUGIN_REMOVED],function(al){Y.on(al,function(an){var am=al+"Handler";if(e.Lang.isFunction(this._activeState[am])){this._activeState[am](an);}},this);},this);},getStrings:function(){var Y=e.Object.getValue(window,"YAHOO.VideoPlatform.i18n".split("."));if(typeof Y==="undefined"){return[];}else{return Y;}}};b.prototype.constructor=b;e.augment(b,d);e.namespace("VideoPlatform").Controller=b;function k(){k.superclass.constructor.apply(this,arguments);}k.NAME="Timer";k.NS="Timer";k.ATTRS={};e.extend(k,e.Base,{initializer:function(Y){this._m=Y.model;},start:function(){this._start=(new Date()).getTime();},stop:function(Y,an){var am=this._m.get("profileData"),ak,al,ao;if(am){ak=(new Date()).getTime();al=ak-this._m.START_TIME;ao=ak-this._start;am.add({type:Y,message:an,timeDiff:ao,startTime:al-ao,endTime:al});}},restart:function(Y){this._start=Y;},getStartTime:function(){return this._start;},recordTime:function(Y,am,an,ak){var al=this._m.get("profileData");if(al){al.add({type:Y,message:am,timeDiff:an,startTime:ak,endTime:ak+an});}},destructor:function(){}});e.namespace("VideoPlatform").Timer=k;
function w(ak,Y){this._c=Y;this._m=ak;}w.prototype.play=function(){this._c.play();};w.prototype.pause=function(){this._c.pause();};w.prototype.seek=function(Y){this._c.seek(Y);};w.prototype.getDuration=function(){return this._m.get("duration");};w.prototype.getCurrentTime=function(){return this._m.get("playbackPosition");};w.prototype.setFullscreen=function(Y){this._c.setFullscreen(Y);};w.prototype.setVolume=function(Y){this._c.setVolume(Y);};w.prototype.getVolume=function(){return this._m.get("volume");};w.prototype.setMute=function(Y){this._c.setMute(Y);};w.prototype.getMute=function(){return this._m.get("mute");};w.prototype.getBitrate=function(){return this._m.get("bitrate");};e.namespace("VideoPlatform").ControlsAPI=w;function V(ak,Y){this._c=Y;this._m=ak;}V.prototype.get=function(){var Y=this._m.get("playlist");return Y.toObject();};V.prototype.setPosition=function(Y){this._c.preparePlaylistPosition(Y);};V.prototype.getPosition=function(Y){return this._m.get("playlistPosition");};V.prototype.clear=function(){this._c.clearPlaylist();};V.prototype.getSize=function(){return this._m.get("playlist").items().size();};V.prototype.addItem=function(Y){this._c.addToPlaylist(Y);};V.prototype.getItem=function(Y){var ak=null;if(e.Lang.isNumber(Y)){ak=this._m.get("playlist").get("mediaItems").item(Y);if(ak){ak=ak.toObject();}}return ak;};V.prototype.getCurrentItem=function(){return this.getItem(this.getPosition());};e.namespace("VideoPlatform").PlaylistAPI=V;function m(){}m.prototype._setupAPI=function(ak,Y){this._model=this._model||ak;this.publish(l.PLAYER_READY,{fireOnce:true});this.publish(l.PLAYER_RENDERED,{fireOnce:true});this.controls=new w(ak,Y);this.playlist=new V(ak,Y);ak.after("isSeekingChange",this._onSeekingChange,this);ak.after("playbackPositionChange",this._onPlaybackPositionChange,this);ak.after("durationChange",this._onDurationChange,this);ak.after("volumeChange",this._onVolumeChange,this);ak.after("muteChange",this._onMuteChange,this);ak.after("playerStateChange",this._onPlayerStateChange,this);ak.after("fullscreenChange",this._onFullscreenChange,this);ak.after("isPlaybackErrorChange",this._onPlaybackErrorChange,this);ak.after("yvapStateChange",this._onYVAPStateChange,this);ak.after("playlistPositionChange",this._onPlaylistPositionChange,this);ak.after("uiInteract",this._onUIInteract,this);};m.prototype._onSeekingChange=function(Y){if(Y.newVal===false&&Y.prevVal===true){this.fire(l.PLAYBACK_SEEK_COMPLETE);}};m.prototype._onVolumeChange=function(Y){this.fire(l.PLAYER_VOLUME_CHANGE,Y.newVal);};m.prototype._onFullscreenChange=function(Y){this.fire(l.PLAYER_FULLSCREEN_CHANGE,Y.newVal);};m.prototype._onMuteChange=function(Y){this.fire(l.PLAYER_MUTE_CHANGE,Y.newVal);};m.prototype._onPlaybackPositionChange=function(Y){this.fire(l.PLAYBACK_TIME_UPDATE,Y.newVal);};m.prototype._onDurationChange=function(Y){this.fire(l.DURATION_CHANGE,{duration:Y.newVal});};m.prototype._onBitrateChange=function(Y){this.fire(l.BITRATE_CHANGE,Y.newVal);};m.prototype._onPlaybackErrorChange=function(ak){var Y;if(ak.newVal===true){Y=this._model.get("error");this.fire(l.PLAYBACK_ERROR,new t({message:Y.msg,code:Y.code}));}};m.prototype._adProgressHandler=function(Y){if("position" in Y.newVal){this.fire(l.AD_PLAYBACK_PROGRESS,Y.newVal);}};m.prototype._onYVAPStateChange=function(ak){var Y=ak.newVal||"";switch(Y){case"adStart":this.fire(l.AD_PLAYBACK_START,this._model.get("yvapData"));break;case"adComplete":this.fire(l.AD_PLAYBACK_STOP);break;case"adProgress":this.fire(l.AD_PLAYBACK_PROGRESS,this._model.get("yvapData"));this._model.after("yvapDataChange",this._adProgressHandler,this);break;case"adError":this.fire(l.AD_ERROR);break;case"adNone":this.fire(l.AD_NONE);break;}if(ak.prevVal==="adProgress"&&ak.newVal!=="adProgress"){this._model.detach("yvapDataChange",this._adProgressHandler,this);}};m.prototype._onPlayerStateChange=function(al){var Y=al.newVal||"",ak;switch(Y){case ab.LOADED:this.fire(l.PLAYER_READY);this.fire(l.PLAYBACK_READY);break;case ab.PREPARED:break;case ab.STARTED:this.fire(l.PLAYBACK_START);break;case ab.PAUSED:this.fire(l.PLAYBACK_PAUSE);break;case ab.PLAYBACKCOMPLETE:this.fire(l.PLAYBACK_COMPLETE);break;case ab.ERROR:ak=this._model.get("error")||{};this.fire(l.PLAYER_ERROR,new t({message:ak.msg,code:""}));break;}};m.prototype._onPlaylistPositionChange=function(Y){this.fire("playlistPositionChange",{position:Y.newVal});};m.prototype._onUIInteract=function(Y){if(Y.source){this.fire(l.UI_INTERACT,{srcElement:Y.source});}};e.augment(m,e.EventTarget);e.namespace("VideoPlatform").API=m;e.namespace("VideoPlatform").API_ConfigObject=function(){return{pageSpaceId:null,playlist:{},lang:null,airplay:null,chromeless:null,continuousPlay:null,YVAP:{accountId:null,playContext:null,ruleSetId:null},volume:null,mute:null,site:null,region:null,jurisdiction:null,beacons:[],comscoreC4:null,comscoreC6:null,autoplay:null,ybang:true,carousel:false,expType:null,expName:null,expBucket:null,startVideo:"",atlasEnv:null};};e.namespace("VideoPlatform").API_Events={PLAYER_RENDERED:"render",PLAYER_READY:"playerReady",PLAYER_ERROR:"playerError",PLAYBACK_ERROR:"playbackError",PLAYER_VOLUME_CHANGE:"volumeChange",PLAYER_MUTE_CHANGE:"muteChange",PLAYBACK_READY:"playbackReady",PLAYBACK_START:"playbackStart",PLAYBACK_TIME_UPDATE:"playbackTimeUpdate",DURATION_CHANGE:"durationChange",BITRATE_CHANGE:"bitrateChange",PLAYBACK_PAUSE:"playbackPause",PLAYBACK_SEEK_COMPLETE:"playbackSeek",PLAYBACK_COMPLETE:"playbackComplete",PLAYER_FULLSCREEN_CHANGE:"fullscreenChange",AD_PLAYBACK_START:"adStart",AD_PLAYBACK_STOP:"adComplete",AD_PLAYBACK_PROGRESS:"adProgress",AD_NONE:"adNone",AD_ERROR:"adError",PLAYLIST_POSITION_CHANGE:"playlistPositionChange",UI_INTERACT:"uiInteract"};var l=e.VideoPlatform.API_Events;e.namespace("VideoPlatform").API_ErrorObject=function(Y){return e.merge({code:"",message:""},Y);};var t=e.VideoPlatform.API_ErrorObject;e.namespace("VideoPlatform").API_MediaObject=function(){return new e.VideoPlatform.MediaObject().toObject({});
};e.namespace("VideoPlatform").API_StreamObject=function(){return{callback:"",path:"",type:"",streamId:"",cdn:"",bitrate:"",isLive:"",width:"",height:"",playGUID:"",duration:""};};e.namespace("VideoPlatform").API_PlaylistObject=function(){return new G().toObject({});};function ah(Y){ah.superclass.constructor.apply(this,arguments);}ah.NAME="VideoPlayer";ah.NS="videoPlayer";ah.ATTRS={rendererType:{readOnly:true,getter:function(){return this._model.get("rendererType");}},spinnerTimeout:{value:"10",getter:function(Y){return Number(Y);}},playbackPlugin:{readOnly:true,getter:function(){var ak;try{ak=this._controller._renderer._yswf;}catch(Y){}finally{return ak;}}},rendered:{value:false}};e.extend(ah,e.Base,{initializer:function(Y){this._instanceConfig=Y;var ak=this._instanceConfig.autoplay;this._model=new O();if(ak==true){this._autoplayTimer(this._model);}this._controller=new b(this._model);this._view=new s({model:this._model,controller:this._controller});if(ak!=true){this._startScreenTimer(this._model);}this._metrics=new e.VideoPlatform.Metrics({model:this._model,controller:this._controller,view:this._view});this._setupAPI(this._model,this._controller);this._startSpinnerTimer(this._model);this._controller.init(Y);},render:function(ap){var ak=ap,al,an=this._model,aq=this._controller,ar=this._view,Y=new k({model:this._model});function ao(){ar.on("stateChange",am,this);Y.start();ar.render(al);}function am(at){if("RENDERED"==at.newVal){Y.stop(ai.VideoPlayer_RenderComplete,"player has completed the render phase");this.set("rendered",true);this.fire(l.PLAYER_RENDERED);ar.detach("stateChange",am);if(an.get("autoplay")===true){if(an.get("isLoaded")===true){aq.prepare();}else{an.once("isLoadedChange",function(){aq.prepare();},this);}}}}if(e.Lang.isString(ak)){e.on("available",function(){al=e.Node.one(ak);ao.call(this);},ak,this);}else{if(ak&&(ak.getDOMNode||e.Node.getDOMNode(ak))){al=ak;ao.call(this);}else{aq.error(new e.VideoPlatform.ErrorObject(c.ERROR.CONFIG.type,c.ERROR.CONFIG.code,this.constructor.NAME,"invalid parentNode",c.LEVEL.CRITICAL));}}return this;},setScreenConfig:function(ak,Y){this._model.set(ak,Y);},_startScreenTimer:function(ak){var Y=ak,al=new k({model:Y});al.start();this._view.once("startScreenCreatedChange",function(am){if(am.newVal===true){al.stop(ai.VP_INIT_TO_STARTSCREEN,"VideoPlayer init to StartScreen Rendered");delete al;}},this);},_startSpinnerTimer:function(am){var Y=am,ap=this._controller,an=this.constructor.NAME,al;function ao(){if(al!==null&&al!==undefined){clearInterval(al);al=null;}}function ak(){var aq=new e.VideoPlatform.ErrorObject(c.ERROR.SPINNER.type,c.ERROR.SPINNER.code,an,"ps="+Y.get("playerState")+";as="+Y.get("yvapState"),c.LEVEL.WARNING);ap.warn(aq);ao();}Y.on("isSpinnerShownChange",function(ar){var aq=this.get("spinnerTimeout")*1000;if(ar.newVal===true){al=setTimeout(ak,aq);}else{ao();}},this);},_autoplayTimer:function(al){var ak=al,ao=new k({model:ak});Y();ao.start();ak.once("YVAPRequiredChange",function(ar){if(ar.newVal===false){an();ak.detach("yvapStateChange",ap,this);}},this);function aq(){ao.stop(ai.VP_INIT_TO_START,"VideoPlayer init to Playback Start");delete ao;}function Y(){ak.once("yvapStateChange",ap,this);}function an(){ak.after("isPlayingChange",am,this);}function ap(ar){switch(ar.newVal){case A.Events.AD_START:aq();break;case A.Events.AD_NONE:case A.Events.AD_ERROR:an();break;}}function am(ar){if(ar.newVal===true){aq();ak.detach("isPlayingChange",am,this);}}}});e.augment(ah,m);e.namespace("VideoPlatform").VideoPlayer=ah;function c(Y,ak,am,al,an){this.type=Y||"";this.code=ak||"";this.src=am||"";this.message=al||"";this.level=an||c.LEVEL.WARNING;return this;}c.ERROR={CMS_REQUEST:{type:"400",code:"101"},CMS_RESPONSE:{type:"400",code:"405"},CMS_TIMEOUT:{type:"400",code:"408"},PLAYBACK:{type:"400",code:"100"},CONFIG:{type:"400",code:"300"},NO_FLASH:{type:"400",code:"200"},OLD_FLASH:{type:"400",code:"201"},NO_CONFIG:{type:"400",code:"300"},YUI_INTEGRATION_ERR:{type:"400",code:"301"},SPINNER:{type:"400",code:"305"},"1U1S":{type:"400",code:"401"},NO_CONTENT:{type:"500",code:"0"},STREAM_NOT_PLAYABLE:{type:"501",code:"0"},NO_PLAYLIST_CONTENT:{type:"502",code:"0"},NO_RELATED_CONTENT:{type:"503",code:"0"},NO_POPULAR_CONTENT:{type:"504",code:"0"},FLASH_BLOCKED:{type:"200",code:"202"}};c.LEVEL={CRITICAL:"critical",WARNING:"warning"};e.namespace("VideoPlatform").ErrorObject=c;var J={validateUrl:function(ak){var am=this.removeExtraLineChars(ak),Y=true,al;if(this.isUrl(am)){al=am.split(this.isUrlMatch(am)[0])[1];if(this.isScriptable(al)||this.isExecutable(al)){Y=false;}}else{Y=false;}return Y;},isAlphaNumeric:function(Y){return !(new RegExp(/[^a-z0-9\,\._\-]/gi).test(Y));},isExecutable:function(Y){return new RegExp(/(\:|\;|\"|\'|\(|\)|<|>| )/gi).test(Y);},isUrl:function(Y){return new RegExp(/htt(p:\/\/|ps:\/\/)/).test(Y);},isUrlMatch:function(Y){var al=new RegExp(/htt(p:\/\/|ps:\/\/)/).exec(Y),ak=[];if(al){ak=al;}return ak;},isScriptable:function(Y){return new RegExp(/(asfunction:|javascript:|event:|vbscript:)/gi).test(Y);},removeExtraLineChars:function(Y){var ak=Y;ak=ak.split(" ").join("");ak=ak.split("\t").join("");ak=ak.split("\n").join("");ak=ak.split("\r").join("");return ak;},generateGuid:function(Y){var ak=Y||22,an="",al,am="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789._";for(al=0;al<ak;al++){an+=am.charAt(Math.floor(Math.random()*am.length));}return an;},generateHashCode:function(ap,am,ao){var aq=typeof ap,an=0,al,Y,ak;if(aq==="number"){ap+="";}else{if(aq!=="string"){return"invalid-71";}}Y=ap.length;if(Y===0){return"invalid-72";}for(ak=0;ak<Y;++ak){al=ap.charCodeAt(ak);an=((an<<5)-an)+al;an&=an;}if(an<0){an=Y+""+an;}else{an=an+"-"+Y;}am=((typeof am!=="string")&&(typeof am!=="number"))?"":am+"-";ao=((typeof ao!=="string")&&(typeof ao!=="number"))?"":"-"+ao;return am+an+ao;},determineWindowMode:function(an,ak){var ao="opaque";if(an.flashMajor<"10"){return ao;}if(an.flashMinor<"2"){return ao;}switch(an.os){case"macintosh":var am=/Mac OS X\s+([0-9_\.]+)/i,al=am.exec(ak),Y=(RegExp.$1).split(/[_.]/g);
if(Y[0]>=10&&Y[1]>=6){if(an.chrome>0||an.gecko>=4||an.safari>=530){ao="direct";}}break;case"windows":break;}return ao;},getHostName:function(){var al,Y;if(window.top!=window.self){try{Y=window.top.location.href;}catch(ak){}if(!e.Lang.isValue(Y)){Y=document.referrer;}}else{if(J.isValidHostDomain(window.location.href,window.document.URL)){Y=window.location.href;}}al=Y;return al;},isValidHostDomain:function(al,ak){var am,Y;if(al==null||al.length==0||ak==null||ak.length==0){return false;}am=J.parseUrl(al)["host"];Y=J.parseUrl(ak)["host"];return am==Y;},parseUrl:function(ak){var Y={url:"",protocol:"",host:"",path:"",file:""};if(ak!=null||ak.length>0){var al=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/;var am=ak.match(al);if(am!=null){Y["url"]=am[0]==undefined?"":am[0];Y["protocol"]=am[1]==undefined?"":am[1];Y["host"]=am[6]==undefined?"":am[6];Y["path"]=am[10]==undefined?"":am[10];Y["file"]=am[11]==undefined?"":am[11];}}return Y;},isYahooDomain:function(ak){var Y=e.Object.getValue(window,"YAHOO.VideoPlatform.WhiteListedDomains".split("."));if((typeof Y==="object")&&(typeof ak==="string")){try{if(ak.match(/(https?:\/\/)?(.[^\/:]+)/i)[2] in Y){return true;}}catch(al){}}return(/^https?:\/\/([A-Za-z0-9_\-]*\.)*yahoo.com(:(6553[0-5]|655[0-2]\d|65[0-4]\d\d|6[0-4]\d{3}|[1-5]\d{4}|[1-9]\d{0,3}|0))?($|\/)/.test(ak)||/^https?:\/\/([A-Za-z0-9_\-]*\.)*yimg.com($|\/)/.test(ak)||/^https?:\/\/([A-Za-z0-9_\-]*\.)*yahoo.net($|\/)/.test(ak)||/^https?:\/\/([A-Za-z0-9_\-]*\.)*yahooapis.com($|\/)/.test(ak)||/^https?:\/\/([A-Za-z0-9_\-]*\.)*rivals.com($|\/)/.test(ak)||/^https?:\/\/([A-Za-z0-9_\-]*\.)*maktoob.com($|\/)/.test(ak));},compareVersions:function(al,ak){var aq,ap,an,ao,am,Y;if(al===ak){return 0;}ap=(al+"").split(".");ao=(ak+"").split(".");for(am=0,Y=Math.max(ap.length,ao.length);am<Y;++am){aq=parseInt(ap[am],10);an=parseInt(ao[am],10);isNaN(aq)&&(aq=0);isNaN(an)&&(an=0);if(aq<an){return -1;}if(aq>an){return 1;}}return 0;},getDuration:function(Y){Y=parseInt(Y);return Math.floor(Y/60)+":"+this.prefixZeroes(Y%60);},prefixZeroes:function(Y){if(Y<10){return"0"+Y.toString();}else{return Y.toString();}},clients:{MISC:"misc",APPLE:"apple",DESKTOP:"desktop"},formats:{FLV:"flv",MP4:"mp4",M3U8:"m3u8",WEBM:"webm"}};J.PLAYER_ASSETS_URL=(document.location.protocol==="https:")?"https://s.yimg.com/rx/builds/3.9.2.10498/assets/":"http://l.yimg.com/rx/builds/3.9.2.10498/assets/";e.namespace("VideoPlatform").Utils=J;function N(){N.superclass.constructor.apply(this,arguments);}N.SERVICES={ULT:"ult",YWA:"ywa",COMSCORE:"cs",QOS:"qos"};N.NAME="MetricsModule";N.NS="metricsModule";N.ATTRS={model:{value:null},controller:{value:null},view:{value:null},service:{value:null},eventMap:{value:{}},allowedEvents:{value:{"PAGE_VIEW":"PAGE_VIEW","PAGE_UNLOAD":"PAGE_UNLOAD","PLAYER_LOADED":"PLAYER_LOADED","VIDEO_LOADED":"VIDEO_LOADED","PLAYBACK_REQUEST":"PLAYBACK_REQUEST","PLAYBACK_START":"PLAYBACK_START","PLAYBACK_PAUSE":"PLAYBACK_PAUSE","PLAYBACK_RESUME":"PLAYBACK_RESUME","PLAYBACK_COMPLETE":"PLAYBACK_COMPLETE","PLAYBACK_PROGRESS":"PLAYBACK_PROGRESS","PLAYBACK_SEEK":"PLAYBACK_SEEK","PLAYER_FULLSCREEN":"PLAYER_FULLSCREEN","PLAYER_ERR":"PLAYER_ERR","AD_START":"AD_START","CLICK_PLAY":"CLICK_PLAY","CLICK_PAUSE":"CLICK_PAUSE","CLICK_INFO":"CLICK_INFO","CLICK_FULLSCREEN":"CLICK_FULLSCREEN","CLICK_VOL_BTN":"CLICK_VOL_BTN","CLICK_VOL_SLIDER":"CLICK_VOL_SLIDER","CLICK_SEEKBAR":"CLICK_SEEKBAR","CLICK_THUMB":"CLICK_THUMB","CLICK_LINK":"CLICK_LINK","CLICK_EMBED":"CLICK_EMBED","CLICK_SHARE":"CLICK_SHARE","UI_INTERACT":"UI_INTERACT","YSWF_SWF_ONLY_INIT_TIME":"YSWF_SWF_ONLY_INIT_TIME","YSWF_READY":"YSWF_READY","YVAP_LOADED":"YVAP_LOADED","YVAP_READY":"YVAP_READY","YVAP_ADSTARTED":"YVAP_ADSTARTED","YVAP_NOAD":"YVAP_NOAD","YVAP_ERROR":"YVAP_ERROR","VP_CLICK_TO_START":"VP_CLICK_TO_START","VP_INIT_TO_START":"VP_INIT_TO_START","VP_INIT_TO_STARTSCREEN":"VP_INIT_TO_STARTSCREEN","AD_PLUGIN_METRIC":"AD_PLUGIN_METRIC","SAPI_LOADCLIPS":"SAPI_LOADCLIPS","SAPI_LOADPLAYLIST":"SAPI_LOADPLAYLIST","SAPI_LOADRELATED":"SAPI_LOADRELATED","SAPI_LOADSTREAM":"SAPI_LOADSTREAM","SAPI_LOADABSTRACT":"SAPI_LOADABSTRACT","SAPI_LOADMULTICLIPS":"SAPI_LOADMULTICLIPS"}},YWAProjectId:{value:"115488662",validator:e.Lang.isString},playerBeacons:{value:[],validator:e.Lang.isArray},isAd:{value:false,validator:e.Lang.isBoolean}};e.extend(N,e.Base,{initializer:function(Y){this._tokenMap={"FLASH_VERSION":"","COUNTRY_LANGUAGE_CODE":"","FULL_USER_AGENT":"","VIDEO_CLIP_ID":"","VIDEO_LENGTH":"","VIDEO_TITLE":"","VIDEO_WATCHED_PERCT":"","PAGE_SPACE_ID":"","REPORTING_DOMAIN":"","YVAP_ACCOUNT_ID":"","PLAYER_ERR_CODE":"","PLAYER_ERR_TYPE":"","PLAYER_ERR_MSG":"","YLT":"","PLAY_GUID":"","PLYR_SESS_GUID":"","CCM_PLAYLIST_ID":"","SECTION_NAME":"","SECTION_LINK_NAME":"","SECTION_LINK_POS":"","COMSCORE_C4":"","COMSCORE_C5":"","COMSCORE_C6":"","PLAYER_INT32_GUID":"","MASTERPLAYER_INT32_GUID":"","PAGE_TITLE":"","PAGE_URL":"","PAGE_REFERRER":"","PLAYER_LOCATION":"","SITE":"","REGION":"","JURISDICTION":"","IS_LIVE":"","VIDEO_PLAYBACK_POS":"","VIDEO_SEQ_NUMBER":"","VIDEO_SEQ_START":"","CONTRACTING_PROPERTY":"","LICENSOR_NAME":"","LICENSOR_ID":"","LICENSE_NAME":"","LICENSE_ID":"","YWA_DPID":"","RANDOM_VALUE":"","YWA_PROJECT_ID":"","PLAYER_HOSTING_ENV":"","PLAYER_BUCKET":"","PLAYER_VERSION":"","PLAYER_WIDTH":"","PLAYER_HEIGHT":"","TIME_INITIALIZING":"","TIME_RENDERING":"","TIME_LOADING":"","TIME_PREPARING":"","SAPI_RESPONSE_DELAY":"","PLAYBACK_START_DELAY":"","STATE":"","TIME_STATE":"","EVENT_BEGIN":"","EVENT_END":"","AUTOPLAY":"","SHOW_NAME":"","MEDIA_META_TAGS":"","EXPERIENCE_TYPE":"","EXPERIENCE_NAME":"","EXPERIENCE_BUCKET":"","BITRATE":"","DOWNLOAD_SPEED":"","VIDEO_STREAM":"","RENDERER_TYPE":"","CUSTOM_PARAMS":"","YSWF_SWF_ONLY_INIT_TIME":"","YSWF_READY":"","YVAP_LOADED":"","YVAP_READY":"","YVAP_ADSTARTED":"","YVAP_NOAD":"","YVAP_ERROR":"","VP_CLICK_TO_START":"","VP_INIT_TO_START":"","VP_INIT_TO_STARTSCREEN":"","UI_INTERACT_PAYLOAD":"","SAPI_LOADCLIPS":"","SAPI_LOADPLAYLIST":"","SAPI_LOADRELATED":"","SAPI_LOADSTREAM":"","SAPI_LOADABSTRACT":"","SAPI_LOADMULTICLIPS":"","CONTINUOUS_PLAY":"","CONTINUOUS_PLAY_COUNT":"","CMS_STATUS_CODE":"","VIDEO_TYPE":"","HD_AVAILABLE":"","PROGRESS":"","TIME_WAITING":""};
this.Constants={"PROG_BEACON_LENGTH":10};this._lastValidProgVal=0;this.set("model",Y.model);this.set("controller",Y.controller);this.set("view",Y.view);this.set("service",new e.VideoPlatform.BeaconService());this._seqNum=0;this._seqStart=0;this._progressHandler=null;this._seekStart=0;this._startTime=null;this._startTimer();this._ttInitialized=0;this._ttLoading=0;this._ttLoadingEnd=0;this._ttLoaded=0;this._ttPreparing=0;this._ttPreparingEnd=0;this._ttPrepared=0;this._ttStarted=0;this._ttPlaying=0;this._timeWaiting=0;this._continuousPlayCount=0;this._defaultConfigParam="na";this._htmlBitrate=null;this.setup();},parseHostingConfig:function(){var Y=e.VideoPlatform.playerBeaconList.init();if(Y){this.set("playerBeacons",Y);}else{}},_deferBeacons:function(ak){var Y=this.get("model"),ao=A.Events,al=ak;al.pause();if(Y.get("YVAPRequired")===true){Y.once("yvapStateChange",ap,this);}else{an();}function an(){Y.after("playerStateChange",am,this);}function ap(aq){switch(aq.newVal){case ao.AD_START:al.run();break;case ao.AD_NONE:case ao.AD_ERROR:an();break;}}function am(aq){switch(aq.newVal){case ab.STARTED:case ab.ERROR:al.run();Y.detach("playerStateChange",am,this);break;}}},setup:function(){this.parseHostingConfig();this.parse(this.get("playerBeacons"));if(this.get("model")){var Y=this.get("model"),ak=this;this.setupHandlers();Y.after("isInitializedChange",function(am){var al=am.newVal;if(al){ak._evalStaticTokens();if(!e.Object.getValue(window,["YAHOO","VideoPlatform","Metrics","PageView"])){ak._tokenMap.MASTERPLAYER_INT32_GUID=ak._tokenMap.PLAYER_INT32_GUID;e.Object.setValue(window,["YAHOO","VideoPlatform","Metrics"],{"PageView":null,"MasterPlayer":null});e.Object.setValue(window,["YAHOO","VideoPlatform","Metrics","MasterPlayer"],ak._tokenMap.PLAYER_INT32_GUID);e.Object.setValue(window,["YAHOO","VideoPlatform","Metrics","PageView"],true);ak.process(ak.get("allowedEvents").PAGE_VIEW);}else{ak._tokenMap.MASTERPLAYER_INT32_GUID=e.Object.getValue(window,["YAHOO","VideoPlatform","Metrics","MasterPlayer"]);}ak.process(ak.get("allowedEvents").PLAYER_LOADED);}},this);Y.after("beaconsChange",function(al){ak.remove(al.prevVal);ak.parse(al.newVal);},this);Y.after("currentMediaChange",function(am){var al,an;if(e.Lang.isValue(am.prevVal)){al=am.prevVal.get("metrics.beacons");ak.remove(al);}if(e.Lang.isValue(am.newVal)){an=am.newVal.get("metrics.beacons");ak.parse(an);}},this);Y.before("playerStateChange",function(al){switch(al.newVal){case ab.INITIALIZED:this._ttInitialized=this._getElapsedTime();break;case ab.LOADING:this._ttLoading=this._getElapsedTime();break;case ab.LOADED:this._ttLoaded=this._getElapsedTime();break;case ab.PREPARING:this._ttPreparing=this._getElapsedTime();break;case ab.PREPARED:this._ttPrepared=this._getElapsedTime();break;case ab.STARTED:this._ttStarted=this._getElapsedTime();break;case ab.POSTSTARTED:this._ttPoststarted=this._getElapsedTime();break;}switch(al.prevVal){case ab.LOADING:this._ttLoadingEnd=this._getElapsedTime();break;case ab.PREPARING:this._ttPreparingEnd=this._getElapsedTime();break;}},this);}},parse:function(ak){var ao=this.get("eventMap"),am=this.get("allowedEvents"),Y=this.get("model"),an=Y.get("hostingData.bucket"),al=this;if(e.Lang.isArray(ak)&&ak.length>0){e.each(ak,function(ap){if(!al._validateBeacon(ap)){return;}if(e.Lang.isNumber(ap.samplePerct)&&(!e.Lang.isNumber(an)||ap.samplePerct<an)){return;}e.each(ap.events,function(au){var ar=au.name,at=ao[ar],aw=ap.action||"",av=ap.data||"",ax=ap.target||"",aq={url:ap.urlTemplate,target:ax};if(ar in ao){if(ax===N.SERVICES.ULT&&aw==="add"&&av){e.each(at,function(az,ay,aA){if(az.target===N.SERVICES.ULT){az.url=az.url+"&"+av;}});}else{ao[ar].push(aq);}}else{if(ar in am){ao[ar]=new Array(aq);}else{}}});});}},_validateBeacon:function(Y){if(!e.Lang.isObject(Y,true)){return false;}if(e.Lang.isValue(Y.urlTemplate)&&e.VideoPlatform.Utils.validateUrl(Y.urlTemplate)){return true;}if(e.Lang.isValue(Y.action)&&Y.action.length>0&&e.Lang.isValue(Y.data)&&Y.data.length>0){return true;}return false;},remove:function(Y){var ak=this.get("eventMap");if(e.Lang.isArray(Y)&&Y.length>0){e.each(Y,function(al){if(!e.Lang.isValue(al.urlTemplate)){return;}e.each(al.events,function(an){var am=an.name,ao=ak[am];if(e.Lang.isArray(ao)){ao.splice(e.Array.indexOf(ao,al.urlTemplate),1);}});});}},setupHandlers:function(){var Y=this.get("allowedEvents"),ar=this._tokenMap,am=this.get("model"),ao={},al=false,ak,an,ap=am.get("profileData"),aq=this.get("view");am.after("isPlayingChange",function(at){if(at.newVal){if(al){this.process(Y.PLAYBACK_RESUME);}else{this._ttPlaying=this._getElapsedTime();this._seqNum=1;this._seqStart=am.get("playbackPosition");this._progressHandler=this._startProgressPolling(this._seqStart,am.get("currentMedia").get("duration"));if(am.get("continuousPlay")){++this._continuousPlayCount;}this._htmlBitrate=aq.videoRenderer.get("streamBitrate")||null;this.process(Y.PLAYBACK_START);al=true;}}},this);ao[ab.PREPARING]=Y.PLAYBACK_REQUEST;ao[ab.LOADED]=Y.VIDEO_LOADED;ao[ab.PAUSED]=Y.PLAYBACK_PAUSE;ao[ab.PLAYBACKCOMPLETE]=Y.PLAYBACK_COMPLETE;am.after("playerStateChange",function(at){if(at.newVal in ao){if(at.newVal==ab.PLAYBACKCOMPLETE){al=false;if(this._progressHandler){this._progressHandler.detach();this._progressHandler=null;}}this.process(ao[at.newVal]);}},this);am.after("isWaitingChange",function(au){var at;if(au.newVal===false){this._timeWaiting+=this._getElapsedTime()-prevWaitTime;}prevWaitTime=(au.newVal===true)?this._getElapsedTime():null;},this);am.after("isSeekingChange",function(at){if(at.newVal===true&&at.prevVal===false){if(this._progressHandler){this._progressHandler.detach();this._progressHandler=null;}this._seekStart=am.get("playbackPosition");}else{if(at.newVal===false&&at.prevVal===true){if(this._progressHandler){this._progressHandler.detach();this._progressHandler=null;}this._seqNum++;this._seqStart=this._seekStart;this.process(Y.PLAYBACK_SEEK);this._seqStart=am.get("playbackPosition");this._progressHandler=this._startProgressPolling(am.get("playbackPosition"),am.get("currentMedia").get("duration"));
}}},this);ak={"controlsPlayButton":Y.CLICK_PLAY,"controlsPauseButton":Y.CLICK_PAUSE,"controlsInfoButton":Y.CLICK_INFO,"controlsFullscreenButton":Y.CLICK_FULLSCREEN,"controlsVolumeButton":Y.CLICK_VOL_BTN,"controlsVolumeSlider":Y.CLICK_VOL_SLIDER,"controlsSeekBar":Y.CLICK_SEEKBAR,"startscreenPlay":Y.CLICK_PLAY,"infoscreenThumb":Y.CLICK_THUMB,"infoscreenLink":Y.CLICK_LINK,"infoscreenEmbed":Y.CLICK_EMBED,"infoscreenFacebook":Y.CLICK_SHARE,"endscreenThumb":Y.CLICK_THUMB,"endscreenLink":Y.CLICK_LINK,"endscreenEmbed":Y.CLICK_EMBED,"endscreenFacebook":Y.CLICK_SHARE};am.after("uiInteract",function(at){if(at.source in ak){if(ak[at.source]===Y.CLICK_FULLSCREEN&&!am.get("fullscreen")){return;}this.process(ak[at.source],at);}},this);am.after("uiInteract",function(at){this.process(Y.UI_INTERACT,at);},this);am.after("uiInteract",function(at){if(at.source.indexOf("pc-vid")>-1||at.source.indexOf("es-vid")>-1||at.source=="es-rpl"){this._continuousPlayCount=0;al=false;}},this);am.after("fullscreenChange",function(at){if(at.newVal===true&&at.prevVal===false){this.process(Y.PLAYER_FULLSCREEN);}},this);am.after("errorChange",function(au){var at=au.newVal;if(at){ar.PLAYER_ERR_TYPE=at.type;ar.PLAYER_ERR_CODE=at.code;ar.PLAYER_ERR_MSG=encodeURIComponent(at.message);this.process(Y.PLAYER_ERR);}},this);am.after("warningChange",function(aw){if(aw.newVal){var at="200",av,au,ay=aw.newVal,ax={"cmsMetricsValidation":"100","400":"305","200":"202"};av=ax[ay.type]||"0";au=ay.message;ar.PLAYER_ERR_TYPE=at;ar.PLAYER_ERR_CODE=av;ar.PLAYER_ERR_MSG=encodeURIComponent(au);this.process(Y.PLAYER_ERR);}},this);am.after("yvapStateChange",function(ay){var au,ax,aw,av,az,aA={},at=this._defaultConfigParam;this._handleAdFlag(ay.newVal);if(ay.newVal==="adError"){au="300";ax="0";aw=am.get("yvapData");aw=e.Lang.isObject(aw)?aw:{};aA={};aA[o.TIMEOUT_YUILOAD]="406";aA[o.TIMEOUT_CREATE]="407";aA[o.TIMEOUT_PRE]="408";aA[o.TIMEOUT_POST]="409";aA[o.INIT]="100";aA[o.CREATE]="101";aA[o.SCRIPTING]="501";if(e.Lang.isValue(aw.message)&&aw.message in aA){ax=aA[aw.message];av=e.Lang.isValue(aw.cause)?aw.cause:at;}else{if(e.Lang.isValue(aw.type)&&aw.type==="playerPluginLoadError"){ax="404";av=e.Lang.isValue(aw.message)?aw.message:at;}}ar.PLAYER_ERR_TYPE=au;ar.PLAYER_ERR_CODE=ax;ar.PLAYER_ERR_MSG=encodeURIComponent(av);this.process(Y.PLAYER_ERR);}else{if(ay.newVal==="loadError"){au="300";aw=am.get("yvapData");if(e.Lang.isObject(aw)&&e.Lang.isValue(aw.cause)){if(aw.cause==="jsLoadingTimeout"){ax="401";}else{ax="400";}ar.PLAYER_ERR_TYPE=au;ar.PLAYER_ERR_CODE=ax;ar.PLAYER_ERR_MSG=at;this.process(Y.PLAYER_ERR);}}else{if(ay.newVal==="adStart"){this.process(Y.AD_START);}}}},this);e.Event.attach("unload",function(at){this.process(Y.PAGE_UNLOAD);this.get("service").stop();},window,this);if(ap){ap.on("itemAdded",function(at){this._handleQOSProfiling(at.item);},this);}am.after("adPluginMetricChange",this._handleAdPluginMetric,this);},_handleAdPluginMetric:function(Y){var ak="";e.each(Y.newVal,function(am,al,an){ak+="&"+al+"="+encodeURIComponent(am);});this._tokenMap.CUSTOM_PARAMS=ak;this.process("AD_PLUGIN_METRIC");},_handleQOSProfiling:function(ak){var al=ai,Y;switch(ak.type){case al.YSWF_SWF_ONLY_INIT_TIME:Y="YSWF_SWF_ONLY_INIT_TIME";break;case al.YSWF_READY:Y="YSWF_READY";break;case al.YVAP_LOADED:Y="YVAP_LOADED";break;case al.YVAP_READY:Y="YVAP_READY";break;case al.YVAP_ADSTARTED:Y="YVAP_ADSTARTED";break;case al.YVAP_NOAD:Y="YVAP_NOAD";break;case al.YVAP_ERROR:Y="YVAP_ERROR";break;case al.VP_CLICK_TO_START:Y="VP_CLICK_TO_START";break;case al.VP_INIT_TO_START:Y="VP_INIT_TO_START";break;case al.VP_INIT_TO_STARTSCREEN:Y="VP_INIT_TO_STARTSCREEN";break;case al.SAPI_LOADCLIPS:Y="SAPI_LOADCLIPS";break;case al.SAPI_LOADPLAYLIST:Y="SAPI_LOADPLAYLIST";break;case al.SAPI_LOADRELATED:Y="SAPI_LOADRELATED";break;case al.SAPI_LOADSTREAM:Y="SAPI_LOADSTREAM";break;case al.SAPI_LOADABSTRACT:Y="SAPI_LOADABSTRACT";break;case al.SAPI_LOADMULTICLIPS:Y="SAPI_LOADMULTICLIPS";break;}if(Y){this._tokenMap.QOS_TIMER_DIFF=ak.timeDiff;this._tokenMap[Y]=ak.timeDiff;this.process(Y);}},process:function(am,ao){var ak=this.get("eventMap")[am],Y=this._tokenMap,al=this.get("service");if(typeof ak==="undefined"){return;}try{this._evalDynTokens(ao,am);}catch(an){}e.each(ak,function(ap,aq){al.set("beaconTemplate",ap.url);al.create(Y);al.send();});},_evalStaticTokens:function(){var ak=this.get("model"),al=this._tokenMap,an=e.Cookie.get("ywadp"+this.get("YWAProjectId")),ao,Y=this._getTopDocument(),am=this._defaultConfigParam;al.FLASH_VERSION=(ak.get("rendererType")=="flash")?encodeURIComponent(this._getFlashVersionString()):am;al.COUNTRY_LANGUAGE_CODE=encodeURIComponent(String(ak.get("lang")).toLowerCase());al.FULL_USER_AGENT=encodeURIComponent(e.UA.userAgent);al.PAGE_SPACE_ID=encodeURIComponent(ak.get("pageSpaceId"));al.YVAP_ACCOUNT_ID=encodeURIComponent(ak.get("YVAP.accountId")||am);al.PLYR_SESS_GUID=encodeURIComponent(ak.get("guid"));al.COMSCORE_C4=encodeURIComponent(ak.get("comscoreC4")||am);al.COMSCORE_C6=encodeURIComponent(ak.get("comscoreC6")||am);al.PLAYER_INT32_GUID=Math.floor(Math.random()*4294967295);al.PAGE_TITLE=encodeURIComponent(Y?Y.title:"unavailable");al.PAGE_URL=encodeURIComponent(this._trimLongUrls(Y?Y.URL:document.referrer));al.PAGE_REFERRER=encodeURIComponent(this._trimLongUrls(Y?Y.referrer:"unavailable"));al.PLAYER_LOCATION=this._isIFrame()?"2":"1";al.SITE=encodeURIComponent(ak.get("site")?ak.get("site").toLowerCase():am);al.REGION=encodeURIComponent(ak.get("region")?ak.get("region").toLowerCase():am);al.JURISDICTION=encodeURIComponent(ak.get("jurisdiction")||am);if(!e.Lang.isValue(an)){an=""+Math.floor(Math.random()*4294967295);ao=new Date();ao.setTime(ao.getTime()+94608000000);e.Cookie.set("ywadp"+this.get("YWAProjectId"),an,{expires:ao});}al.YWA_DPID=""+an;al.YWA_PROJECT_ID=this.get("YWAProjectId");al.PLAYER_HOSTING_ENV=ak.get("hostingData.env")||am;al.PLAYER_BUCKET=ak.get("hostingData.bucket")||am;al.PLAYER_VERSION=ak.get("version")||am;al.AUTOPLAY=ak.get("autoplay")?"true":"false";
al.EXPERIENCE_TYPE=encodeURIComponent(String(ak.get("expType")).toLowerCase());al.EXPERIENCE_NAME=encodeURIComponent(String(ak.get("expName")).toLowerCase());al.EXPERIENCE_BUCKET=encodeURIComponent(ak.get("expBucket")?ak.get("expBucket").toLowerCase():am);al.CONTINUOUS_PLAY=ak.get("continuousPlay")?"1":"0";},_evalDynTokens:function(aD,az){var au=this.get("model"),al=this._tokenMap,ay=au.get("playlist"),aw=au.get("playlistPosition"),am=au.get("playbackPosition"),an=(au.get("currentMedia")||ay.items().item((aw>=0)?aw:0)),av=(an?an.get("duration"):null),aq=(an?an.get("comscoreC5"):null),Y=au.get("continuousPlay"),ap,aB,at,aA,ak,ao,ax,ar,aC=this._defaultConfigParam;if(e.Lang.isNumber(av)){av=Math.round(av);}al.RANDOM_VALUE=Math.random();if(au.get("rendererType")==="html"){al.RENDERER_TYPE="h";}else{al.RENDERER_TYPE="f";}al.TIME_INITIALIZING=this._ttInitialized;al.TIME_LOADING=this._ttLoadingEnd-this._ttLoading;al.TIME_RENDERING=au.get("metrics.playerRenderLatency")||aC;al.TIME_PREPARING=this._ttPreparingEnd-this._ttPreparing;ar=this._ttPlaying-this._ttStarted;al.PLAYBACK_START_DELAY=al.TIME_PREPARING+ar;al.STATE=au.get("playerState");if(e.Lang.isObject(an)){if(!e.Lang.isValue(an.get("id"))&&e.Lang.isValue(an.get("streamUrl"))){al.VIDEO_CLIP_ID=J.generateHashCode(an.get("streamUrl"),"custom");}else{al.VIDEO_CLIP_ID=encodeURIComponent(an.get("id")||aC);}al.VIDEO_LENGTH=e.Lang.isValue(av)?av:aC;al.VIDEO_TITLE=encodeURIComponent(an.get("title")||aC);al.VIDEO_PLAYBACK_POS=e.Lang.isValue(am)?am:"0";al.VIDEO_WATCHED_PERCT=(av&&av>0)?Math.floor(100*am/av):"0";al.PLAY_GUID=encodeURIComponent(an.get("metrics.pls")||aC);al.COMSCORE_C5=encodeURIComponent(e.Lang.isValue(aq)?aq:aC);al.IS_LIVE=an.get("isLive")?"1":"0";al.CONTRACTING_PROPERTY=encodeURIComponent(an.get("originatingProperty")||aC);al.LICENSOR_NAME=encodeURIComponent(an.get("licensorName")||aC);al.LICENSOR_ID=encodeURIComponent(an.get("licensorId")||aC);al.LICENSE_NAME=encodeURIComponent(an.get("licenseName")||aC);al.LICENSE_ID=encodeURIComponent(an.get("licenseId")||aC);al.EVENT_BEGIN=encodeURIComponent(an.get("eventBeginTime")||aC);al.EVENT_END=encodeURIComponent(an.get("eventEndTime")||aC);al.SHOW_NAME=encodeURIComponent(an.get("showName")||aC);al.MEDIA_META_TAGS=encodeURIComponent(an.get("metrics.metaTags")||aC);al.BITRATE=an.get("mediaInfo.currentStreamBitrate")||aC;al.DOWNLOAD_SPEED=an.get("mediaInfo.currentKbps")||aC;al.VIDEO_STREAM=an.get("mediaInfo.streamUrl")||aC;al.PLAYER_WIDTH=encodeURIComponent(au.get("width")||aC);al.PLAYER_HEIGHT=encodeURIComponent(au.get("height")||aC);al.CMS_STATUS_CODE=encodeURIComponent(an.get("status.code")||aC);switch(az){case"PLAYBACK_PROGRESS":al.PROGRESS=this.Constants.PROG_BEACON_LENGTH;al.TIME_WAITING=this._timeWaiting;this._lastValidProgVal=am;this._timeWaiting=0;break;case"PLAYBACK_COMPLETE":al.PROGRESS=e.Lang.isValue(av)?(av-this._lastValidProgVal)%this.Constants.PROG_BEACON_LENGTH:aC;al.TIME_WAITING=this._timeWaiting;this._timeWaiting=0;break;case"PLAYBACK_SEEK":al.PROGRESS=(e.Lang.isValue(av)&&this._seqStart!==av)?this._seqStart-this._lastValidProgVal:aC;this._lastValidProgVal=am;al.TIME_WAITING=this._timeWaiting;this._timeWaiting=0;break;default:al.PROGRESS=aC;}if(typeof(ax=an.get("hdAvailable"))!=="undefined"){al.HD_AVAILABLE=ax().toString();}else{al.HD_AVAILABLE=aC;}if(this.get("isAd")){al.VIDEO_TYPE="ad";}else{if(ao=an.get("isLive")){al.VIDEO_TYPE="live";}else{if(an.get("streamUrl")){al.VIDEO_TYPE="stream";}else{al.VIDEO_TYPE=(typeof ao==="undefined")?aC:"clip";}}}if(al.BITRATE===aC){al.BITRATE=(this._htmlBitrate!==null)?this._htmlBitrate:aC;}}else{al.VIDEO_CLIP_ID=aC;al.VIDEO_LENGTH=aC;al.VIDEO_TITLE=aC;al.VIDEO_PLAYBACK_POS=aC;al.VIDEO_WATCHED_PERCT=aC;al.PLAY_GUID=aC;al.COMSCORE_C5=aC;al.IS_LIVE=aC;al.CONTRACTING_PROPERTY=aC;al.LICENSOR_NAME=aC;al.LICENSOR_ID=aC;al.LICENSE_NAME=aC;al.LICENSE_ID=aC;al.EVENT_BEGIN=aC;al.EVENT_END=aC;al.SHOW_NAME=aC;al.BITRATE=aC;al.DOWNLOAD_SPEED=aC;al.VIDEO_STREAM=aC;al.VIDEO_TYPE=aC;al.HD_AVAILABLE=aC;al.PLAYER_WIDTH=aC;al.PLAYER_HEIGHT=aC;al.CMS_STATUS_CODE=aC;al.PROGRESS=aC;al.TIME_WAITING=aC;}al.VIDEO_SEQ_NUMBER=this._seqNum;al.VIDEO_SEQ_START=this._seqStart;al.CONTINUOUS_PLAY=(Y&&ay.items().size()>1)?"1":"0";if(Y){al.CONTINUOUS_PLAY_COUNT=this._continuousPlayCount;}if(aD){ap={"startscreen":"st","infoscreen":"inf","endscreen":"end","controls":"pb"};aB={"PlayButton":"pl","Play":"pl","PauseButton":"ps","InfoButton":"inf","SeekBar":"sk","VolumeSlider":"vol","FullscreenButton":"fs","Link":"lk","Embed":"emb","Facebook":"facebook"};at=aD.source.match(/^([^A-Z]*)(.*)/);aA=ap[at[1]];ak=aB[at[2]];if(at[2]==="VolumeButton"){ak=au.get("mute")?"mt":"un-mt";}else{if(at[2]==="Thumb"){ak=(at[1]==="endscreen")?"rpl":"pl";}}al.SECTION_NAME=(aA)?aA:"pb";al.SECTION_LINK_NAME=(ak)?ak:aC;switch(aD.source){case"controlsCCButton":al.UI_INTERACT_PAYLOAD="cc-"+((aD.selected===true)?"1":"0");break;default:al.UI_INTERACT_PAYLOAD=aD.source;break;}}else{al.SECTION_NAME="pb";al.SECTION_LINK_NAME=aC;}al.CCM_PLAYLIST_ID=encodeURIComponent(ay.get("id")||aC);},_startProgressPolling:function(Y,ak){return this.get("model").after("playbackPositionChange",function(al){this._seekStart=al.newVal;if(al.newVal>=ak){if(this._progressHandler){this._progressHandler.detach();this._progressHandler=null;}return;}var am=al.newVal-Y;if(am>0&&am%this.Constants.PROG_BEACON_LENGTH===0){this.process(this.get("allowedEvents").PLAYBACK_PROGRESS);}},this);},_startTimer:function(){this._startTime=new Date().getTime();},_getElapsedTime:function(){if(this._startTime){return new Date().getTime()-this._startTime;}else{return 0;}},_getTopDocument:function(){try{return window.top.document;}catch(Y){return null;}},_isIFrame:function(){try{if(window.top.location.href!=window.location.href){return true;}else{return false;}}catch(Y){return true;}},_getFlashVersionString:function(){var aq="",ao=e.UA,am=e.Lang,at="ShockwaveFlash",ak,an,al,au,Y;if(ao.gecko||ao.webkit||ao.opera){if((ak=navigator.mimeTypes["application/x-shockwave-flash"])){if((an=ak.enabledPlugin)){aq=an.description;
}}}else{if(ao.ie){try{au=new ActiveXObject(at+"."+at+".6");au.AllowScriptAccess="always";}catch(ap){if(au!==null){aq="ShockwaveFlash 6.0";}}if(aq===""){try{Y=new ActiveXObject(at+"."+at);aq=Y.GetVariable("$version").replace(/,/g,".");}catch(ar){}}}}return aq;},_trimLongUrls:function(Y){return Y.split("?")[0];},_handleAdFlag:function(ak){var Y=(ak==="adStart"||ak==="adProgress")?true:false;this.set("isAd",Y);}});e.namespace("VideoPlatform").Metrics=N;function L(){}L.Events={YSWF_NodeRendered:"YSWFNodeRendered",VideoPlayer_RenderComplete:"VideoPlayerRenderComplete",CMS_Meta:"CMSMetaRequest",YSWF_LOADED:"YSWFLoaded",YSWF_STARTUP:"YSWFStartup",YSWF_FVINIT:"YSWF-FlashVar-Init",YSWF_NSINIT:"YSWF-NetStreamObs-Init",YSWF_YUIBRIDGE_INIT:"YSWF-YUIBridge-Init",YSWF_SWF_ONLY_INIT_TIME:"tswfoi",YSWF_READY:"tswfr",YVAP_LOADED:"tswfl",CMS_GetStreams:"CMSGetStreams",YVAP_READY:"tyvapr",YVAP_ADSTARTED:"tyvapads",YVAP_NOAD:"tyvapadn",YVAP_ERROR:"tyvape",SAPI_LOADCLIPS:"tsapic",SAPI_LOADPLAYLIST:"tsapilp",SAPI_LOADRELATED:"tsapilr",SAPI_LOADSTREAM:"tsapils",SAPI_LOADABSTRACT:"tsapilabs",SAPI_LOADMULTICLIPS:"tsapilmclps",VP_CLICK_TO_START:"ttsapf",VP_INIT_TO_START:"ttsapt",VP_INIT_TO_STARTSCREEN:"initToStartScreen",AD_PLUGIN_METRIC:"qaplc"};e.namespace("VideoPlatform").QOS=L;var ai=L.Events;function z(Y){z.superclass.constructor.apply(this,arguments);}z.NAME="PlayerBase";z.NS="playerBase";z.Events={PLAYBACK_READY:"playbackReady",PLAYBACK_PLAY:"playbackPlay",PLAYBACK_PLAYING:"playbackPlaying",PLAYBACK_PAUSED:"playbackPaused",PLAYBACK_PROGRESS:"playbackProgress",PLAYBACK_SEEK:"playbackSeek",PLAYBACK_SEEKED:"playbackSeeked",PLAYBACK_COMPLETE:"playbackComplete",PLAYBACK_ERROR:"playbackError",PLAYBACK_WAITING:"playbackWaiting",FULLSCREEN_ENTER:"fullscreenEnter",FULLSCREEN_EXIT:"fullscreenExit",MUTE_CHANGE:"muteChange",VOLUME_CHANGE:"volumeChange",UI_INTERACT:"uiInteract",MEDIA_INFO_UPDATE:"mediaInfoUpdate",BITRATE_CHANGE:"bitrateChange",PLAYER_READYSTATE:"readyState",PLAYER_RESIZE:"resize"};var af=z.Events;z.ATTRS={playbackPlugin:{value:null},readyState:{value:""},videoNode:{value:""}};z.Constants={READY_STATE:{HAVE_NOTHING:0}};var Q=z.Constants;e.extend(z,e.Base,{initializer:function(){},destructor:function(){},render:function(){},load:function(Y){},play:function(){},pause:function(){},seek:function(Y){},getDuration:function(){},setVolume:function(Y){},setMute:function(Y){},setFullscreen:function(Y){},joinUrl:function(){var ak=function(al){return e.Lang.isString(al)&&al.length>0;},Y=function(al){return al.replace(/^\/*/,"").replace(/\/*$/,"");};return e.Array.map(e.Array.filter(e.Array(arguments),ak),Y).join("/");},updateControls:function(){}});e.namespace("VideoPlatform").PlayerBase=z;function ag(){ag.superclass.constructor.apply(this,arguments);}ag.NAME="LegoCMS";ag.ATTRS={jsonpMethod:{value:e.jsonp},requestTimeout:{value:10},yqlStore:{value:"yahoo.media.video.streams"},env:{value:"prod"},yqlClipQuery:{value:"SELECT {columns} FROM {store} WHERE {idPredicate} AND {formatPredicate}"+" AND {protocolPredicate} AND {playerGuidPredicate}"+" AND {yvapAcctIdPredicate} AND {playContextPredicate} AND {pageSpaceIdPredicate}"+" AND {offnetworkPredicate} AND {sitePredicate} AND {langPredicate} AND {regionPredicate} AND {overridePredicate};"},yqlRelatedQuery:{value:"SELECT {columns} from yahoo.media.video.related({startPredicate},{countPredicate}) WHERE {idPredicate} "+"AND {playerGuidPredicate} AND {sitePredicate} AND {regionPredicate} AND {algoPredicate} "+"AND {langPredicate} AND {offnetworkPredicate} AND {widthPredicate} AND {heightPredicate};"},yqlPlaylistQuery:{value:"SELECT * from yahoo.media.video.playlist{countPredicate} "+"WHERE {idPredicate} AND {startVideoPredicate} AND {playIndexPredicate} AND {playerGuidPredicate} "+"AND {sitePredicate} AND {regionPredicate} AND {langPredicate} "+"AND {yvapAcctIdPredicate} AND {playContextPredicate} AND {pageSpaceIdPredicate} "+"AND {formatPredicate} AND {protocolPredicate} AND {offnetworkPredicate} AND {overridePredicate} "+"AND {widthPredicate} AND {heightPredicate};"},yqlMetaQuery:{value:"SELECT * from yahoo.media.video.abstract WHERE {idPredicate} "+"AND {sitePredicate} AND {langPredicate} AND {regionPredicate};"},yqlMultiClipsQuery:{value:"SELECT * from yql.query.multi WHERE {queriesPredicate}"},relatedCount:{value:20,validator:e.Lang.isNumber},relatedStart:{value:0,validator:e.Lang.isNumber},algoContent:{value:"mmsearch, core, ib, tags"},relatedVideosColumns:{value:["status, mediaObj.id, mediaObj.meta, mediaObj.status, mediaObj.license"]},playlistCount:{value:12,validator:e.Lang.isNumber},host:{value:"video.query.yahoo.com"},atlasHost:{value:"atlas.cdn.yimg.com"},urlTemplate:{value:"http://{host}/v1/public/yql?q={query}&env={env}&format=json&callback={callback}"},formats:{value:[],validator:e.Lang.isArray},protocols:{value:[],validator:e.Lang.isArray},heights:{value:{"large":345,"medium":175}},widths:{value:{"large":634,"medium":233}}};ag.MIME_TYPE_MAP=(function(){return{"video/x-flv":J.formats.FLV,"video/mp4":J.formats.MP4,"application/vnd.apple.mpegurl":J.formats.M3U8};}());e.extend(ag,e.Base,{_model:null,log:function(ak,Y){},initializer:function(ak){var Y=(ak||{}).model,al=Y?Y.get("rendererType"):"flash";this._model=Y;this.updateRendererType(al);if(Y){Y.after("rendererTypeChange",function(am){this.updateRendererType(am.newVal);},this);Y.after("isPlayingChange",function(an){var am;if(an.newVal){am=Y.get("currentMedia");if(am.get("streamUrlOwner")===this.name){am.set("streams",undefined);}}},this);}},updateRendererType:function(ak){var an="http",am="rtmp",Y,al;if("html"==ak){if(e.Lang.isNumber(e.UA.ios)){Y=[J.formats.M3U8,J.formats.MP4];}else{if(e.Lang.isNumber(e.UA.android)&&e.UA.android>0){Y=[J.formats.WEBM,J.formats.MP4];}else{if(e.Lang.isNumber(e.UA.gecko)&&e.UA.gecko>0){Y=[J.formats.WEBM];}else{Y=[J.formats.MP4];}}}al=[an];}else{Y=[J.formats.MP4,J.formats.FLV];al=[am,an];}this.set("formats",Y);this.set("protocols",al);},loadClips:function(ay,aA,aI){var ar=e.Lang.sub,aC=this._model,aw,an,am,aJ=this.get("jsonpMethod"),au=this.get("requestTimeout")*1000,Y=aI.context||null,ax=new k({model:aC}),av=e.VideoPlatform.ErrorObject,aH=av.ERROR,at=av.LEVEL,aB=aA,az=ai.SAPI_LOADCLIPS,aE=this.clipIds(ay),ap,al,aF=aC.get("currentMedia");
switch(aB){case"streams":aw=["streams","yvap","status","closedcaptions"];an=this.getClipsQuery(aw,aE);az=ai.SAPI_LOADSTREAM;ap=aH.CMS_TIMEOUT_LOADCLIPS_STREAMS;al=aH.CMS_RESPONSE_LOADCLIPS_STREAMS;break;case"meta":aw=["*"];an=this.getMetaQuery(aw,aE);az=ai.SAPI_LOADABSTRACT;ap=aH.CMS_TIMEOUT_LOADCLIPS_META;al=aH.CMS_RESPONSE_LOADCLIPS_META;break;case"multi":aw=["*"];var aG=this.getFirstClip(aE);an=this.getMultiClipsQuery(aw,aG,aE);az=ai.SAPI_LOADMULTICLIPS;ap=aH.CMS_TIMEOUT_LOADCLIPS_MULTI;al=aH.CMS_RESPONSE_LOADCLIPS_MULTI;break;default:aw=["*"];an=this.getClipsQuery(aw,this.clipIds(ay));ap=aH.CMS_TIMEOUT_LOADCLIPS_ALL;al=aH.CMS_RESPONSE_LOADCLIPS_ALL;}am=ar(this.get("urlTemplate"),{host:aC.get("SAPI_CONF").host||this.get("host"),env:aC.get("CMS").env||this.get("env"),query:encodeURIComponent(an)});function ao(aK){aI.failure.call(Y,aK);}function aq(aK){var aM=aK.error,aL;ax.stop(az,"cms request for clips");delete ax;if(aM){aL=aM.status||al.code;ao(new av(al.type,aL,this.constructor.NAME,"loadClips-"+aB+"; "+aM.description,at.CRITICAL));}else{aI.success.call(Y,this.parseStreamsResponse(aK));}}ax.start();latency=new Date().getTime();function aD(aL){var aK=(e.Lang.isArray(aL.errors))?aL.errors[0].error:aL.msg||aL.description||aL.statusText||"";ao(new av(aH.CMS_REQUEST.type,aH.CMS_REQUEST.code,this.constructor.NAME,"loadClips-"+aB+"; "+aK,at.CRITICAL));}function ak(aL){var aK=(e.Lang.isArray(aL.errors))?aL.errors[0].error:aL.msg||aL.description||aL.statusText||"";ao(new av(ap.type,ap.code,this.constructor.NAME,"loadClips-"+aB+"; "+aK,at.CRITICAL));}aJ(am,{on:{success:aq,failure:aD,timeout:ak},timeout:au,context:this});},loadPlaylist:function(aC,am,aE,aD){var ar=e.Lang.sub,ay=this._model,ao=this.getPlaylistQuery(aC,am,aE),an=ar(this.get("urlTemplate"),{host:ay.get("SAPI_CONF").host||this.get("host"),env:ay.get("CMS").env||this.get("env"),query:encodeURIComponent(ao)}),aF=this.get("jsonpMethod"),au=this.get("requestTimeout")*1000,ak=aD.context||null,ax=0,aw=new k({model:this._model}),av=e.VideoPlatform.ErrorObject,aB=av.ERROR,at=av.LEVEL,aA=aB.CMS_TIMEOUT_LOADCLIPS_PLAYLIST,Y=aB.CMS_RESPONSE_LOADCLIPS_PLAYLIST;function ap(aG){aD.failure.call(ak,aG);}function aq(aG){var aJ=aG,aK=aJ.query||null,aI=aJ.error||null,aH;aw.stop(ai.SAPI_LOADPLAYLIST,"cms request for playlist");ax=new Date().getTime()-ax;delete aw;if(aI){aH=aI.status||Y.code;ap(new av(Y.type,aH,this.constructor.NAME,"loadPlaylist; "+aI.description,at.CRITICAL));}else{if(aK&&aK.results){aD.success.call(ak,this.parsePlaylistResponse(aJ));}else{aH=Y.code;ap(new av(Y.type,aH,this.constructor.NAME,"loadPlaylist; null results",at.CRITICAL));}}}function az(aH){var aG=(e.Lang.isArray(aH.errors))?aH.errors[0].error:aH.msg||aH.description||aH.statusText||"";ap(new av(aB.CMS_REQUEST.type,aB.CMS_REQUEST.code,this.constructor.NAME,"loadPlaylist; "+aG,at.CRITICAL));}function al(aH){var aG=(e.Lang.isArray(aH.errors))?aH.errors[0].error:aH.msg||aH.description||aH.statusText||"";ap(new av(aA.type,aA.code,this.constructor.NAME,"loadPlaylist; "+aG,at.CRITICAL));}aw.start();ax=new Date().getTime();aF(an,{on:{success:aq,failure:az,timeout:al},timeout:au,context:this});},loadRelatedVideos:function(ao,au){var ap=this._model,aw=this.getRelatedVideosQuery(ao.get("id")),am=ai.SAPI_LOADRELATED,Y=e.Lang.sub(this.get("urlTemplate"),{host:ap.get("SAPI_CONF").host||this.get("host"),env:ap.get("CMS").env||this.get("env"),query:encodeURIComponent(aw)}),ay=this.get("jsonpMethod"),ax=this.get("requestTimeout")*1000,al=au.context||null,ak=new k({model:this._model}),aA=0,az=e.VideoPlatform.ErrorObject,ar=az.ERROR,at=az.LEVEL;function an(aB){au.failure.call(al,aB);}function aq(aC){var aB=(e.Lang.isArray(aC.errors))?aC.errors[0].error:aC.msg||aC.description||aC.statusText||"";an(new az(ar.CMS_REQUEST.type,ar.CMS_REQUEST.code,this.constructor.NAME,"loadRelatedVideos; "+aB,at.CRITICAL));}function av(aC){var aB=(e.Lang.isArray(aC.errors))?aC.errors[0].error:aC.msg||aC.description||aC.statusText||"";an(new az(ar.CMS_TIMEOUT_LOADCLIPS_RELATED.type,ar.CMS_TIMEOUT_LOADCLIPS_RELATED.code,this.constructor.NAME,"loadRelatedVideos; "+aB,at.CRITICAL));}ak.start();aA=new Date().getTime();ay(Y,{on:{success:function(aB){ak.stop(am,"cms request for related videos");aA=new Date().getTime()-aA;delete ak;var aE=aB,aF=aE.query||null,aD=aE.error||null,aC,aG=e.VideoPlatform.ErrorObject.ERROR.CMS_RESPONSE_LOADCLIPS_RELATED;if(aD){aC=aD.status||aG.code;an(new az(aG.type,aC,this.constructor.NAME,"loadPlaylist; "+aD.description,at.CRITICAL));}else{if(aF&&aF.results){au.success.call(al,this.parseEndScreenContentResponse(aB));}else{aC=aG.code;an(new az(aG.type,aC,this.constructor.NAME,"loadPlaylist; null results",at.CRITICAL));}}},failure:aq,timeout:av},timeout:ax,context:this});},parseStreamsResponse:function(Y){var am,al;try{if(Y.query.results.results){al=this.mergeResults(Y);}else{al=this.arrayify(Y.query.results.mediaObj);}am=e.Array.map(al,this.parseMediaObj,this);}catch(ak){am=false;}return am;},mergeResults:function(ak){var am=[],Y,an=[];ak.query.results=ak.query.results.results;Y=ak.query.results;for(var al=0;al<Y.length;al++){am=am.concat(Y[al].mediaObj);}ak.query.results={mediaObj:am};an=this.arrayify(ak.query.results.mediaObj);return an;},parsePlaylistResponse:function(ak){var am,an,Y;try{am=ak.query.results.result;an={start:am.start,count:am.count,total:am.total,mediaItems:e.Array.map(this.arrayify(am.mediaObj),this.parseMediaObj,this)};Y=am.status;if(Y){an.status={code:Y.code,msg:Y.msg};}}catch(al){an={start:0,count:0,total:0,mediaItems:[]};}return an;},parseEndScreenContentResponse:function(ak){var al,am,Y;try{al=ak.query.results.result;am={mediaItems:e.Array.map(this.arrayify(al.mediaObj),this.parseMediaObj,this)};}catch(an){am={start:0,count:0,total:0,mediaItems:[]};}if(al){Y=al.status;if(typeof Y!==undefined){am.status={code:Y.code,msg:Y.msg};}}return am;},parseMediaObj:function(an){var am={},al,Y,ak;am.id=an.id;al=an.status;if(al){am.status={code:al.code,msg:al.msg};}al=an.meta;if(al){am.embeddable=al.embed_rights;
am.title=al.title;am.description=al.description;am.clipDuration=J.getDuration(al.duration);am.images={};if(al.thumbnail){am.images.thumbnail=al.thumbnail;}am.provider={};if(al.provider){am.provider.name=al.provider.name;}am.eventBeginTime=al.event_start;am.eventEndTime=al.event_stop;am.showName=al.show_name;}al=an.streams;if(al){am.streams=e.Array.map(al,this.parseStreamNode,this);am.isLive=e.Array.some(al,function(ao){return ao.live===true;});am.duration=am.streams[0]&&e.Lang.isValue(am.streams[0].duration)?am.streams[0].duration:am.duration;am.streamUrlOwner=this.name;}al=an.license;if(al){am.licensorName=al.account_name;am.licensorId=al.account_id;am.licenseName=al.title;am.licenseId=al.salesforce_id;am.originatingProperty=al.originating_property;al=an.license["1U1S"];if(al){am["1u1sInterval"]=al.interval;am["1u1sUrl"]=al.url;}}al=an.metrics;if(al){am.metrics=al;Y=al.ywa||[];if(Y&&Y.length>0){ak=Y[0].split(",");if(ak.length>0){Y.shift();e.each(ak,function(ap,ao,aq){if(e.Array.indexOf(Y,ap)<0){Y.push(ap);}},this);}}am.metrics.metaTags=Y;delete am.metrics.ywa;if(e.Lang.isUndefined(al.comscore_cm5)){this._model.set("warning",{type:"cmsMetricsValidation",msg:"comscore_cm5 is undefined in cms response"});}else{am.comscoreC5=al.comscore_cm5;}}al=an.yvap;if(al){am.adData=al;}al=an.closedcaptions;if(al){am.CC=al;}return am;},parseStreamNode:function(Y){return{format:this.typeToFormat(Y.mime_type),width:Y.width,height:Y.height,bitrate:Y.bitrate,duration:Y.duration,host:Y.host,path:Y.path};},typeToFormat:function(Y){var ak=ag.MIME_TYPE_MAP;return ak[Y]||"";},arrayify:function(Y){return e.Lang.isArray(Y)?Y:[Y];},getClipsQuery:function(al,an){var ak=this._model,Y=",",am=ak.get("YVAP");return e.Lang.sub(this.get("yqlClipQuery"),{store:this.get("yqlStore"),columns:al.join(","),idPredicate:this.remoteFilter("id",an),playerGuidPredicate:this.localFilter("plrs",ak.get("guid")),formatPredicate:this.localFilter("format",this.get("formats").join(Y)),protocolPredicate:this.localFilter("protocol",this.get("protocols").join(Y)),offnetworkPredicate:this.localFilter("offnetwork",ak.get("isOffNetwork")),sitePredicate:this.localFilter("site",ak.get("site")),langPredicate:this.localFilter("lang",ak.get("lang")),regionPredicate:this.localFilter("region",ak.get("region")),yvapAcctIdPredicate:this.localFilter("acctid",am.get("accountId")),playContextPredicate:this.localFilter("plidl",am.get("playContext")),pageSpaceIdPredicate:this.localFilter("pspid",ak.get("pageSpaceId")),overridePredicate:this.localFilter("override",ak.get("lms"))});},getPlaylistQuery:function(ak,al,am){var an=this._model,at=",",ao=an.get("playlist"),ar=an.get("startVideo")||"",ap=an.get("YVAP"),av=an.get("autoplay")?"medium":"large",Y=an.get("width")||this.get("widths")[av],au=an.get("height")||this.get("heights")[av],aq=1;if(an.get("carousel")){aq=this.get("playlistCount");}return e.Lang.sub(this.get("yqlPlaylistQuery"),{countPredicate:"("+al+","+aq+")",idPredicate:this.localFilter("id",ak),startVideoPredicate:this.localFilter("startvideo",ar),playIndexPredicate:this.localFilter("pidx",am),playerGuidPredicate:this.localFilter("plrs",an.get("guid")),sitePredicate:this.localFilter("site",an.get("site")),regionPredicate:this.localFilter("region",an.get("region")),langPredicate:this.localFilter("lang",an.get("lang")),formatPredicate:this.localFilter("format",this.get("formats").join(at)),protocolPredicate:this.localFilter("protocol",this.get("protocols").join(at)),yvapAcctIdPredicate:this.localFilter("acctid",ap.get("accountId")),playContextPredicate:this.localFilter("plidl",ap.get("playContext")),pageSpaceIdPredicate:this.localFilter("pspid",an.get("pageSpaceId")),offnetworkPredicate:this.localFilter("offnetwork",an.get("isOffNetwork")),overridePredicate:this.localFilter("override",an.get("lms")),widthPredicate:this.localFilter("width",Y),heightPredicate:this.localFilter("height",au)});},getRelatedVideosQuery:function(an){var ak=this._model,am=380,Y=214,al=ak.get("endscreen").algoContent||this.get("algoContent");return e.Lang.sub(this.get("yqlRelatedQuery"),{columns:this.get("relatedVideosColumns").join(","),startPredicate:this.get("relatedStart"),countPredicate:this.get("relatedCount"),idPredicate:this.localFilter("id",an),playerGuidPredicate:this.localFilter("plrs",ak.get("guid")),sitePredicate:this.localFilter("site",ak.get("site")),regionPredicate:this.localFilter("region",ak.get("region")),algoPredicate:this.localFilter("algo",al),langPredicate:this.localFilter("lang",ak.get("lang")),offnetworkPredicate:this.localFilter("offnetwork",ak.get("isOffNetwork")),widthPredicate:this.localFilter("width",am),heightPredicate:this.localFilter("height",Y)});},getMetaQuery:function(ak,al){var Y=this._model;return e.Lang.sub(this.get("yqlMetaQuery"),{columns:ak.join(","),idPredicate:this.remoteFilter("id",al),sitePredicate:this.localFilter("site",Y.get("site")),regionPredicate:this.localFilter("region",Y.get("region")),langPredicate:this.localFilter("lang",Y.get("lang")),offnetworkPredicate:this.localFilter("offnetwork",Y.get("isOffNetwork"))});},getMultiClipsQuery:function(an,ao,ap){var Y=this._model,am=this.getClipsQuery(an,ao),ak=this.getMetaQuery(an,ap),al="'"+am+ak+"'";return e.Lang.sub(this.get("yqlMultiClipsQuery"),{queriesPredicate:"queries = "+al});},clipIds:function(Y){return e.Array.map(Y.toArray(),function(ak){return ak.id;});},getFirstClip:function(Y){var ak;if(e.Lang.isArray(Y)&&Y.length>0){ak=new Array(Y[0]);return ak;}return Y;},quoteStr:function(Y){return'"'+Y+'"';},remoteFilter:function(ak,Y){var al=ak;if(Y.length>1){al+=" IN ";al+="("+e.Array.map(Y,this.quoteStr).join(", ")+")";}else{al+="=";al+='"'+Y[0]+'"';}return al;},localFilter:function(Y,ak){return Y+"="+this.quoteStr(ak);}});e.namespace("VideoPlatform").LegoCMS=ag;function B(){B.superclass.constructor.apply(this,arguments);this.queue=new e.AsyncQueue();this.isRunning=true;}B.NAME="BeaconService";B.NS="beaconService";B.ATTRS={beaconTemplate:{value:""},beacon:{value:""}};e.extend(B,e.Base,{create:function(al){var ak=this.get("beaconTemplate"),Y;
if(ak!==""){Y=e.substitute(ak,al);this.set("beacon",Y);}},send:function(){var Y=this.get("beacon"),ak;if(Y!==""){ak=e.bind(this._getBeaconJob(Y),this);this.queue.add(ak);if(this.isRunning){this.queue.run();}return true;}return false;},_getBeaconJob:function(Y){return function(){var ak,al;ak=new Image();al=function(){ak.onload=null;ak.onabort=null;ak.onerror=null;ak=null;};ak.onload=al;ak.onabort=al;ak.onerror=al;ak.src=Y;};},run:function(){this.isRunning=true;this.queue.run();},pause:function(){this.isRunning=false;this.queue.pause();},stop:function(){this.isRunning=false;this.queue.stop();}});e.namespace("VideoPlatform").BeaconService=B;function g(){g.superclass.constructor.apply(this,arguments);}g.NAME="HTMLVideoRenderer";g.NS="htmlVideoRenderer";g.VIDEO_TEMPLATE="<video {initAttrs}></video>";g._instanceInfo={};g._registerInstance=function(Y){var al=g._instanceInfo,ak=e.guid(Y);al[ak]={ref:Y,removed:false};};g._unregisterInstance=function(Y){var al=g._instanceInfo,ak=e.guid(Y);delete al[ak];};if(e.UA.ios&&undefined===g._domNodeInserted){g._domNodeRemoved=function(ak){if(1===ak.srcElement.nodeType){var Y=e.one(ak.srcElement);e.some(g._instanceInfo,function(am,al){if(am.ref._video&&Y.contains(am.ref._video)&&true!==am.syncing){am.removed=true;am.removedState={currentTime:Math.floor(am.ref._videoNode.get("currentTime"))};return true;}return false;});}};g._domNodeInserted=function(ak){if(1===ak.srcElement.nodeType){var Y=e.one(ak.srcElement);e.some(g._instanceInfo,function(am,al){if(am.ref._video&&Y.contains(am.ref._video)){h("video added");if(true===am.removed){am.resyncing=true;am.ref._recreateVideo();am.ref._reSync();am.resyncing=false;}return true;}return false;});}};h("ios - listening for mutation events...");e.one("body")._node.addEventListener("DOMNodeRemoved",g._domNodeRemoved);e.one("body")._node.addEventListener("DOMNodeInserted",g._domNodeInserted);}g.ATTRS={mediaItem:{readOnly:true,getter:function(){return this._mediaItem;}},chromeless:{},videoUrlTemplate:{value:"http://m.yahoo.com/w/web/video?u=url%5B%5D%3D{id}&lg=yep"},guid:{value:""},volume:{value:""},mute:{value:""},streamBitrate:{value:null}};function h(){}e.extend(g,z,{_container:null,_mediaItem:null,_videoNode:null,_model:null,log:function(Y,ak){},initializer:function(){var ak=arguments[0]||{},Y=ak.model,al=this;this._mediaItem=ak.mediaItem;this._model=Y;this.videoEvents={"loadeddata":this._onLoadedData,"ended":this._onEnded,"error":this._onError,"pause":this._onPause,"play":this._onPlay,"playing":this._onPlaying,"timeupdate":this._onTimeUpdate,"seeking":this._onSeeking,"waiting":this._onWaiting,"seeked":this._onSeeked,"webkitfullscreenchange":this._onFullscreenChange,"fullscreenchange":this._onFullscreenChange,"volumechange":this._onVolumeChange};if(e.UA.ios){setInterval(function(){var am=al._videoNode.get("webkitDisplayingFullscreen");if(Y.get("fullscreen")!==am){al._onFullscreenChange(null);}},300);}e.each(["videoUrlTemplate","chromeless","guid","volume","mute"],function(am){if(e.Lang.isValue(Y.get(am))){this.set(am,Y.get(am));}},this);this.after("volumeChange",function(am){this.fire(af.VOLUME_CHANGE,am.newVal);},this);this.after("muteChange",function(am){this.fire(af.MUTE_CHANGE,am.newVal);},this);g._registerInstance(this);},_renderNode:function(){var Y,ak;Y={"x-webkit-airplay":"allow"};ak=e.substitute(g.VIDEO_TEMPLATE,{initAttrs:this._toAttrString(Y)});return e.Node.create(ak);},getContent:function(){return this._videoNode;},destructor:function(){this.stop();this._unbindEventHandlers();this._videoNode.remove();},render:function(Y){h("render()",Y);this.set("videoNode",Y);this.renderUI(Y);this.bindUI();this.syncUI();return this;},renderUI:function(Y){h("renderUI()");this._videoNode=this._renderNode();this._syncStyle();if(Y){Y.appendChild(this._videoNode);}this.set("playbackPlugin",this._videoNode._node);this.set("readyState",Q.READY_STATE.HAVE_NOTHING);},bindUI:function(){this._unbindEventHandlers();this._bindEventHandlers();},syncUI:function(){var Y=this._model;this._videoNode.setAttrs(this._getVideoAttrs(this.getAttrs(),this._mediaItem));this.setVolume(Y.get("volume"));this.setMute(Y.get("mute"));this._syncStyle();},_syncStyle:function(){this._videoNode.setStyles({background:"#000",width:"100%",height:"100%"});},_recreateVideo:function(){this._videoNode.remove(true);this.renderUI();},_reSync:function(Y){var ak=this._getVideoAttrs(this.getAttrs(),this._mediaItem);delete ak.poster;this.bindUI();this._syncStyle();this._videoNode.setAttrs(ak);},_getVideoAttrs:function(ak,al){var Y={};if(ak.chromeless!==true){Y.controls="true";}return Y;},_getVideoUrl:function(am,al){var ao=am.get("streams"),an,ak,Y=am.get("streamUrl")||"";if(!e.Lang.isValue(am)){return Y;}if(ao){ao=ao.sort(function(aq,ap){return aq.bitrate-ap.bitrate;});an=e.Array.filter(ao,function(aq,ap,ar){return Number(aq.bitrate)<=al;},this);ak=(an.length===0)?ao[0]:an.pop();this.set("streamBitrate",ak.bitrate);Y=this.joinUrl(ak.host,ak.path);}return Y;},_getUrlFromTemplate:function(Y,ak){return e.substitute(Y,ak,function(al,am){return encodeURIComponent(am);});},_toAttrString:function(Y){var ak=[];e.each(Y,function(am,al){ak.push(al+'="'+am+'"');});return ak.join(" ");},_play:function(){h("_play");this._videoNode.invoke("play");},suspendControl:function(){h("suspendControl");var Y={currentTime:Math.floor(this._videoNode.get("currentTime")),ended:this._videoNode.get("ended"),paused:this._videoNode.get("paused")};this.pause();this._unbindEventHandlers();return Y;},returnControl:function(Y){if(true!==Y.ended){this._videoNode.setAttribute("autoplay","true");this._reSync(Y);}},load:function(ak){var Y=this._model.get("bitrate"),al=this._getVideoUrl(ak,Y);this._mediaItem=ak;this._videoNode.set("src",al);this._videoNode._node.load();this.play();},play:function(Y){this._videoNode.invoke("play");},pause:function(){this._videoNode.invoke("pause");},seek:function(Y){this._videoNode.set("currentTime",Y);},stop:function(){this._videoNode.invoke("pause");},getDuration:function(){return this._videoNode.get("duration");
},setFullscreen:function(Y){var ak,am=e.UA.ipad||e.UA.iphone;if(Y===true){try{this._videoNode.invoke("webkitEnterFullscreen");}catch(al){ak=al;}finally{if(null!==ak){}else{if(am){this.fire(af.FULLSCREEN_ENTER);}}}}else{this._videoNode.invoke("webkitExitFullscreen");if(am){this.fire(af.FULLSCREEN_EXIT);}}},setMute:function(Y){this._videoNode.set("muted",Y);},setVolume:function(Y){this._videoNode.set("volume",Y);},_bindEventHandlers:function(){var Y={"loadeddata":this._onLoadedData,"ended":this._onEnded,"error":this._onError,"pause":this._onPause,"play":this._onPlay,"playing":this._onPlaying,"timeupdate":this._onTimeUpdate,"seeking":this._onSeeking,"waiting":this._onWaiting,"seeked":this._onSeeked,"webkitfullscreenchange":this._onFullscreenChange,"fullscreenchange":this._onFullscreenChange,"volumechange":this._onVolumeChange};e.each(Y,function(ak,al){e.Node.DOM_EVENTS[al]=1;if(null!==ak){this._videoNode.on(al,ak,this);}},this);},_unbindEventHandlers:function(){if(this._videoNode){this._videoNode.detachAll();}},_onPlay:function(Y){this.fire(af.PLAYBACK_PLAY);},_onPlaying:function(Y){this.fire(af.PLAYBACK_PLAYING);},_onPause:function(Y){if(!this._videoNode.get("ended")){this.fire(af.PLAYBACK_PAUSED);}},_onTimeUpdate:function(Y){this.fire(af.PLAYBACK_PROGRESS,{source:g.NAME,currentTime:this._videoNode.get("currentTime"),duration:this._videoNode.get("duration")});},_onSeeking:function(Y){this.fire(af.PLAYBACK_SEEK);},_onSeeked:function(Y){this.fire(af.PLAYBACK_SEEKED,this._videoNode.get("currentTime"));},_onWaiting:function(Y){this.fire(af.PLAYBACK_WAITING);},_onLoadedData:function(Y){this.fire(af.PLAYBACK_READY);},_onEnded:function(Y){this.fire(af.PLAYBACK_COMPLETE);},_onVolumeChange:function(al){var ak=this._videoNode.get("muted"),Y=this._videoNode.get("volume");if(ak!=this.get("mute")){this.set("mute",ak);}if(Y!=this.get("volume")){this.set("volume",Y);}},_onFullscreenChange:function(ak){var Y=true===this._videoNode.get("webkitDisplayingFullscreen")?af.FULLSCREEN_ENTER:af.FULLSCREEN_EXIT;this.fire(Y);},_onError:function(am){var al=["Unknown error code 0","ABORTED - The fetching process for the media resource was aborted by the user agent at the user's request.","NETWORK - A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.","DECODE - An error of some description occurred while decoding the media resource, after the resource was established to be usable.","SRC_NOT_SUPPORTED - The media resource indicated by the src attribute was not suitable."],Y=this._videoNode.get("error"),ak=c;h("video ERROR: "+(Y?Y.code+" "+al[Y.code]:"null error. poster?"));if(Y){this.fire(af.PLAYBACK_ERROR,new e.VideoPlatform.ErrorObject(ak.ERROR.PLAYBACK.type,ak.ERROR.PLAYBACK.code,this.constructor.NAME,al[Y.code],ak.LEVEL.CRITICAL));}}});e.namespace("VideoPlatform").HTMLVideoRenderer=g;function j(){j.superclass.constructor.apply(this,arguments);}j.NAME="FlashVideoRenderer";j.NS="flashVideoRenderer";j.SWF_NAME="player.swf";j.EXPREESS_INSTALL_SWF_NAME="playerProductInstall.swf";j.FLASH_VERSION="10.2.0";j.FIXED_SWF_ATTRS={allowScriptAccess:"always",allowFullScreen:"true",wmode:J.determineWindowMode(e.UA,e.config.win.navigator.userAgent)};j.ATTRS={swfUrl:{writeOnce:"initOnly"},expressInstallSwfUrl:{writeOnce:"initOnly"}};e.extend(j,z,{_model:null,log:function(Y,ak){},initializer:function(Y){this._model=Y.model;this._controller=Y.controller;this._skipFlashCheck=Y.skipFlashCheck;if(!this.get("swfUrl")){this._set("swfUrl",J.PLAYER_ASSETS_URL+j.SWF_NAME);}if(!this.get("expressInstallSwfUrl")){this._set("expressInstallSwfUrl",J.PLAYER_ASSETS_URL+j.EXPREESS_INSTALL_SWF_NAME);}if(Y.skipFlashCheck===false){if(!this._isFlashInstalled()){this._controller.error(new e.VideoPlatform.ErrorObject(c.ERROR.NO_FLASH.type,c.ERROR.NO_FLASH.code,this.constructor.NAME,"Flash is not installed",c.LEVEL.CRITICAL));return;}}this._model.after("yvapStateChange",function(ak){if(ak.newVal===A.Events.PLUGIN_REMOVED){this._removeYVAP();}},this);},_removeYVAP:function(){var Y=this._yswf;if(Y){Y.callSWF("unloadPlugin",["YVAP"]);}},destructor:function(){},render:function(ak,Y){this.set("videoNode",ak);this._yswf=this._renderNode(ak,Y);this._yswf.on("swfReady",this._onSwfReady,this);this._yswf.on("uiInteract",this._onUiInteract,this);this._yswf.on("playerPluginResize",this._onResize,this);this._yswf.on("waiting",this._onWaiting,this);this._yswf.on("jsLog",function(al){},this);this.set("playbackPlugin",this._yswf);},_renderNode:function(am,Y){var ak=new k({model:this._model});ak.start();var ao=this.get("swfUrl"),ap=this.get("expressInstallSwfUrl"),an,aq,au,av=c.ERROR.OLD_FLASH,aw=this,at,ar,al=10000;ao=(this._model.get("hostingData.bucket")===1)?ao+"?qos=1":ao;an=(Y===undefined)?!this._skipFlashCheck:Y;aq={isExpressInstallUsed:false,testMode:Y};this.swfReadyTimer=new k({model:this._model});this.swfReadyTimer.start();au=new e.YEPSWF(am,ao,ap,{version:j.FLASH_VERSION,fixedAttributes:j.FIXED_SWF_ATTRS,useExpressInstall:an},aq);if(au!=null){au.after("yuiIntegrationError",function(ay){var ax=c.ERROR.YUI_INTEGRATION_ERR;aw._controller.error(new e.VideoPlatform.ErrorObject(ax.type,ax.code,aw.constructor.NAME,"YUI.SWF is not available",c.LEVEL.CRITICAL));});}if(aq.isExpressInstallUsed&&this._controller){this._controller.error(new e.VideoPlatform.ErrorObject(av.type,av.code,this.constructor.NAME,"Flash is not up to date",c.LEVEL.CRITICAL));}if(au!==null&&au!==undefined){ar=this._isFlashBlockerPresent(au._id);switch(ar){case"present":this._controller.warn(new e.VideoPlatform.ErrorObject(e.VideoPlatform.ErrorObject.ERROR.FLASH_BLOCKED.type,e.VideoPlatform.ErrorObject.ERROR.FLASH_BLOCKED.code,this.constructor.NAME,"Flash is blocked",c.LEVEL.WARNING));break;case"absent":break;default:case"uncertain":setTimeout(function(){at=aw.get("readyState");if(at!==Q.READY_STATE.HAVE_NOTHING){aw._controller.warn(new e.VideoPlatform.ErrorObject(e.VideoPlatform.ErrorObject.ERROR.FLASH_BLOCKED.type,e.VideoPlatform.ErrorObject.ERROR.FLASH_BLOCKED.code,aw.constructor.NAME,"Flash is blocked",c.LEVEL.WARNING));
}},al);break;}}ak.stop(ai.YSWF_NodeRendered,"rendered SWF node");return au;},load:function(Y){this._yswf.after("swfReady",function(ak){this._load(Y);},this);},play:function(Y){this._yswf.after("swfReady",function(ak){this._play(Y);},this);},pause:function(){},seek:function(Y){},stop:function(){},unload:function(){},getDuration:function(){return NaN;},setVolume:function(Y){},setMute:function(Y){},setFullscreen:function(Y){},updateControls:function(Y){if(this._yswf){this._yswf.callSWF("updateControls",[Y]);}},_load:function(an){var ak=this._model,al=ak.get("hostingData"),ao={version:ak.get("version"),site:ak.get("site"),region:ak.get("region"),bucket:(e.Lang.isObject(al))?al.bucket:0,autoplay:ak.get("autoplay"),spaceid:ak.get("pageSpaceId"),hostEnv:(e.Lang.isObject(al))?al.env:"",lang:ak.get("lang"),atlasEnv:ak.get("atlasEnv")},Y=true,am=this.convertMedia(an);this._yswf.callSWF("loadPlugin",["Conviva"]);this._yswf.callSWF("set",["playerInfo",ao]);e.Array.each(am.streams||[],function(ap){},this);if(am.CC===undefined||am.CC===null||am.CC.length===0){Y=false;}this._model.set("ccAvailable",Y);this._yswf.callSWF("updateControls",[{ccAvailable:Y,ccShow:(Y)?this._model.get("showClosedCaptions"):false}]);this._yswf.callSWF("set",["src",am]);},_play:function(ak){this._setProperties(this);if(ak){var Y=this.convertMedia(ak);this._yswf.callSWF("set",["src",Y]);}else{this._yswf.callSWF("playMedia");}},_pause:function(){this._yswf.callSWF("pauseMedia");},_stop:function(){this._pause();},_seek:function(Y){this._yswf.callSWF("set",["currentTime",Y]);},_unload:function(){},_getDuration:function(){return this._yswf.callSWF("get",["duration"]);},_setVolume:function(Y){this._yswf.callSWF("set",["volume",Y]);},_setFullscreen:function(Y){this._yswf.callSWF("set",["displayingFullscreen",Y]);},_setMute:function(Y){this._yswf.callSWF("set",["muted",Y]);},_setProperties:function(ak){var Y=ak._model.get("chromeless");ak._yswf.callSWF("set",["chromeless",Y]);ak._yswf.callSWF("set",["ybang",ak._model.get("ybang")]);},_isFlashInstalled:function(){var Y=e.SWFDetect.getFlashVersion().split(".",3);if(Y[0]==="undefined"){return false;}return true;},_recordProfilingTime:function(){var an,am,Y,al,ao,ap,ar,aq,ak=0;if(this.swfReadyTimer){this.swfLoadTimer=new k({model:this._model});an=this.swfReadyTimer.getStartTime();this._yswf.callSWF("set",["jsStartupTime",an]);am=this._yswf.callSWF("get",["profileData"]);Y=am["ProfileBrowserTime"].time;this.swfLoadTimer.recordTime(ai.YSWF_LOADED,"SWF is loaded by the browser",Y,an-this._model.START_TIME);ak=an+Y;al=am["ProfileBeforeStartup"].time;aq=ak-this._model.START_TIME;this.swfLoadTimer.recordTime(ai.YSWF_STARTUP,"SWF startup time (resolves dependencies)",al,aq);ak=ak+al;swfJsapiInitTime=am["ProfileJsapiInit"].time;this.swfLoadTimer.recordTime(ai.YSWF_YUIBRIDGE_INIT,"SWF-YUI brdge setup time",swfJsapiInitTime,ak-this._model.START_TIME);ak=ak+swfJsapiInitTime;ar=am["ProfileSwfReady"].time;ap=al+swfJsapiInitTime+ar;this.swfLoadTimer.recordTime(ai.YSWF_SWF_ONLY_INIT_TIME,"Total SWF initialization time (excluding swf download time and JS-AS communication time)",ap,aq);}},_onSwfReady:function(){var Y=this;Y.swfReadyTimer.stop(ai.YSWF_READY,"SWF is setup and ready");if(this._skipFlashCheck===false){this._recordProfilingTime();}this._setUpActualApi();this._syncUI();this._bindUI();this._yswf.callSWF("updateControls",[{playLoadAnimation:true}]);setTimeout(function(){Y._setProperties(Y);},5);this.set("readyState",Q.READY_STATE.HAVE_NOTHING);},_onUiInteract:function(Y){this.fire(Y);},_syncUI:function(){var ak=this,Y=this._model;ak.setVolume(Y.get("volume"));ak.setMute(Y.get("mute"));},_bindUI:function(){var Y=this._model,al=this._yswf,ak={loadeddata:this._onLoadedData,ended:this._onEnded,error:this._onError,pause:this._onPause,play:this._onPlay,playing:this._onPlaying,timeupdate:this._onTimeUpdate,seeking:this._onSeeking,seeked:this._onSeeked,fullscreenchange:this._onFullscreenChange,volumechange:this._onVolumeChange,infoupdate:this._onInfoUpdate,bitratechange:this._onBitrateChange,waiting:this._onWaiting};e.Object.each(ak,function(am,an){e.Node.DOM_EVENTS[an]=1;this._yswf.after(an,am,this);},this);Y.after("activeScreenStrChange",function(am){var an="info"==Y.get("activeScreenStr");al.callSWF("updateControls",[{infoSelect:an,fullscreenEnable:!an}]);});},_setUpActualApi:function(){var ak=this,Y=["load","play","pause","seek","stop","unload","setVolume","setMute","setFullscreen","getDuration"];ak.log("_setUpActualApi()");e.each(Y,function(al){ak[al]=ak["_"+al];});},convertMedia:function(an){var al=this,ao={},ap=e.Array.map(an.get("streams")||[],function(aq){return{format:aq.format,bitrate:aq.bitrate,width:aq.width,height:aq.height,host:aq.host,path:al.isAtlas(aq)?al.fixPath(aq):aq.path};}),ak=an.get("streamUrl"),Y=function(ar,aq){return ar.bitrate-aq.bitrate;},am;ao.live=an.get("isLive");ao.uuid=an.get("id");ao.showName=an.get("showName");ao.title=an.get("title");ao.CC=an.get("CC");if(ap.length){if(e.Array.every(ap,al.isPdl)){am=ap.sort(Y).pop();ao.url=al.joinUrl(am.host,am.path);}else{ao.streams=ap;}}else{if(ak&&ak.length){ao.url=ak;}}return ao;},isAtlas:function(Y){return(/atlas\.cdn\.yimg\.com/).test(Y.host);},isPdl:function(Y){return !Y.host||(/^http:\/\//).test(Y.host);},isRtmp:function(Y){return(/^rtmp(?:e|t|te|s)?:\/\//).test(Y.host);},isMp4:function(Y){return J.formats.MP4===Y.format;},fixPath:function(an){var Y=this.isRtmp(an),al=this.isMp4(an),am="mp4:",ak;ak=an.path.replace(/^\/?mp4:/,"").replace(/^\//,"");return Y&&al?am+ak:ak;},_onLoadedData:function(Y){this.fire(af.PLAYBACK_READY);},_onPlay:function(Y){this.fire(af.PLAYBACK_PLAY);},_onPlaying:function(Y){this.fire(af.PLAYBACK_PLAYING);},_onPause:function(Y){this.fire(af.PLAYBACK_PAUSED);},_onTimeUpdate:function(Y){this.fire(af.PLAYBACK_PROGRESS,{source:j.NAME,currentTime:this._yswf.callSWF("get",["currentTime"]),duration:this._yswf.callSWF("get",["duration"])});},_onEnded:function(Y){this.fire(af.PLAYBACK_COMPLETE);},_onSeeking:function(Y){this.fire(af.PLAYBACK_SEEK);
},_onSeeked:function(Y){this.fire(af.PLAYBACK_SEEKED);},_onVolumeChange:function(al){var ak=this._yswf.callSWF("get",["muted"]),Y=this._yswf.callSWF("get",["volume"]);if(ak!=this._model.get("muted")){this.fire(af.MUTE_CHANGE,ak);}if(Y!=this._model.get("volume")){this.fire(af.VOLUME_CHANGE,Y);}},_onBitrateChange:function(Y){this.fire(af.BITRATE_CHANGE,Y);},_onFullscreenChange:function(ak){var Y=this._yswf.callSWF("get",["displayingFullscreen"]);this.fire(Y?af.FULLSCREEN_ENTER:af.FULLSCREEN_EXIT);},_onError:function(ak){var Y=c;this.fire(af.PLAYBACK_ERROR,new e.VideoPlatform.ErrorObject(Y.ERROR.PLAYBACK.type,ak.code+"",this.constructor.NAME,ak.msg+"; "+ak.detail,Y.LEVEL.CRITICAL));},_onResize:function(Y){this.fire(af.PLAYER_RESIZE,{height:Y.height,width:Y.width});},_onInfoUpdate:function(Y){this.fire(af.MEDIA_INFO_UPDATE,{source:j.NAME,mediaInfo:this._yswf.callSWF("get",["mediaInfo"])});},_onWaiting:function(Y){this.fire(af.PLAYBACK_WAITING);},_isFlashBlockerPresent:function(am){var al=(e.UA.ie>0)?window.document:document,an=(e.Lang.isValue(al))?al.getElementById(am):null,Y="uncertain";if(an===null){return"absent";}if(e.UA.chrome!=0||e.UA.safari!=0){try{if(an.PercentLoaded()>0){Y="absent";}}catch(ak){Y="present";}}return Y;},getMediaInfo:function(){return this._yswf.callSWF("get",["mediaInfo"]);}});e.namespace("VideoPlatform").FlashVideoRenderer=j;var o={INIT:"Unable to init YVAP",CREATE:"Unable to create YVAP",SWF_REF:"Unable to get reference to swf",SCRIPTING:"Unable to call onContentVideoComplete() on plugin.",TIMEOUT_PRE:"No response from plugin preproll",TIMEOUT_POST:"No response from plugin post roll",TIMEOUT_CREATE:"No response from plugin instantiation",TIMEOUT_YUILOAD:"VideoAdPlugin is not loaded in YUI"};function A(){A.superclass.constructor.apply(this,arguments);}A.NAME="YVAP";A.NS="YVAP";A.Events={ADPLUGIN_READY:"adPluginReady",AD_START:"adStart",AD_END:"adEnd",AD_COMPLETE:"adComplete",AD_ERROR:"adError",AD_PROGRESS:"adProgress",AD_NONE:"adNone",AD_PLUGIN_METRIC:"adPluginMetric",PLUGIN_REMOVED:"adPluginRemoved"};A.ATTRS={model:{value:null},controller:{value:null},adPlayerData:{value:null},yvapNode:{value:null},videoNode:{value:null},pluginTimeout:{value:"3",getter:function(Y){return Number(Y);}},pluginTimer:{value:null},criticalError:{value:false,validator:e.Lang.isBoolean},videoRenderer:{value:null},enableYVAPQOS:{value:true,validator:e.Lang.isBoolean},videoAdPluginURL:{value:"videoads-flash-debug.js"},pluginState:{value:0},volume:{value:0,validator:e.Lang.isNumber}};e.extend(A,e.Base,{initializer:function(an){this._adPlugin=null;try{var ap=this,ao,al,ak,Y;for(ao in an){if(an[ao]&&an.hasOwnProperty(ao)){ap.set(ao,an[ao]);}}Y=this.get("model");if(Y.get("mute")===true){al=0;}else{al=Y.get("volume");}ap.set("volume",al);ap.after("criticalErrorChange",function(aq){if(aq.newVal===true){ap._removePlugin();}},ap);this._modelEvents={"volumeChange":this._onVolumeChange,"muteChange":this._onMuteChange,"playbackPositionChange":this._onVideoProgress,"bitrateChange":this._onBitrateChange,"adClientSizeChange":this._onPluginResize};}catch(am){}},setup:function(){var ao=this.get("controller"),ak=this.get("model"),am=ak.get("rendererType"),al=this,an,Y=this.get("videoRenderer");al._adLoadtimer=new k({model:al.get("model")});if(this.get("pluginState")>0){return;}this._manageModelEvents("after");this.after("volumeChange",al._updateAdPluginVolume,al);al._adLoadtimer.start();al.set("pluginState",1);this._createTimeout(o.TIMEOUT_YUILOAD);e.use("VideoAdPlugin",function(ap){al._cancelTimer();al._adLoadtimer.stop(ai.YVAP_LOADED,"VideoAdPlugin Module loaded into YUI");delete al._adLoadtimer;al.set("pluginState",2);if(Y.get("readyState")===0){al._initYVAP();}else{Y.on("readyStateChange",function(aq){Y.detach("readyStateChange");al._initYVAP();},al);}});},start:function(){var ak,Y=this.get("pluginState");if(Y==3){this.adStartTimer=new k({model:this.get("model")});this.adStartTimer.start();ak=this._adPlugin;if(ak){this._createTimeout(o.TIMEOUT_PRE);ak.beginAdExperience(this._createPlayerData());}else{this.raiseError(o.SCRIPTING,"VideoAdPlugin not avail");}}else{if(Y<3){this.after("pluginStateChange",function(){this.detach("pluginStateChange");this.start();},this);}}},_initYVAP:function(){var ao,Y=null,ak=this,al,am;try{ao=this._adPlugin;if(!ao){al=ak.get("videoRenderer").get("videoNode");am=e.Node.create('<div class="'+e.ClassNameManager.getClassName("videoplayer-yvap","")+'"/>');ak.set("yvapNode",am);if(ak.get("model").get("rendererType")==="html"){al.appendChild(am);}Y=ak._createAdConfig();this._adPlugin=ak._createVideoAdPlugin(Y);}}catch(an){this._cancelTimer();this.set("criticalError",true);ak.raiseError(o.INIT,an.message);}},_createAdConfig:function(){return{adContainer:e.Node.getDOMNode(this.get("yvapNode")),playerContainer:this.get("videoRenderer").get("playbackPlugin"),rendererType:this.get("model").get("rendererType"),playerData:this._createPlayerData(),clientInfo:this._createClientInfoData(),enableQOS:this.get("enableYVAPQOS"),on:{"PluginReady":this._onPluginReady,"VideoAdStart":this.onVideoAdStart,"VideoAdEnd":this.onVideoAdEnd,"PluginNoAd":this.onVideoNoAd,"VideoAdExperienceComplete":this.onVideoAdComplete,"blockingAdProgress":this.onBlockingAdProgress,"AdPluginError":this.onPluginError,"AdPluginProfiler":this._addProfilingItem,"AdPluginMetric":this._onAdPluginMetric},context:this};},_onPluginReady:function(Y){this._cancelTimer();this._onPluginResize();if(this._timerPluginReady){this._timerPluginReady.stop(ai.YVAP_READY,"VideoAdPlugin is ready");delete this._timerPluginReady;}this.set("pluginState",3);},_addProfilingItem:function(ak){var Y=new k({model:this.get("model")});Y.recordTime(ak.type,ak.message,ak.timeDiff,ak.startTime);},_onAdPluginMetric:function(Y){if(e.Lang.isObject(Y.YWAData)){this.fire(A.Events.AD_PLUGIN_METRIC,{data:Y.YWAData});}if(e.Lang.isObject(Y.profilerData)){this._addProfilingItem(Y.profilerData);}},_createPlayerData:function(){var an=null,ak=this.get("model"),Y=ak.get("currentMedia"),al=ak.get("YVAP");
try{an=new e.VideoAds.PlayerData();an.setMASAcctId(al.get("accountId"));an.setClipId(Y.get("id"));an.setClipDuration(Y.get("duration"));an.setClipCategories([al.get("playContext")]);an.setPlaylistId(al.get("playContext"));try{an.setAdData(Y.get("adData"));}catch(am){}an.addCustomParameter("ad-biz:spaceID",ak.get("pageSpaceId"));an.addCustomParameter("ad-biz:licenseID",Y.get("licenseId"));an.addCustomParameter("ad-biz:MASRulesetId",al.get("ruleSetId"));an.setIsLive(Y.get("isLive"));}catch(am){an=null;}finally{return an;}},_createClientInfoData:function(){var Y=this.get("model"),ak=Y.get("adClientSize");return{x:0,y:0,width:ak.width+"px",height:ak.height+"px",volume:this.get("volume"),bitrate:Y.get("bitrate")};},_createVideoAdPlugin:function(ak){var al=null;try{this._createTimeout(o.TIMEOUT_CREATE);this._timerPluginReady=new k({model:this.get("model")});this._timerPluginReady.start();al=new e.VideoAds.VideoAdPlugin(ak);if(!e.instanceOf(al,e.VideoAds.VideoAdPlugin)){al=null;this.set("criticalError",true);this.raiseError(o.CREATE,"unsuccessful");}}catch(Y){this.set("criticalError",true);this.raiseError(o.CREATE,Y.message);}finally{return al;}},_onPluginResize:function(ak){var Y=this._adPlugin,al=this._createClientInfoData();if(Y){Y.onClientInfoChanged(al);}},onVideoAdStart:function(Y){if(this.adStartTimer){this.adStartTimer.stop(ai.YVAP_ADSTARTED,"Ad started");delete this.adStartTimer;}this._cancelTimer();this.fire(A.Events.AD_START,{volume:Y.volume,adslug:Y.adslug,timer:Y.timer,scale:Y.scale,blocking:Y.blocking});},onVideoAdEnd:function(Y){this.fire(A.Events.AD_END);},onVideoAdComplete:function(Y){this.fire(A.Events.AD_COMPLETE);},onVideoNoAd:function(Y){if(this.adStartTimer){this.adStartTimer.stop(ai.YVAP_NOAD,"Ad None");delete this.adStartTimer;}this._cancelTimer();this.fire(A.Events.AD_NONE);},onBlockingAdProgress:function(Y){this.fire(A.Events.AD_PROGRESS,{duration:Y.totalDuration,position:Y.position});},onPluginError:function(ak){var Y=this;Y._cancelTimer();if(Y.adStartTimer){Y.adStartTimer.stop(ai.YVAP_ERROR,"Ad Error");delete Y.adStartTimer;}this.set("criticalError",true);Y.fire(A.Events.AD_ERROR,ak);},raiseError:function(ak,Y){this.fire(A.Events.AD_ERROR,{message:ak,cause:Y});},_manageModelEvents:function(ak){var Y=this.get("model"),al=ak;if(Y[al]){e.each(this._modelEvents,function(an,am,ao){Y[al](am,an,this);},this);}},_onVolumeChange:function(Y){this.set("volume",Y.newVal);},_onMuteChange:function(Y){if(Y.newVal===true){this.set("volume",0);}else{this.set("volume",this.get("model").get("volume"));}},_updateAdPluginVolume:function(ak){var Y=this._adPlugin;if(Y){Y.onVolumeChange(ak.newVal);}},onVideoComplete:function(){var Y=this._adPlugin;if(Y){this._createTimeout(o.TIMEOUT_POST);this.adStartTimer=new k({model:this.get("model")});this.adStartTimer.start();Y.onContentVideoComplete();}else{this.raiseError(o.SCRIPTING,"VideoAdPlugin not avail");}},_onVideoProgress:function(ak){var Y=this._adPlugin,am=ak.newVal,al=this.get("model").get("currentMedia").get("duration");if(Y){Y.onContentVideoProgress({position:am,duration:al});}},_onBitrateChange:function(){var al=this._createClientInfoData(),ak=this._adPlugin;try{ak.onClientInfoChanged(al);}catch(Y){}},_createTimeout:function(al){var ak,Y;if(this.get("criticalError")){return;}ak=this.get("pluginTimeout")*1000;Y={timer:e.later(ak,this,"_timerResponse"),type:al};this.set("pluginTimer",Y);},_timerResponse:function(){var al=this,am=al._adPlugin,ak=this.get("pluginTimer"),Y;if(ak==null){return;}if(am){am.subscribe("AdPluginTimeout",function(){al.set("criticalError",true);},al);am.timeout();}al.raiseError(ak.type,"VideoAdPlugin process timed out");},_cancelTimer:function(){var Y=this.get("pluginTimer");if(Y&&Y.timer){Y.timer.cancel();}this.reset("pluginTimer");},_removePlugin:function(){var am=this._adPlugin,Y=this,ak=A.Events;if(!am){return;}function al(){Y._adPlugin=null;Y.fire(ak.PLUGIN_REMOVED);Y._manageModelEvents("detach");}if(am.detachAll){am.detachAll();}if(am.destroy){am.subscribe("AdPluginDestroy",function(){al();},Y);am.destroy();}else{al();}}});e.namespace("VideoPlatform").YVAP=A;function T(){T.superclass.constructor.apply(this,arguments);}T.ATTRS={jsonpMethod:{value:e.jsonp},requestTimeout:{value:8}};T.NAME="OUOSService";T.NS="OUOSService";e.extend(T,e.Base,{log:function(Y,ak){},ping:function(an,am){var Y=this,ak=an.get("1u1sUrl")+"&callback={callback}",ao=Y.get("jsonpMethod"),ap=Y.get("timeout"),al=am.context||null;ao(ak,{on:{success:function(aq){am.success.call(al,Y.parseResponse(aq));},failure:function(aq){am.failure.call(al,aq);}},timeout:ap,context:this});},parseResponse:function(ak){var Y=ak&&ak.query&&ak.query.results?ak.query.results.status:1;return Y!==0;}});e.namespace("VideoPlatform").OUOSService=T;function r(){r.superclass.constructor.apply(this,arguments);}r.ATTRS={};r.NAME="1U1S";r.NS="1U1S";e.extend(r,e.Base,{_currentMedia:null,_service:new T(),_interval:NaN,log:function(Y,ak){},isEnforceable:function(an){var am=false,ak=an.get("1u1sUrl"),al=an.get("1u1sInterval"),Y=e.Lang;if((Y.isString(ak)&&ak.length)&&(Y.isNumber(al)&&al>0)){am=true;}return am;},start:function(Y){this._model=Y;if(Y){Y.after("currentMediaChange",this._currentMediaChange,this);}},startEnforce:function(an){var ak=this,am=an.get("1u1sUrl"),al=an.get("1u1sInterval")*1000;ak.log("startEnforce() url: "+am+" , int(seconds): "+(al/1000));ak._currentMedia=an;function Y(){ak._service.ping(an,{success:function(ao){if(!ao){ak.stopEnforce();ak.fire("disconnect");}},failure:function(){ak.log("ping() failure()");},context:ak});}ak._interval=setInterval(Y,al);Y();},stopEnforce:function(){clearInterval(this._interval);},_currentMediaChange:function(an){var am=this,ak=am._model,Y=ak.get("currentMedia");this.stopEnforce(this._currentMedia);if(Y&&am.isEnforceable(Y)){if(ak.get("isPlaying")){am.startEnforce(Y);}else{ak.after("isPlayingChange",function al(ao){if(true===ao.newVal){ak.detach("isPlayingChange",al);am.startEnforce(Y);}});}}}});e.namespace("VideoPlatform").OUOS=r;
function I(){I.superclass.constructor.apply(this,arguments);}I.NAME="CookieHandler";I.NS="CookieHandler";I.ATTRS={};e.extend(I,e.Base,{DAYS_IN_A_YEAR:365,initializer:function(Y){this.model=Y.model;this._observeModel();},isCookieEnabled:function(){return navigator.cookieEnabled;},removeYepCookie:function(){if(!this.isCookieEnabled()){return;}e.Cookie.remove("V",{path:"/",domain:"yahoo.com"});},setSubCookies:function(ak){var Y=new Date(),al=this;if(!al.isCookieEnabled()||e.Lang.isNull(e.Cookie.get("V"))||e.Lang.isNull(ak)||!e.Lang.isObject(ak)){return;}Y.setDate(Y.getDate()+al.DAYS_IN_A_YEAR);e.Cookie.setSubs("V",ak,{path:"/",domain:"yahoo.com",expires:Y});},setSubCookie:function(ak,am){var Y=new Date(),al=this;if(!al.isCookieEnabled()||e.Lang.isNull(e.Cookie.get("V"))||!e.Lang.isValue(ak)||!e.Lang.isValue(am)){return;}Y.setDate(Y.getDate()+al.DAYS_IN_A_YEAR);e.Cookie.setSub("V",ak,am,{path:"/",domain:"yahoo.com",expires:Y});},getSubCookies:function(){var Y=null;if(!this.isCookieEnabled()){return null;}Y=e.Cookie.getSubs("V");if(!e.Lang.isNull(Y)&&e.Lang.isObject(Y)){if(e.Lang.isValue(Y.v)){Y.v=parseFloat(Y.v);}if(e.Lang.isValue(Y.cc)){Y.cc=parseInt(Y.cc);}if(e.Lang.isValue(Y.m)){Y.m=parseInt(Y.m);}}return Y;},createAndLoadCookies:function(){var Y=null,ak=null,am=this,al=am.model,ao,ap,an;if(e.Lang.isNull(al)){return;}ao=al.get("volume");ap=al.get("showClosedCaptions");an=al.get("mute");Y=am._createYepCookie();if(e.Lang.isNull(Y)){return;}if(Y==""){subCookies={v:ao,cc:ap?1:0,m:an?1:0};am.setSubCookies(subCookies);}else{subCookies=am.getSubCookies();if(e.Lang.isNull(subCookies)){return;}if(e.Lang.isValue(subCookies.v)){al.set("volume",subCookies.v);}if(e.Lang.isValue(subCookies.cc)){al.set("showClosedCaptions",(subCookies.cc===1));}if(e.Lang.isValue(subCookies.m)){al.set("mute",(subCookies.m===1));}}},_createYepCookie:function(){var ak=e.Cookie.get("V"),Y=new Date(),al=this;if(!al.isCookieEnabled()){return null;}Y.setDate(Y.getDate()+al.DAYS_IN_A_YEAR);if(e.Lang.isNull(ak)||ak===""){e.Cookie.set("V","",{path:"/",domain:"yahoo.com",expires:Y});}return e.Cookie.get("V");},_observeModel:function(){var ak=this,Y=ak.model,am,an,al;Y.after("volumeChange",function(ao){am=ao.newVal;if(e.Lang.isValue(am)){am=am.toFixed(2);if(am<0){am=0;}ak.setSubCookie("v",am);}},this);Y.after("showClosedCaptionsChange",function(ao){an=ao.newVal;if(e.Lang.isValue(an)){an=(an===true)?1:0;ak.setSubCookie("cc",an);}},this);Y.after("muteChange",function(ao){al=ao.newVal;if(e.Lang.isValue(al)){al=(al===true)?1:0;ak.setSubCookie("m",al);}},this);}});e.namespace("VideoPlatform").CookieHandler=I;function f(){f.superclass.constructor.apply(this,arguments);}f.NAME="Carousel";f.NS="carousel";f.ATTRS={};e.extend(f,e.Base,{initializer:function(Y){var Y=Y[0]||Y;this._mediaItems=Y.mediaItems;this._view=Y.view;this.index=0;this._itemCount=this._mediaItems.length;this._mediaItemDomArray=[];this._showMetadata=Y.showMetadata;this._dimensions=Y.dimensions;this._layout={};this.pltype=Y.pltype;this.isAnimating=false;this.animDelay=0;this._touch={"prevClientX":null,"ignore":false};e.publish("VideoPlayer.Carousel.thumbnailClick",{broadcast:2});e.publish("VideoPlayer.Carousel.navigationClick",{broadcast:2});e.publish("VideoPlayer.Carousel.touch",{broadcast:2});},_calculateLayout:function(an){var Y=an.get("offsetWidth"),am=an.get("offsetHeight"),ak,al;this._layout.thumbSpacing=this._dimensions.spacing;this._layout.itemWidth=this._dimensions.itemWidth+this._layout.thumbSpacing;this._layout.itemHeight=this._dimensions.itemHeight+this._layout.thumbSpacing;al=this._calculateLayoutAxis(am,this._layout.itemHeight);this._layout.marginHeight=al.margin;this._layout.rows=al.dimension;ak=this._calculateLayoutAxis(Y,this._layout.itemWidth);this._layout.marginWidth=ak.margin;this._layout.cols=ak.dimension;itemsInPage=this._layout.rows*this._layout.cols;lastPageWidth=this._itemCount%itemsInPage;if(lastPageWidth>this._layout.cols){lastPageWidth=this._layout.cols;}this._layout.itemsInRow=(parseInt(this._itemCount/itemsInPage)*this._layout.cols)+lastPageWidth;},_calculateLayoutAxis:function(ak,Y){var al=ak%Y;if(al<this._dimensions.carouselMargin){al=Y;dimension=parseInt((ak-al)/Y);}else{dimension=parseInt(ak/Y);}return{"dimension":dimension,"margin":al};},render:function(Y){this._calculateLayout(Y);this.renderContainer(Y);this.loadItems();this.showPage(0);this._syncNavigation();this._bindUI();},renderContainer:function(an){var Y=an.get("offsetWidth"),am=f.NS,aq,ao,ak,al=this,ap='<div class="yui3-videoplayer-carousel-left-container yui3-videoplayer-arrow-container"><div class="yui3-videoplayer-carousel-left yui3-videoplayer-arrow"></div></div><div class="yui3-videoplayer-carousel-right-container yui3-videoplayer-arrow-container"><div class="yui3-videoplayer-carousel-right yui3-videoplayer-arrow"></div></div>';this.container=this.createNode("div","container",am);this.viewport=this.createNode("ul","viewport",am);for(aq=0;aq<this._itemCount;aq++){ao=this._mediaItems[aq];this._addMediaItem(aq,ao);}this.container.append(this.viewport);this.container.append(ap);an.append(this.container);this.viewport.setStyle("margin",parseInt(this._layout.marginHeight/2)+"px "+parseInt(this._layout.marginWidth/2)+"px");if(e.UA.ie>=7&&e.UA.ie<8){this.container.all(".yui3-videoplayer-arrow-container").setStyle("height",this.container.get("offsetHeight")+"px");}this.enable();},loadItems:function(){var aq=this._layout.cols,ar=this._layout.rows,al=parseInt(this._layout.itemsInRow/aq),Y=(this._layout.itemsInRow%aq)===0?parseInt(al):(al+1),at,an,am,au,ak,ap,ao;for(at=0;at<Y;at++){leftPos=at*this._layout.itemWidth*aq;for(an=0;an<aq;an++){ak=leftPos+(an*this._layout.itemWidth)+(this._layout.thumbSpacing/2);for(am=0;am<ar;am++){ao=(at*(aq*ar))+an+(am*aq);au=this._mediaItemDomArray[ao];if(!au){continue;}ap=(am*this._layout.itemHeight);au.setStyle("top",ap);au.setStyle("left",Math.round(ak));}}}},_addMediaItem:function(al,am){var ak;if(am.images){ak=am.images.small||am.images.medium||am.images.large;
}if(!ak){ak=J.PLAYER_ASSETS_URL+"video_thumb_nopic.png";}if(this._showMetadata){template='<li class="yui3-videoplayer-carousel-viewport-item"><img src="'+ak+'" width="'+this._dimensions.imageWidth+'" height="'+this._dimensions.imageHeight+'"><div class="metadata-container"><div class="metadata"><p class="title">'+am.title+'</p><p class="provider">'+am.provider.name+'</p><p class="duration">'+am.clipDuration+"</p></div></div></li>";}else{template='<li class="yui3-videoplayer-carousel-viewport-item"><img src="'+ak+'" width="'+this._dimensions.imageWidth+'" height="'+this._dimensions.imageHeight+'"></li>';}var Y=e.Node.create(template);Y.setData("param",{"index":al,"plType":this.pltype});Y.setStyle("width",this._dimensions.itemWidth);Y.setStyle("height",this._dimensions.itemHeight);this.viewport.append(Y);this._mediaItemDomArray.push(Y);},navLeft:function(Y){if(Y.isAnimating===true){return;}Y.isAnimating=true;Y.scrollTo(Y.index-Y._layout.cols);setTimeout(function(){Y.isAnimating=false;},Y.animDelay);},navRight:function(Y){if(Y.isAnimating===true){return;}Y.isAnimating=true;Y.scrollTo(Y.index+Y._layout.cols);setTimeout(function(){Y.isAnimating=false;},Y.animDelay);},_bindUI:function(){var Y=this;Y.container.one(".yui3-videoplayer-carousel-left").on("click",function(){Y.navLeft(Y);e.fire("VideoPlayer.Carousel.navigationClick",Y.pltype=="endScreen"?"es-navl":"pc-navl");});Y.container.one(".yui3-videoplayer-carousel-right").on("click",function(){Y.navRight(Y);e.fire("VideoPlayer.Carousel.navigationClick",Y.pltype=="endScreen"?"es-navr":"pc-navr");});Y.container.one(".yui3-videoplayer-carousel-viewport").delegate("click",function(ak){e.fire("VideoPlayer.Carousel.thumbnailClick",ak.currentTarget.getData("param"));},"li.load");Y.viewport.on("touchstart",Y._touchStart,Y);Y.viewport.on("touchmove",Y._touchMove,Y);Y.viewport.on(["touchend","touchcancel"],Y._touchEnd,Y);},showPage:function(an){var ao=this._layout.cols,ap=this._layout.rows,am=an*ao,aq=100,al,ak,ar,Y;this.container.all("li.load").removeClass("load");Y=an*this._layout.itemWidth*ao;for(al=0;al<ao;al++){for(ak=0;ak<ap;ak++){aq+=100;am=(an*(ao*ap))+al+(ak*ao);ar=this._mediaItemDomArray[am];if(!ar){continue;}this._showItem(ar,aq);}}this.animDelay=aq;},_showItem:function(ak,Y){if(typeof ak!=="undefined"){setTimeout(function(){ak.addClass("load");},Y);}},scrollTo:function(Y){while(Y>this._layout.itemsInRow){Y-=this._layout.itemsInRow;}var ak=(((Y*(this._dimensions.imageWidth+this._layout.thumbSpacing))*-1)+parseInt(this._layout.marginWidth/2))+"px";if(ak==this.viewport.getStyle("marginLeft")){return;}this.viewport.setStyle("marginLeft",ak);this.showPage(Y/this._layout.cols);this.index=Y;this._syncNavigation();},_syncNavigation:function(){if((this._itemCount/this._layout.rows)>this._layout.cols){this.disableArrow("left");this.disableArrow("right");if(this.index>0){this.enableArrow("left");}if(this.index<(this._layout.itemsInRow-this._layout.cols)){this.enableArrow("right");}}},disable:function(){this.container.removeClass("yui3-videoplayer-enabled");this.clearIndicator();},enable:function(){this.container.addClass("yui3-videoplayer-enabled");},enableArrow:function(Y){this.container.addClass("yui3-videoplayer-"+Y+"-enabled");},disableArrow:function(Y){this.container.removeClass("yui3-videoplayer-"+Y+"-enabled");},setIndicator:function(ak,al){this.clearIndicator();if(typeof this._mediaItemDomArray[ak]==="undefined"){return;}var Y=this._view.createNode("span","viewport-item-indicator",f.NS);Y.set("innerHTML",al);this._mediaItemDomArray[ak].append(Y);if(ak%(this._layout.rows*this._layout.cols)==0){this.scrollTo(ak);}},clearIndicator:function(){this.viewport.all(".yui3-videoplayer-carousel-viewport-item-indicator").remove();},destructor:function(){this.container.remove();},createNode:function(ao,ak,am){var Y={img:true,input:true},an=am?"-"+am:"",al;if(ao in Y){al=e.Node.create("<"+ao+' class="'+e.ClassNameManager.getClassName("videoplayer"+an,ak)+'"/>');}else{al=e.Node.create("<"+ao+' class="'+e.ClassNameManager.getClassName("videoplayer"+an,ak)+'"></'+ao+">");}return al;},_touchStart:function(Y){if(this._touch.prevClientX!=null){return;}this._touch.prevClientX=Y.touches[0].clientX;this._touch.offset=0;this._touch.viewportMarginLeft=parseInt(this.viewport.getStyle("marginLeft"));this.viewport.addClass("touch");this._touch.startPageX=Y.touches[0].pageX;this._touch.startPageY=Y.touches[0].pageY;},_touchMove:function(Y){if(this._touch.prevClientX==null||this._touch.ignore){return;}if(this._touch.offset===0&&this._isTouchMoveVertical(this._touch.startPageX,Y.touches[0].pageX,this._touch.startPageY,Y.touches[0].pageY)){this._touch.ignore=true;return;}Y.preventDefault();this._touch.offset+=this._touch.prevClientX-Y.touches[0].clientX;this._touch.prevClientX=Y.touches[0].clientX;this.viewport.setStyle("marginLeft",(this._touch.viewportMarginLeft-this._touch.offset)+"px");this.viewport.all(".yui3-videoplayer-carousel-viewport-item:not(.load)").setStyle("opacity",Math.min(0.6,Math.abs(this._touch.offset)/200));},_touchEnd:function(ak){if(this._touch.prevClientX==null){return;}var Y=100;this._touch.prevClientX=null;this._touch.ignore=false;this.viewport.removeClass("touch");this.viewport.all(".yui3-videoplayer-carousel-viewport-item:not(.load)").setStyle("opacity","");if(this._touch.offset>Y&&this.index<(this._layout.itemsInRow-this._layout.cols)){this.navRight(this);e.fire("VideoPlayer.Carousel.touch",this.pltype=="endScreen"?"es-swipe":"pc-swipe");}else{if(this._touch.offset<-Y&&this.index>0){this.navLeft(this);e.fire("VideoPlayer.Carousel.touch",this.pltype=="endScreen"?"es-swipe":"pc-swipe");}else{if(this._touch.offset!==0){this.viewport.setStyle("marginLeft",this._touch.viewportMarginLeft+"px");}}}},_isTouchMoveVertical:function(ak,am,Y,al){return((180/Math.PI)*Math.atan2(Math.abs(al-Y),Math.abs(am-ak)))>=60;}});e.namespace("VideoPlatform").Carousel=f;function q(){q.superclass.constructor.apply(this,arguments);}q.NAME="Graph";q.NS="graph";q.ATTRS={};e.extend(q,e.Base,{initializer:function(Y){this.color=Y.color;
this.width=Y.width;this.height=Y.height;this.graphHeight=Y.graphHeight;},render:function(ak){var Y=e.Node.create('<canvas width="'+this.width+'" height="'+this.height+'"></canvas>');ak.append(Y);this.canvas=Y;this.context=Y._node.getContext("2d");},appendSwitchReasonLogs:function(ao,an){var al=0,Y,am,ak;this.context.font="8pt Monospace";for(Y=0;Y<ao.length;Y++){if(ao[Y]!=="None"){al++;am=Math.floor(Y/3600)+":"+Math.floor((Y%3600)/60)+":"+((Y%3600)%60);ak=am+" - Switched to "+an[Y]+" kbps. Reason: "+ao[Y];this.context.fillText(ak,10,this.graphHeight+15*al);}}},syncUI:function(ao,an,Y){if(ao.length>=2){var ap,aq,ak,al,am=this.context;if(an===undefined&&Y===undefined){an=ao[1];Y=ao[1];for(aq=2;aq<ao.length;aq++){ap=ao[aq];an=Math.min(an,ap);Y=Math.max(Y,ap);}}am.clearRect(0,0,this.width,this.graphHeight);am.save();am.translate(40,this.graphHeight-2);ak=(this.graphHeight-4)/(Y-an);al=(this.width-40)/240;am.scale(al,-1*ak);am.beginPath();am.moveTo(0,ao[0]-an);for(aq=1;aq<ao.length;aq++){am.lineTo(aq,ao[aq]-an);}am.restore();am.save();am.lineWidth=3;am.lineCap="round";am.lineJoin="round";am.strokeStyle=this.color;am.stroke();am.font="8pt Monospace";am.fillStyle=this.color;am.fillText(Y,0,10);am.fillText(an,0,this.graphHeight);am.restore();}},destructor:function(){}});e.namespace("VideoPlatform").Graph=q;function u(){u.superclass.constructor.apply(this,arguments);}u.NAME="DetailScreen";u.NS="detailscreen";u.ATTRS={};e.extend(u,e.Base,{log:function(ak,Y){},initializer:function(Y){this._model=Y.model;this._view=Y.view;},render:function(an){var am=u.NS,al=this,ap=al._view,ak,Y,ao;al._node=an;al._container=ap.createNode("div","container",am);al._close=ap.createNode("button","close",am);al._wrapper=ap.createNode("div","wrapper",am);al._tableWrapper=ap.createNode("div","table-wrapper",am);al._detailsTable=ap.createNode("table","details-table",am);al._tb=ap.createNode("tbody","details-table-body",am);al._version=ap.createNode("td","version",am);al._hostingBucket=ap.createNode("td","hosting-bucket",am);al._hostingColo=ap.createNode("td","hosting-colo",am);al._hostingEnv=ap.createNode("td","hosting-env",am);al._uuid=ap.createNode("td","uuid",am);al._guid=ap.createNode("td","guid",am);al._lang=ap.createNode("td","lang",am);al._offNetwork=ap.createNode("td","off-network",am);al._profileLogLink=ap.createNode("span","profile-log-link",am);al._close.addClass("close");al._host=null;al._streamUrl=null;al._appendTitleRow("About Yahoo Video Player");al._appendRow("version","Version");if(al._model.get("rendererType")==="flash"){if(!!document.createElement("canvas").getContext){al._appendTitleRow("Bit Rate History");al._appendGraphRow("currentStreamBitrate");al._appendTitleRow("Download Speed History");al._appendGraphRow("currentKbps");al._appendTitleRow("Frame Rate History");al._appendGraphRow("frameRate");}al._appendTitleRow("Current Media");al._appendRow("uuid","UUID");al._appendRow("currentStreamBitrate","Bit Rate");al._appendRow("quality-levels","Total Quality Levels");al._appendRow("high-quality-ratio","High Quality Play Ratio");al._appendRow("frameRate","Frame Rate");al._appendRow("dropped-frames","Dropped Frames");al._appendRow("download-speed","Download Speed");al._appendRow("buffer-length","Buffer length / time ");al._appendRow("stream-playback-rate","Stream Playback Rate");al._appendRow("video-buffer-length","Video Buffer Length");al._appendRow("total-memory","Memory Used");al._appendRow("hw-decoding","Hardware Decoding");al._appendRow("hw-rendering","Hardware Rendering");al._appendRow("media-size","Media Size");}al._appendTitleRow("Error");al._appendRow("error-type","Error Type");al._appendRow("error-code","Error Code");al._appendRow("error-msg","Error Msg");al._appendTitleRow("User Agent");al._appendRow("os","OS");ak=e.UA;for(Y in ak){ao=ak[Y];if(ao!==undefined&&e.Lang.isNumber(ao)&&ao>0){al._appendRow(Y,Y);}}al._appendRow("flash","Adobe Flash");al._appendTitleRow("Hosting");al._appendRow("hosting-bucket","Bucket");al._appendRow("hosting-colo","Colo");al._appendRow("hosting-env","Env");al._appendTitleRow("Instance");al._appendRow("guid","GUID");al._appendRow("lang","Lang");al._appendRow("off-network","Off Network");al._close.set("innerHTML","X");al._close.setAttribute("alt","Close Detail Overlay");al._profileLogLink.set("innerHTML","Profile");al._detailsTable.append(al._tb);al._tableWrapper.append(al._detailsTable);al._wrapper.append(al._tableWrapper);al._container.append(al._wrapper);al._container.append(al._close);al._container.append(al._profileLogLink);an.append(al._container);al._bindUI();al._syncUI();setTimeout(function(){al._container.addClass("yui3-videoplayer-show");},10);},_appendGraphRow:function(Y){var am=e.Node.create("<td></td>"),al=e.Node.create("<tr></tr>"),ak;am.addClass("graph");am.setAttribute("colspan",2);al.append(am);this._tb.append(al);ak=new q({color:"white",width:280,height:30,graphHeight:30});ak.render(am);this[Y+"-graph"]=ak;},_appendTitleRow:function(ak){var al=e.Node.create("<td></td>"),Y=e.Node.create("<tr></tr>");al.addClass("title");al.set("innerHTML",ak);al.setAttribute("colspan",2);Y.append(al);this._tb.append(Y);},_appendRow:function(Y,ak){this[Y]=this._view.createNode("td",Y,u.NS);var am=this[Y],al=e.Node.create("<tr></tr>");am.addClass("value");al.append(e.Node.create('<td class="label">'+ak+":</td>"));al.append(am);this._tb.append(al);},_bindUI:function(){var al=this,ak=al._view,Y=al._model;al._close.on("click",function(){ak.set("activeOverlay",undefined);});Y.after("currentMediaChange",function(am){this._bindToCurrentMedia();al._syncUI();},this);al._bindToCurrentMedia();Y.after("errorChange",function(am){al._syncUI();},this);al._addCanvasClickHandler("currentStreamBitrate");al._addCanvasClickHandler("frameRate");al._addCanvasClickHandler("currentKbps");al._profileLogLink.on("click",function(){ak.openProfiler();});},_addCanvasClickHandler:function(Y){var al=this,ak=Y+"-graph";if(this[ak]){this[ak].canvas.on("click",function(){var am=e.Node.create("<div></div>"),at=120,ar=al._model.get("currentMedia").get("history"),ao=ar[Y],aq=0,av,au,ap,an;
if(Y==="currentStreamBitrate"){ap=ar["streamSwitchReason"];for(an=0;an<ap.length;an++){if(ap[an]!=="None"){aq++;}}at=120+aq*15;}av=new q({color:"#333",width:520,height:at,graphHeight:120});av.render(am);av.syncUI(ao);if(Y==="currentStreamBitrate"){av.appendSwitchReasonLogs(ap,ao);}au=av.canvas._node.toDataURL();window.open(au);});}},_bindToCurrentMedia:function(){var Y=this._model,ak=this;if(Y&&Y.get("currentMedia")){Y.get("currentMedia").after("mediaInfoChange",function(al){ak._syncUI();},this);}},_syncUI:function(){var ao=this._model,at=ao.get("hostingData"),av=ao.get("error"),al=ao.get("currentMedia"),ak=e.UA,au,am,an,Y,ar,ap,aq;this.version.set("innerHTML",ao.get("version"));this.os.set("innerHTML",e.UA.os);this.flash.set("innerHTML",e.UA.flashMajor+"."+e.UA.flashMinor+"."+e.UA.flashRev);for(au in ak){am=ak[au];if(am!==undefined&&e.Lang.isNumber(am)&&am>0){this[au].set("innerHTML",am);}}if(e.Lang.isObject(at)){this["hosting-bucket"].set("innerHTML",at.bucket);this["hosting-colo"].set("innerHTML",at.colo);this["hosting-env"].set("innerHTML",at.env);}this.guid.set("innerHTML",ao.get("guid"));this.lang.set("innerHTML",ao.get("lang"));this["off-network"].set("innerHTML",ao.get("isOffNetwork"));if(e.Lang.isObject(av)){this["error-type"].set("innerHTML",av.type);this["error-code"].set("innerHTML",av.code||"");this["error-msg"].set("innerHTML",av.message||"");}if(al&&this.uuid){an=al;Y=an.get("id");if(Y!==null){this.uuid.set("innerHTML",Y);}}if(al&&al.get("mediaInfo")&&ao.get("rendererType")==="flash"){an=ao.get("currentMedia");ar=an.get("mediaInfo");if(ar.currentStreamBitrate!==null){this.currentStreamBitrate.set("innerHTML",ar.currentStreamBitrate+" kbps");}if(ar.qualityLevels!==null){this["quality-levels"].set("innerHTML",ar.qualityLevels);}if(ar.highestQualityPlaybackRatio!==null){this["high-quality-ratio"].set("innerHTML",ar.highestQualityPlaybackRatio+" %");}if(ar.frameRate!==null){this.frameRate.set("innerHTML",ar.frameRate+" fps");}if(ar.droppedFrames!==null){this["dropped-frames"].set("innerHTML",ar.droppedFrames);}if(ar.currentKbps!==null){this["download-speed"].set("innerHTML",ar.currentKbps+" kbps");}if(ar.bufferLength!==null&&ar.bufferTime!==null){this["buffer-length"].set("innerHTML",ar.bufferLength+" sec / "+ar.bufferTime+" sec");}if(ar.playbackBytesPerSecond!==null){this["stream-playback-rate"].set("innerHTML",ar.playbackBytesPerSecond+" kbps");}if(ar.videoBufferLength!==null){this["video-buffer-length"].set("innerHTML",ar.videoBufferLength+" sec");}if(ar.totalMemory!==null){this["total-memory"].set("innerHTML",ar.totalMemory+" MB");}if(ar.hwDecoding!==null){ap=(ar.hwDecoding===true)?"Yes":"No";this["hw-decoding"].set("innerHTML",ap);}if(ar.hwRendering!==null){aq=(ar.hwRendering===true)?"Yes":"No";this["hw-rendering"].set("innerHTML",aq);}if(ar.mediaWidth!==null&&ar.mediaHeight!==null){this["media-size"].set("innerHTML",ar.mediaWidth+" x "+ar.mediaHeight);}if(this["currentStreamBitrate-graph"]){if(ar.minBitRate&&ar.maxBitRate){this["currentStreamBitrate-graph"].syncUI(an.get("history").currentStreamBitrate,ar.minBitRate,ar.maxBitRate);}else{this["currentStreamBitrate-graph"].syncUI(an.get("history").currentStreamBitrate);}}if(this["frameRate-graph"]){this["frameRate-graph"].syncUI(an.get("history").frameRate);}if(this["currentKbps-graph"]){this["currentKbps-graph"].syncUI(an.get("history").currentKbps);}}},destructor:function(){this._container.removeClass("yui3-videoplayer-show");var Y=this;setTimeout(function(){Y._container.remove();},500);}});e.namespace("VideoPlatform").DetailScreen=u;function Z(){Z.superclass.constructor.apply(this,arguments);}Z.NAME="InfoScreen";Z.NS="infoscreen";Z.ATTRS={};e.extend(Z,e.Base,{initializer:function(Y){this._model=Y.model;this._view=Y.view;},render:function(ay){this._node=ay;var aA=Z.NS,at=this._view,ap=this,aq=at._controller.getStrings(),ak=ay.get("offsetWidth"),ao=ay.get("offsetHeight"),av=15,aD=3,az=ak-(av*3)-(aD*2),au=this._view.createNode("div","container",aA),an=this._view.createNode("div","tint",aA),ax=this._view.createNode("div","top",aA),Y=this._view.createNode("h3","now-playing",aA),am=this._view.createNode("a","image-link",aA),al=this._view.createNode("div","left",aA),aE=this._buildImage(az),aB=this._buildRight(az),aw=this._view.createNode("button","close",aA),ar=this._buildCcComplaintsLink(az,ao),aC=ao-40;au.set("offsetHeight",aC);this._container=au;this.imgLink=am;this.close=aw;am.append(aE);aw.addClass("close");aw.set("innerHTML","X");al.append(am);ax.append(Y);ax.append(al);ax.append(aB);Y.set("innerHTML",aq.NOW_PLAYING);ax.append(aw);au.append(an);au.append(ax);if(ar){au.append(ar);}ay.append(au);this._bindUI();setTimeout(function(){ap._container.addClass("yui3-videoplayer-show");},5);if(this._model.get("rendererType")==="html"){this._view._hideVideoTag();}},_buildRight:function(ao){var al=this._model.get("currentMedia"),ay=0,au=typeof(al.get("title"))==="string"?al.get("title"):"",Y=typeof(al.get("description"))==="string"?al.get("description"):"",ak=this._node.get("offsetHeight"),am=Z.NS,at=this._view.createNode("h3","title",am),ap=this._view.createNode("p","desc",am),ax=this._view.createNode("table","share",am),an=this._view.createNode("tbody","share-body",am),ar=this._buildLink(),aq=this._buildEmbed(),aw=this._buildFbLink(),av=this._view.createNode("div","right",am);av.set("offsetWidth",ao*0.6);at.set("innerHTML",au);at.setAttribute("tabIndex",-1);ap.set("innerHTML",Y);if(this._view.get("screenSize")==="LARGE"){ay=(ak-140)>0?ak-140:0;}else{ay=(ak-60)>0?ak-60:0;}at.setStyle("maxHeight",ay*0.4);ap.setStyle("maxHeight",ay*0.6);av.append(at);av.append(ap);if(ar||aq){if(ar){an.append(ar);}if(aq){an.append(aq);}ax.append(an);av.append(ax);}if(aw){av.append(aw);}return av;},_buildFbLink:function(){var ap=this._view._controller.getStrings(),am=this._model.get("currentMedia"),ao=am.get("shareUrl"),al=Z.NS,an=this._view.createNode("a","fb-link",al),ak=this._view.createNode("span","fb-icon",al),Y=this._view.createNode("span","fb-share",al);
if(ao){Y.set("innerHTML",ap.SHARE_ON_FACEBOOK);an.set("target","_blank");an.set("href",e.substitute(s.FACEBOOK_URL_TEMPLATE,{title:encodeURIComponent(am.get("title")),shareUrl:encodeURIComponent(ao)}));an.append(ak);an.append(Y);return an;}return false;},_buildLink:function(){var aq=this._view._controller.getStrings(),ao=this._model.get("currentMedia"),ap=ao.get("shareUrl"),an=Z.NS,am=this._view.createNode("tr","link",an),Y=this._view.createNode("td","link-label",an),al=this._view.createNode("td","link-text-box-td",an),ak=this._view.createNode("input","link-text-box",an);if(ap){Y.set("innerHTML",aq.LINK_COLON);ak.set("value",ap);ak.setAttribute("readonly","readonly");al.append(ak);am.append(Y);am.append(al);return am;}return false;},_buildEmbed:function(){var ar=this._view._controller.getStrings(),al=this._model.get("currentMedia"),ak=al.get("embedCode"),aq=al.get("embeddable"),am=Z.NS,ap=this._view.createNode("tr","embed",am),Y=this._view.createNode("td","embed-label",am),ao=this._view.createNode("td","embed-text-box-td",am),an=this._view.createNode("input","embed-text-box",am);if(ak&&aq){Y.set("innerHTML",ar.EMBED_COLON);an.set("value",ak);an.setAttribute("readonly","readonly");ao.append(an);ap.append(Y);ap.append(ao);return ap;}return false;},_buildImage:function(aq){var an=this._model.get("currentMedia"),Y=an.get("images"),ao=this._node.get("offsetHeight"),ak=null,am=aq*0.4,al=Z.NS,ap=new Image();if(Y&&typeof(Y.medium)==="string"){ak=this._view.createNode("img","image",al);ap.onload=function(){var at=ap.width,ar=ap.height;ak.set("src",Y.medium);ak.set("offsetWidth",am);ak.set("offsetHeight",am*ar/at);};ap.src=Y.medium;}else{ak=this._view.createNode("div","image",al);ak.set("offsetWidth",am);ak.set("offsetHeight",ao*0.4);}return ak;},_buildCcComplaintsLink:function(ak,aq){var ar=this._view._controller.getStrings(),al=this._model.get("currentMedia"),am=Z.NS,ao=this._view.createNode("a","closed-captions-complaint-link",am),Y=this._model.get("ccAvailable"),an=this._model.get("lang"),ap="us";if(ak<250||aq<170){return false;}if(Y&&(an==="en-US"||an==="es-US")){ao.set("innerHTML",ar.CLOSED_CAPTION_COMPLAINTS);ao.set("target","_blank");if(an==="es-US"){ap="e1";}ao.set("href",e.substitute(s.CC_COMPLAINTS_URL_TEMPLATE,{region:ap,lang:an.toLowerCase()}));return ao;}return false;},_closeScreen:function(){var Y=this._model;if(Y.get("rendererType")==="html"){this._view._showVideoTag();}Y.set("activeScreenStr",undefined);},_bindUI:function(){var ap=this._container,al=this,Y=this._model,ao=this.close,an=this.imgLink,ak=ap.all(".yui3-videoplayer-infoscreen-share input"),am=ap.one(".yui3-videoplayer-infoscreen-fb-link");if(e.Lang.isValue(ao)){ao.on("click",function(aq){al._closeScreen();},this);}if(e.Lang.isValue(an)){an.on("click",function(aq){Y.fire("uiInteract",{source:this.constructor.NS+"Thumb"});al._closeScreen();},this);}if(e.Lang.isValue(ak)){ak.on("click",function(aq){var at=aq.target,ar=at._node.className.match(/yui3-videoplayer-[\w]*-([\w]*)-text-box/)[1].replace(/^([\w])(.*)/,function(au,aw,av){return this.constructor.NS+aw.toUpperCase()+av;});at.focus();at.select();Y.fire("uiInteract",{source:ar});},this);}if(e.Lang.isValue(am)){am.on("click",function(aq){Y.fire("uiInteract",{source:this.constructor.NS+"Facebook"});},this);}},destructor:function(ak){var Y=this;this._container.removeClass("yui3-videoplayer-show");if(e.UA.ie>0&&e.UA.ie<9){Y._container.remove();if(ak){ak();}}else{setTimeout(function(){Y._container.remove();if(ak){ak();}},300);}}});e.namespace("VideoPlatform").InfoScreen=Z;function p(){p.superclass.constructor.apply(this,arguments);}p.NAME="EndScreen";p.NS="endscreen";p.ATTRS={};p.DIMENSIONS={LARGE:{CONTAINER_PADDING:35,MIN_WIDTH:200,MIN_HEIGHT:200},MEDIUM:{CONTAINER_PADDING:35,MIN_WIDTH:200,MIN_HEIGHT:200},SMALL:{CONTAINER_PADDING:35,MIN_WIDTH:200,MIN_HEIGHT:180}};p.END_SCREEN_CAROUSEL_DIMENSIONS={LARGE:{ITEM_WIDTH:190,ITEM_HEIGHT:107,IMAGE_WIDTH:190,IMAGE_HEIGHT:107,SPACING:5,MARGIN:20},MEDIUM:{ITEM_WIDTH:190,ITEM_HEIGHT:107,IMAGE_WIDTH:190,IMAGE_HEIGHT:107,SPACING:5,MARGIN:20},SMALL:{ITEM_WIDTH:125,ITEM_HEIGHT:124,IMAGE_WIDTH:125,IMAGE_HEIGHT:71,SPACING:12,MARGIN:10}};e.extend(p,e.Base,{initializer:function(Y){this._model=Y.model;this._view=Y.view;this.mode="REPLAY";this.i18n=this._view._controller.getStrings();this.screenSize=this._view.get("screenSize");this.dimensions=p.DIMENSIONS[this.screenSize];this._config=e.Lang.isObject(this._model.get("endscreen"))||{};if(this._config&&this._config.on){this.on(this._config.on);}},render:function(an){var am=this,ap=am._view,al=p.NS,Y=am._getMediaItem(),ak=am._model.get("endScreenVideos").get("mediaItems").toArray(),ao;if(am.mode==="PLAY_NEXT"){am._continue();return;}am.renderView(an,Y,al);if(am.mode==="REPLAY"&&this._model.get("carousel")){am._hidePlaylistCarousel(am.container);}if(this._isValidPlayerSize(an)===true){if(ak.length>0){setTimeout(function(){am._renderCarousel(ak,al);},20);}else{am._renderWatchedView(Y,al);}}else{ao=am._view.createNode("div","blank-node",al);am._setContainerHeight(ao);am.container.prepend(ao);}am.container.addClass("show");am._bindUI();},_isValidPlayerSize:function(Y){return(this.dimensions["MIN_HEIGHT"]<=Y.get("offsetHeight")&&this.dimensions["MIN_WIDTH"]<=Y.get("offsetWidth"));},_getMediaItem:function(){var ao=this,Y=ao._model,an=ao._config.mediaItem||null,al,am,ak;if(an){al=new n(an);if(al.images){al.images.large=al.images.medium=al.images.thumbnail;}}else{am=Y.get("playlistPosition");ak=Y.get("playlist").items().item(am+1);if(ak&&Y.get("continuousPlay")){ao.mode="PLAY_NEXT";al=ak;}else{ao.mode="REPLAY";al=Y.get("playlist").items().item(am);}}return al;},_hidePlaylistCarousel:function(Y){var ak=Y.ancestor(".yui3-videoplayer-content");ak.one(".yui3-videoplayer-playlist-carousel").setStyle("display","none");ak.one(".yui3-videoplayer-carousel-title").removeClass("yui3-videoplayer-show");ak.one(".yui3-videoplayer-main").setStyle("height","100%");},renderView:function(am,ak,al){var aq=this._view,an=aq.createNode("a","replay",al),ap=aq.createNode("span","replay-title",al),ao=aq.createNode("span","replay-button",al),Y=aq.createNode("div","container",al);
ap.set("innerHTML",this.i18n.REPLAY);an.append(ao);an.append(ap);Y.append(an);am.append(Y);this.container=Y;this.replay=an;this.bottonNavLinksHeight=ao.get("offsetHeight")+10;if(this._model.get("rendererType")==="html"){aq._hideVideoTag();}this._model.fire("uiInteract",{source:"es-view"});},_renderWatchedView:function(av,aw){var aB=this._view,ak=av.get("images").large||av.get("images").medium||av.get("images").small||av.get("images").thumbnail,Y=aB.createNode("div","watched-center-wrapper",aw),ao=aB.createNode("div","watched-middle-wrapper",aw),ap=aB.createNode("div","watched",aw),al=aB.createNode("p","watched-text",aw),am=aB.createNode("div","metadata-container",aw),an=aB.createNode("div","metadata",aw),au=aB.createNode("p","title",aw),ax=aB.createNode("p","provider",aw),az=aB.createNode("p","duration",aw),aq=aB.createNode("img","watched-img",aw),aA=av.get("title")?av.get("title"):"",ay=av.get("provider").name?av.get("provider").name:"",at=av.get("clipDuration")?av.get("clipDuration"):"",ar;this.image=aq;this.title=au;al.set("innerHTML",this.i18n.JUST_WATCHED);au.set("innerHTML",aA);ax.set("innerHTML",ay);az.set("innerHTML",at);ap.append(al);ap.append(aq);am.append(au);am.append(ax);am.append(az);ap.append(am);this.container.prepend(Y.append(ao.append(ap)));if(!ak){ak=J.PLAYER_ASSETS_URL+"video_thumb_nopic.png";}aq.set("src",ak);ar=this._resizeImage(aq);ao.setStyle("width",ar+"px");ax.setStyle("maxWidth",(ar-40)+"px");this._setContainerHeight(Y);this._positionReplayViewNode(ao,ap);},_resizeImage:function(ak){var Y=p.END_SCREEN_CAROUSEL_DIMENSIONS[this.screenSize].IMAGE_HEIGHT,al=Math.round(Y*ak._node.width/ak._node.height);ak.setStyle("width",al+"px");ak.setStyle("height",Y+"px");return al;},_positionReplayViewNode:function(Y,al){var ak=(Y.get("offsetHeight")-al.get("offsetHeight")-(this.dimensions.CONTAINER_PADDING/2))/2;al.setStyle("top",ak+"px");},_setContainerHeight:function(Y){Y.setStyle("height",(this.container.get("offsetHeight")-this.bottonNavLinksHeight));},_renderCarousel:function(al,an){var Y=this._view.createNode("div","carousel-node",an),am=this.screenSize,ak=new f({"view":this,"mediaItems":al,"pltype":"endScreen","showMetadata":true,"dimensions":{itemWidth:p.END_SCREEN_CAROUSEL_DIMENSIONS[am].ITEM_WIDTH,itemHeight:p.END_SCREEN_CAROUSEL_DIMENSIONS[am].ITEM_HEIGHT,imageWidth:p.END_SCREEN_CAROUSEL_DIMENSIONS[am].IMAGE_WIDTH,imageHeight:p.END_SCREEN_CAROUSEL_DIMENSIONS[am].IMAGE_HEIGHT,spacing:p.END_SCREEN_CAROUSEL_DIMENSIONS[am].SPACING,carouselMargin:p.END_SCREEN_CAROUSEL_DIMENSIONS[am].MARGIN}});this._setContainerHeight(Y);this.container.prepend(Y);ak.render(Y);},destructor:function(){var Y=this;if(e.UA.ie>0&&e.UA.ie<9){Y.container.remove();}else{Y.container.removeClass("show");setTimeout(function(){Y.container.remove();},500);}},_replayVideo:function(){if(this._model.get("rendererType")==="html"){this._view._showVideoTag();}this._view._model.set("activeScreenStr",undefined);this._model.fire("uiInteract",{source:"es-rpl"});},_bindUI:function(){var Y=this;Y.replay.on(["click","touchstart"],Y._replayVideo,Y);if(Y.image){Y.image.on(["click","touchstart"],Y._replayVideo,Y);Y.title.on(["click","touchstart"],Y._replayVideo,Y);}},_continue:function(){var Y=this;setTimeout(function(){if(Y._model.get("rendererType")==="html"){Y._view._showVideoTag();}if(Y.mode==="PLAY_NEXT"){Y._view._controller.playNext();}else{Y._view._model.set("activeScreenStr",undefined);}},500);}});e.namespace("VideoPlatform").EndScreen=p;function v(){v.superclass.constructor.apply(this,arguments);}v.NAME="HotkeyOverlay";v.NS="hotkeyoverlay";v.ATTRS={};e.extend(v,e.Base,{log:function(ak,Y){},initializer:function(Y){this._view=Y.view;},render:function(al){var ak=this,am=ak._view,Y=v.NS;ak._node=al;ak.container=am.createNode("div","container",Y);ak.wrapper=am.createNode("div","table-wrapper",Y);ak.table=am.createNode("table","table",Y);ak.close=am.createNode("button","close",Y);ak.title=am.createNode("h2","title",Y);ak._tb=e.Node.create("<tbody></tbody>");ak.close.set("innerHTML","X");ak.close.setAttribute("alt","Close Hotkey Menu");ak.close.addClass("close");ak.title.set("innerHTML","Hotkey Menu");ak.title.setAttribute("tabIndex",-1);ak._appendRow("Question Mark:","Open Hotkey Menu");ak._appendRow("Esc:","Close Menu");ak._appendRow("Shift + Space Bar:","Play / Pause");ak._appendRow("Ctrl + Shift + Arrow Up:","Volume Up");ak._appendRow("Ctrl + Shift + Arrow Down:","Volume Down");ak._appendRow("Ctrl + Shift + Arrow Right:","Next Video");ak.table.append(ak._tb);ak.wrapper.append(ak.title);ak.wrapper.append(ak.table);ak.wrapper.append(ak.close);ak.container.append(ak.wrapper);al.append(ak.container);ak._bindUI();setTimeout(function(){ak.container.addClass("yui3-videoplayer-show");},10);},_bindUI:function(){var Y=this._view;this.close.on("click",function(ak){Y.set("activeOverlay",undefined);ak.preventDefault();});},_appendRow:function(ak,Y){var an=e.Node.create('<td class="label" align="left"></td>'),al=e.Node.create('<td class="value" align="left"></td>'),am=e.Node.create("<tr></tr>");an.set("innerHTML",ak);al.set("innerHTML",Y);am.append(an);am.append(al);this._tb.append(am);},destructor:function(){this.container.removeClass("yui3-videoplayer-show");var Y=this;setTimeout(function(){Y.container.remove();},300);}});e.namespace("VideoPlatform").HotkeyOverlay=v;function H(){H.superclass.constructor.apply(this,arguments);}H.NAME="Controls";H.NS="controls";H.ATTRS={};H.VOLUME_INCREMENT=0.1;H.SEEK_INCREMENT=5;e.extend(H,e.Base,{initializer:function(Y){this._model=Y.model;this._controller=Y.controller;this._view=Y.view;this.controlsAPI=new w(this._model,this._controller);this.playlistAPI=new V(this._model,this._controller);},render:function(al){var ak=this,Y=H.NS;this._node=al;this.wrapper=this._view.createNode("div","wrapper",Y);this.title=this._view.createNode("h2","title",Y);this.buttons=this._view.createNode("ul","buttons",Y);this.cover=this._view.createNode("div","cover",Y);this.title.set("innerHTML","Video Player Controls");
this.title.setAttribute("tabIndex",-1);this._addButton("play","Play");this._addButton("mute","Mute");this._addButton("volumeDown","Volume Down");this._addButton("volumeUp","Volume Up");this._addButton("seekBack","Seek Back 5 seconds");this._addButton("seekForward","Seek Forward 5 seconds");this._addButton("nextVideo","Next Video");this._addButton("info","Open Info");this._addButton("hotkeyMenu","Open Hotkey Menu");this.wrapper.append(this.title);this.wrapper.append(this.buttons);this.wrapper.append(this.cover);this.wrapper.setStyle("display","none");this._node.append(this.wrapper);this._bindUI();this._syncUI();setTimeout(function(){ak.wrapper.setStyle("display","block");},100);},_play:function(){if(!this._model.get("isPlaying")){this.controlsAPI.play();}else{this.controlsAPI.pause();}},_volumeUp:function(){this.controlsAPI.setVolume(this.controlsAPI.getVolume()+H.VOLUME_INCREMENT);},_volumeDown:function(){this.controlsAPI.setVolume(this.controlsAPI.getVolume()-H.VOLUME_INCREMENT);},_nextVideo:function(){this.playlistAPI.setPosition(this.playlistAPI.getPosition()+1);},_hotkeyMenu:function(){var Y=this._view,ak;if(Y.get("activeOverlay")&&Y.get("activeOverlay").name==="HotkeyOverlay"){Y.set("activeOverlay",undefined);}else{ak=new v({view:Y});Y.set("activeOverlay",ak);}},_bindUI:function(){var am=this._model,at=this._controller,aw=this._view,ak=this.play,au=this.seekBack,ap=this.seekForward,al=this.mute,av=this.volumeUp,ar=this.volumeDown,an=this.info,aq=this.nextVideo,Y=this.hotkeyMenu,ao=this;ak.on("click",function(){ao._play();});al.on("click",function(){ao.controlsAPI.setMute(!ao.controlsAPI.getMute());});av.on("click",function(){ao._volumeUp();});ar.on("click",function(){ao._volumeDown();});ap.on("click",function(){ao.controlsAPI.seek(ao.controlsAPI.getCurrentTime()+H.SEEK_INCREMENT);});au.on("click",function(){ao.controlsAPI.seek(ao.controlsAPI.getCurrentTime()-H.SEEK_INCREMENT);});an.on("click",function(){am.set("activeScreenStr",am.get("activeScreenStr")==="info"?undefined:"info");});aq.on("click",function(){ao._nextVideo();});Y.on("click",function(){ao._hotkeyMenu();});am.after("isPlayingChange",function(){ao._syncUI();});am.after("muteChange",function(){ao._syncUI();});am.after("activeScreenStrChange",function(){ao._syncUI();});aw.after("activeOverlayChange",function(){ao._syncUI();});},_syncUI:function(){var am=this._model,ar=this._controller,av=this._view,ak=this.play,at=this.seekBack,ap=this.seekForward,al=this.mute,au=this.volumeUp,aq=this.volumeDown,an=this.info,Y=this.hotkeyMenu,ao=this;setTimeout(function(){if(am.get("isPlaying")){ak.set("innerHTML","Pause");}else{ak.set("innerHTML","Play");}if(!ao.controlsAPI.getMute()){al.set("innerHTML","Mute");}else{al.set("innerHTML","Unmute");}if(am.get("activeScreenStr")==="info"){an.set("innerHTML","Close Info");}else{an.set("innerHTML","Open Info");}if(av.get("activeOverlay")&&av.get("activeOverlay").name==="HotkeyOverlay"){Y.set("innerHTML","Close Hotkey Menu");}else{Y.set("innerHTML","Open Hotkey Menu");}},50);},_addButton:function(ak,al){var Y=e.Node.create("<li></li>");this[ak]=this._view.createNode("button",ak,H.NS);this[ak].set("innerHTML",al);Y.append(this[ak]);this.buttons.append(Y);},destructor:function(){}});e.namespace("VideoPlatform").Controls=H;function y(){y.superclass.constructor.apply(this,arguments);}y.NAME="ErrorScreen";y.NS="errorscreen";y.ATTRS={};e.extend(y,e.Base,{log:function(ak,Y){},initializer:function(Y){this._model=Y.model;this._view=Y.view;},render:function(am){var al=y.NS,Y=this._view.createNode("div","container",al),an=this._view.createNode("div","wrapper",al),ak=this._view.createNode("div","image",al);this._node=am;this.container=Y;this.title=this._view.createNode("p","title",al);this.desc=this._view.createNode("p","desc",al);this.typeCode=this._view.createNode("p","type-code",al);an.append(ak);an.append(this.title);an.append(this.desc);Y.append(an);Y.append(this.typeCode);am.append(Y);this._bindUI();this._syncUI();},_bindUI:function(){},_syncUI:function(){var al=this._model.get("error"),ak=this._errorToResourceKey(al),Y=al.type+"-"+al.code;this.title.set("innerHTML",this._getString("ERR_TITLE"));this.desc.set("innerHTML",this._getString(ak));this.typeCode.set("innerHTML",Y);},_getString:function(Y){return this._view._controller.getStrings()[Y];},_errorToResourceKey:function(ak){var al="ERR_UNAVAILABLE_TEMP",Y=ak.code;switch(ak.type){case"500":case"501":case"502":case"503":case"504":switch(Y){case"200":case"401":case"402":case"403":case"501":al="ERR_UNAVAILABLE";break;case"201":case"500":al="ERR_UNAVAILABLE_TEMP";break;case"202":al="ERR_GEO";break;case"203":al="ERR_DEVICE";break;case"204":al="ERR_EMBED";break;case"205":al="ERR_USER";break;case"300":al="ERR_UNSUPPORTED_FORMAT";break;case"400":al="ERR_NOT_FOUND";break;default:al="ERR_TECH_DIFFICULTIES";break;}break;case"400":switch(Y){case"14":al="ERR_SESSION_TIMEOUT";break;case"200":al="ERR_FLASH_NOT_ENABLED";break;case"201":al="ERR_FLASH_NOT_UPTO_DATE";break;case"301":al="ERR_TECH_DIFFICULTIES";break;case"401":al="ERR_USER";break;default:al="ERR_TECH_DIFFICULTIES";break;}break;}return al;},destructor:function(){if(this.container){this.container.remove();}}});e.namespace("VideoPlatform").ErrorScreen=y;function a(){a.superclass.constructor.apply(this,arguments);}a.NAME="StartScreen";a.NS="startscreen";a.ATTRS={};a.DIMENSIONS={LARGE:{BAR_HEIGHT:72},MEDIUM:{BAR_HEIGHT:72},SMALL:{BAR_HEIGHT:40}};e.extend(a,e.Base,{initializer:function(Y){this._model=Y.model;this._view=Y.view;},render:function(ay){this._node=ay;var aB=a.NS,aw=this._view,au=this,at=ay.get("offsetHeight"),ao=ay.get("offsetWidth"),am=this._view.createNode("div","container",aB),ar=this._view.createNode("div","bar-wrapper",aB),aD=this._view.createNode("div","bar",aB),aC=this._view.createNode("div","bar-right",aB),aG=this._view.createNode("img","image",aB),aq=this._view.createNode("div","title-wrapper",aB),aF=this._view.createNode("h3","title",aB),aE=this._view.createNode("p","desc",aB),ap=this._view.createNode("div","ybang",aB),al=this._view.createNode("div","button",aB),aH=this._view.createNode("div","button",aB),ak=this._model.get("currentMedia"),av=ak.get("images"),Y=typeof(ak.get("title"))==="string"?ak.get("title"):"",an=typeof(ak.get("description"))==="string"?ak.get("description"):"",az,ax,aA;
aH.addClass("hover");aH.addClass("yui3-videoplayer-opacity-0");this._container=am;this.button=al;this.buttonHover=aH;this.title=aF;this.desc=aE;this.wrapper=ar;if(av&&av.large){aG.set("src",av.large);this._view._resizeAndPositionImage(aG,ay);}aF.setStyle("width",ao+"px");aF.set("innerHTML",Y);aE.set("innerHTML",an);aq.append(aF);aC.append(aq);if(an.length>0){aC.append(aE);}aD.append(aC);ar.append(aD);am.append(aG);am.append(ar);ar.append(al);ar.append(aH);aD.append(ap);ay.append(am);this._bindUI();if(this._model.get("rendererType")==="html"){this._view._hideVideoTag();}az=this.wrapper.get("offsetHeight");ax=aw.get("screenSize");aA=a.DIMENSIONS[ax].BAR_HEIGHT;this.wrapperBottom=-1*(az-aA);this.wrapper.setStyle("bottom",this.wrapperBottom+"px");au._container.addClass("yui3-videoplayer-show");setTimeout(function(){au._container.addClass("yui3-videoplayer-transition");au.wrapper.addClass("yui3-videoplayer-transition");},5);},_bindUI:function(){var an=this._container,Y=this._model,al=this,ak=this._view,am=this.wrapper;an.on(["click","touchend"],function(){this.clickToStartTimer=new k({model:Y});this.clickToStartTimer.start();if(Y.get("YVAPRequired")===true){Y.once("yvapStateChange",function(ao){switch(ao.newVal){case A.Events.AD_START:this.clickToStartTimer.stop(ai.VP_CLICK_TO_START,"VideoPlayer click to Playback Start");break;case A.Events.AD_NONE:case A.Events.AD_ERROR:Y.once("playerStateChange",function(ap){if(ap.newVal===ab.STARTED){this.clickToStartTimer.stop(ai.VP_CLICK_TO_START,"VideoPlayer click to Playback Start");}},this);break;}},this);}else{Y.once("playerStateChange",function(ao){if(ao.newVal===ab.STARTED){this.clickToStartTimer.stop(ai.VP_CLICK_TO_START,"VideoPlayer click to Playback Start");}},this);}Y.fire("uiInteract",{source:this.constructor.NS+"Play"});al._view._controller.play();},this);if(this.desc.get("innerHTML")!==""&&!e.Lang.isNumber(e.UA.ios)){an.on("mouseenter",function(ao){al.wrapper.setStyle("bottom","0px");});an.on("mouseleave",function(){al.wrapper.setStyle("bottom",al.wrapperBottom+"px");});}},destructor:function(){var ak=this._container,Y=this;if(e.UA.ie>0&&e.UA.ie<9){Y._container.remove();}else{Y._container.removeClass("yui3-videoplayer-show");setTimeout(function(){Y._container.remove();},500);}if(this._model.get("rendererType")==="html"){this._view._showVideoTag();}}});e.namespace("VideoPlatform").StartScreen=a;var N=e.VideoPlatform.Metrics;var x={generateBeaconList:function(ak,ar,ao,am,ap,al){var an=0,aq=[],Y;al=!e.Lang.isUndefined(al)?al:[];if(typeof ak!=="string"){ak="";}e.each(ar,function(at){Y={urlTemplate:ak,target:ao};if(at.param){if(Y.urlTemplate.search("COMSCORE_C5")!==-1){Y.urlTemplate=Y.urlTemplate.replace("{COMSCORE_C5}",at.param);}else{Y.urlTemplate+=at.param;}}if(am){Y.urlTemplate+="&"+am+"={RANDOM_VALUE}";}Y.events=[{"name":at.name}];if(ap===true){if(at.samplePerct){Y.samplePerct=at.samplePerct;}else{Y.samplePerct=100;}}aq[an]=Y;an+=1;});if(al.length>0){aq=aq.concat(al);}return aq;},init:function(){var ak=this.beaconComscore(),al=this.beaconQOS(),an=this.beaconYwaPageView(),am=this.beaconYWA(),Y=this.beaconULT();return ak.concat(an,am,Y,al);},beaconComscore:function(){var Y=(document.location.protocol==="https:"?"https://sb":"http://b")+".scorecardresearch.com/p?C1=1&C2=7241469&C4={COMSCORE_C4}&C5={COMSCORE_C5}&C6={COMSCORE_C6}&cv=2.0",ak=[{"name":"PLAYBACK_START","param":"{COMSCORE_C5}"},{"name":"AD_START","param":"09"}];return this.generateBeaconList(Y,ak,N.SERVICES.COMSCORE,"rn");},beaconYwaPageView:function(){var ak=(document.location.protocol==="https:"?"https://z.analytics.yahoo.com/p.pl":"http://z.analytics.yahoo.com/p.pl")+"?a=1000{YWA_PROJECT_ID}&dpid={YWA_DPID}&vp={PLAYER_INT32_GUID}&vpm={MASTERPLAYER_INT32_GUID}",Y=[{"name":"PAGE_VIEW","param":"&cf12={FLASH_VERSION}&cf08={PLAYER_HOSTING_ENV}&cf01={PLAYER_BUCKET}&cf07={PLAYER_VERSION}&cf09={EXPERIENCE_TYPE}&cf10={EXPERIENCE_NAME}&.ys={PAGE_SPACE_ID}&cf13={RENDERER_TYPE}&cf71={EXPERIENCE_BUCKET}&b={PAGE_TITLE}&f={PAGE_URL}&e={PAGE_REFERRER}"}];return this.generateBeaconList(ak,Y,N.SERVICES.YWA,"rn");},beaconYWA:function(){var ak=(document.location.protocol==="https:"?"https://z.analytics.yahoo.com/p.pl":"http://z.analytics.yahoo.com/p.pl")+"?a=1000{YWA_PROJECT_ID}&dpid={YWA_DPID}&vp={PLAYER_INT32_GUID}&vpm={MASTERPLAYER_INT32_GUID}&vid={VIDEO_CLIP_ID}&vn={VIDEO_TITLE}",Y=[{"name":"PLAYER_ERR","param":"&vx=3&vb={PAGE_TITLE}&vf={PAGE_URL}&cf50={PLAYER_ERR_TYPE}&cf51={PLAYER_ERR_CODE}&cf64={PLAYER_ERR_MSG}&cf63={AUTOPLAY}&vpl={PLAYER_LOCATION}&cf201={SITE}&cf202={REGION}&cf203={COUNTRY_LANGUAGE_CODE}&cf204={CONTRACTING_PROPERTY}&cf205={LICENSOR_NAME}&cf206={LICENSOR_ID}&cf207={LICENSE_NAME}&cf208={LICENSE_ID}&vsn={SHOW_NAME}&ve={PAGE_REFERRER}"},{"name":"VIDEO_LOADED","param":"&vlng={VIDEO_LENGTH}&vx=215&vb={PAGE_TITLE}&vf={PAGE_URL}&cf63={AUTOPLAY}&vpl={PLAYER_LOCATION}&cf201={SITE}&cf202={REGION}&cf203={COUNTRY_LANGUAGE_CODE}&cf204={CONTRACTING_PROPERTY}&cf205={LICENSOR_NAME}&cf206={LICENSOR_ID}&cf207={LICENSE_NAME}&cf208={LICENSE_ID}&cf15={CONTINUOUS_PLAY}&vsn={SHOW_NAME}&vss={EVENT_BEGIN}&vse={EVENT_END}&cf58={MEDIA_META_TAGS}&ve={PAGE_REFERRER}"},{"name":"VP_INIT_TO_START","param":"&vlng={VIDEO_LENGTH}&vx=13&vb={PAGE_TITLE}&vf={PAGE_URL}&cf63={AUTOPLAY}&vpl={PLAYER_LOCATION}&cf201={SITE}&cf202={REGION}&cf203={COUNTRY_LANGUAGE_CODE}&cf204={CONTRACTING_PROPERTY}&cf205={LICENSOR_NAME}&cf206={LICENSOR_ID}&cf207={LICENSE_NAME}&cf208={LICENSE_ID}&vsn={SHOW_NAME}&vss={EVENT_BEGIN}&vse={EVENT_END}&cf58={MEDIA_META_TAGS}&cf54={VP_INIT_TO_START}&ve={PAGE_REFERRER}"},{"name":"VP_CLICK_TO_START","param":"&vlng={VIDEO_LENGTH}&vx=14&vb={PAGE_TITLE}&vf={PAGE_URL}&cf63={AUTOPLAY}&vpl={PLAYER_LOCATION}&cf201={SITE}&cf202={REGION}&cf203={COUNTRY_LANGUAGE_CODE}&cf204={CONTRACTING_PROPERTY}&cf205={LICENSOR_NAME}&cf206={LICENSOR_ID}&cf207={LICENSE_NAME}&cf208={LICENSE_ID}&vsn={SHOW_NAME}&vss={EVENT_BEGIN}&vse={EVENT_END}&cf58={MEDIA_META_TAGS}&cf55={VP_CLICK_TO_START}&vb={PAGE_TITLE}&vf={PAGE_URL}&ve={PAGE_REFERRER}"},{"name":"PLAYBACK_REQUEST","param":"&vx=216&cf51={CMS_STATUS_CODE}&cf207={LICENSE_NAME}&cf208={LICENSE_ID}"},{"name":"PLAYBACK_START","param":"&vpos=1&vstpos={VIDEO_SEQ_START}&vq={VIDEO_SEQ_NUMBER}&vt={IS_LIVE}&vbt={PLAYBACK_START_DELAY}&cf63={AUTOPLAY}&cf62={PLAYER_WIDTH}x{PLAYER_HEIGHT}&cf53={CONTINUOUS_PLAY_COUNT}"},{"name":"PLAYBACK_PROGRESS","param":"&vlng={VIDEO_LENGTH}&vpos={VIDEO_PLAYBACK_POS}&vt={IS_LIVE}&vstpos={VIDEO_SEQ_START}&vq={VIDEO_SEQ_NUMBER}"},{"name":"PLAYBACK_PAUSE","param":"&vpos={VIDEO_PLAYBACK_POS}&vstpos={VIDEO_SEQ_START}&vx=212&vq={VIDEO_SEQ_NUMBER}"},{"name":"PLAYBACK_RESUME","param":"&vpos={VIDEO_PLAYBACK_POS}&vstpos={VIDEO_SEQ_START}&vx=211&vq={VIDEO_SEQ_NUMBER}"},{"name":"PLAYBACK_SEEK","param":"&vpos={VIDEO_PLAYBACK_POS}&vstpos={VIDEO_SEQ_START}&vx=210&vq={VIDEO_SEQ_NUMBER}"},{"name":"PLAYBACK_COMPLETE","param":"&vpos={VIDEO_LENGTH}&vstpos={VIDEO_SEQ_START}&vq={VIDEO_SEQ_NUMBER}"},{"name":"PLAYER_FULLSCREEN","param":"&vpos={VIDEO_PLAYBACK_POS}&vstpos={VIDEO_SEQ_START}&vx=213&vq={VIDEO_SEQ_NUMBER}"},{"name":"CLICK_SHARE","param":"&vpos={VIDEO_PLAYBACK_POS}&vx=214&vst={SECTION_LINK_NAME}&vq={VIDEO_SEQ_NUMBER}"},{"name":"AD_PLUGIN_METRIC","param":"&aplc{CUSTOM_PARAMS}&cf201={SITE}&cf202={REGION}&cf207={LICENSE_NAME}&cf208={LICENSE_ID}&.ys={PAGE_SPACE_ID}&cf09={EXPERIENCE_TYPE}&cf10={EXPERIENCE_NAME}"},{"name":"VP_INIT_TO_STARTSCREEN","param":"&vx=15&vpl={PLAYER_LOCATION}&vf={PAGE_URL}&vsn={SHOW_NAME}&cf201={SITE}&cf202={REGION}&cf203={COUNTRY_LANGUAGE_CODE}&cf208={LICENSE_ID}&cf52={QOS_TIMER_DIFF}&ve={PAGE_REFERRER}"},{"name":"UI_INTERACT","param":"&vx=5&cf57={UI_INTERACT_PAYLOAD}&cf201={SITE}&cf202={REGION}&cf203={COUNTRY_LANGUAGE_CODE}&vsn={SHOW_NAME}&vf={PAGE_URL}"}];
return this.generateBeaconList(ak,Y,N.SERVICES.YWA,"rn");},beaconULT:function(){var ak,al="http://geo.yahoo.com/p?t={RANDOM_VALUE}&s={PAGE_SPACE_ID}&",Y="V_vid%03{VIDEO_CLIP_ID}%04V_pls%03{PLAY_GUID}%04V_plrs%03{PLYR_SESS_GUID}%04V_plist%03{CTX_PLAYLIST_ID}%04site%03{SITE}%04lang%03{COUNTRY_LANGUAGE_CODE}%04intl%03{REGION}%04juris%03{JURISDICTION}%04_w%03{PAGE_URL}%04V_pver%03{PLAYER_VERSION}%04V_expn%03{EXPERIENCE_NAME}%04V_expt%03{EXPERIENCE_TYPE}%04V_expb%03{EXPERIENCE_BUCKET}&_R={PAGE_REFERRER}";ak=[{"name":"PLAYER_LOADED","param":al+"_P=V_sec%03pb%04V_slk%03ld%04"+Y},{"name":"VIDEO_LOADED","param":al+"_P=V_sec%03pb%04V_slk%03ps-1%04"+Y},{"name":"PLAYBACK_REQUEST","param":al+"_P=V_sec%03pb%04V_slk%03pr%04"+Y},{"name":"AD_START","param":al+"_P=V_sec%03pb%04V_slk%03as0%04"+Y},{"name":"PLAYBACK_START","param":al+"_P=V_sec%03pb%04V_slk%03ps{VIDEO_WATCHED_PERCT}%04"+Y},{"name":"PLAYBACK_COMPLETE","param":al+"_P=V_sec%03pb%04V_slk%03ps100%04"+Y},{"name":"PLAYBACK_PROGRESS","param":al+"_P=V_sec%03pb%04V_slk%03ps{VIDEO_WATCHED_PERCT}%04"+Y},{"name":"PLAYER_ERR","param":al+"_P=V_sec%03pb%04V_slk%03err%23{PLAYER_ERR_TYPE}%23{PLAYER_ERR_CODE}%04"+Y}];return this.generateBeaconList(false,ak,N.SERVICES.ULT);},beaconQOS:function(){var Y="http://qos.video.yimg.com/yep/3/qos?env={PLAYER_HOSTING_ENV}&pver={PLAYER_VERSION}&vp={PLAYER_INT32_GUID}&b={PLAYER_BUCKET}&r={RENDERER_TYPE}&vid={VIDEO_CLIP_ID}&vn={VIDEO_TITLE}&reg={REGION}&site={SITE}&sn={SHOW_NAME}&lid={LICENSE_ID}&loc={PLAYER_LOCATION}&apl={AUTOPLAY}&psid={PAGE_SPACE_ID}&fver={FLASH_VERSION}&expn={EXPERIENCE_NAME}&expt={EXPERIENCE_TYPE}&expb={EXPERIENCE_BUCKET}&vpurl={PAGE_URL}",ak=[{"name":"PLAYER_LOADED","param":"&i"},{"name":"SAPI_LOADCLIPS","param":"&vi&tsapic={QOS_TIMER_DIFF}"},{"name":"SAPI_LOADPLAYLIST","param":"&tsapilp={QOS_TIMER_DIFF}"},{"name":"SAPI_LOADSTREAM","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&tsapils={QOS_TIMER_DIFF}"},{"name":"SAPI_LOADABSTRACT","param":"&tsapiabs={QOS_TIMER_DIFF}"},{"name":"SAPI_LOADMULTICLIPS","param":"&tsapimclps={QOS_TIMER_DIFF}"},{"name":"PLAYBACK_START","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&tpb={PLAYBACK_START_DELAY}"},{"name":"PLAYER_ERR","param":"&e.{PLAYER_ERR_TYPE}.{PLAYER_ERR_CODE}&vm={PLAYER_ERR_MSG}"},{"name":"YSWF_SWF_ONLY_INIT_TIME","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&tswfoi={QOS_TIMER_DIFF}"},{"name":"YSWF_READY","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&tswfr={QOS_TIMER_DIFF}"},{"name":"YVAP_LOADED","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&tswfl={QOS_TIMER_DIFF}"},{"name":"YVAP_READY","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&tyvapr={QOS_TIMER_DIFF}"},{"name":"YVAP_ADSTARTED","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&tyvapads={QOS_TIMER_DIFF}"},{"name":"YVAP_NOAD","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&tyvapadn={QOS_TIMER_DIFF}"},{"name":"YVAP_ERROR","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&tyvape={QOS_TIMER_DIFF}"},{"name":"VP_INIT_TO_START","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&ttsapt={QOS_TIMER_DIFF}"},{"name":"PLAYBACK_REQUEST","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&pr&status={CMS_STATUS_CODE}"},{"name":"VP_CLICK_TO_START","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&ttsapf={QOS_TIMER_DIFF}"},{"name":"SAPI_LOADRELATED","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&tsapilr={QOS_TIMER_DIFF}"},{"name":"AD_PLUGIN_METRIC","param":"&qaplc{CUSTOM_PARAMS}&ln={LICENSE_NAME}"},{"name":"PLAYBACK_PROGRESS","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&prog={PROGRESS}&dur={VIDEO_LENGTH}&buff={TIME_WAITING}&br={BITRATE}&pp"},{"name":"PLAYBACK_COMPLETE","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&prog={PROGRESS}&dur={VIDEO_LENGTH}&buff={TIME_WAITING}&br={BITRATE}&pp"},{"name":"PLAYBACK_SEEK","param":"&hd={HD_AVAILABLE}&vtyp={VIDEO_TYPE}&prog={PROGRESS}&dur={VIDEO_LENGTH}&buff={TIME_WAITING}&br={BITRATE}&pp"}];return this.generateBeaconList(Y,ak,N.SERVICES.QOS,"rn",true);}};e.namespace("VideoPlatform").playerBeaconList=x;},"3.9.2.10498",{requires:["arraylist","arraylist-add","arraylist-filter","array-extras","jsonp","base","substitute","io-xdr","io-base","json-parse","swf","event-mouseenter","event-key","event-hover","event-custom","node","json-stringify","classnamemanager","event-touch","cookie","escape","yepswf","async-queue"]});;YAHOO.VideoPlatform.i18n = {"ADVERTISEMENT":"Advertisement","ARROW_DOWN":"Arrow Down:","ARROW_LEFT":"Arrow Left:","ARROW_RIGHT":"Arrow Right:","ARROW_UP":"Arrow Up:","CLOSE_HOTKEY_MENU":"Close Hotkey Menu","CLOSE_INFO":"Close Info","CLOSE_MENU":"Close Menu","CLOSED_CAPTION_COMPLAINTS":"Closed Caption Complaints","DOWNLOAD_FLASH":"Download Flash","EMBED_COLON":"Embed:","ERR_DEVICE":"This video is not available on your device.","ERR_EMBED":"This video cannot be embedded.","ERR_FLASH_NOT_ENABLED":"You need Adobe Flash to play this video..&nbsp; <a href=\"http://www.adobe.com/go/getflashplayer/\" target=\"_blank\">Download Flash</a>","ERR_FLASH_NOT_UPTO_DATE":"You have old version of Adobe Flash.&nbsp; <a href=\"http://www.adobe.com/go/getflashplayer/\" target=\"_blank\">Download Flash</a>","ERR_GEO":"This video is not available in your location.","ERR_NOT_ALLOWED":"You must to be signed in and can watch this video at only one location.","ERR_NOT_FOUND":"This video does not exist.","ERR_TECH_DIFFICULTIES":"We are experiencing technical difficulties. Please try again after a few minutes.","ERR_TITLE":"We're sorry...","ERR_UNAVAILABLE":"This video is no longer available.","ERR_UNAVAILABLE_TEMP":"This video is currently not available.","ERR_UNSUPPORTED_FORMAT":"This video format is not supported on this device.","ERR_UNAVAILABLE_SORRY":"Sorry, this video is no longer available.","ERR_USER":"This video is not available for the current user.","ERR_SESSION_TIMEOUT":"Your session has timed out.","HD_NOT_AVAIL":"HD Not Available","HOTKEY_MENU":"Hotkey Menu","JUST_WATCHED":"Just Watched","LINK_COLON":"Link:","LOADING":"Loading","MUTE_OFF":"Unmute","MUTE_ON":"Mute","NEXT_VIDEO":"Next Video","NOW_PLAYING":"Now Playing","OPEN_HOTKEY_MENU":"Open Hotkey Menu","OPEN_INFO":"Open Info","PAUSE":"Pause","PLAY":"Play","PLAY_PAUSE":"Play / Pause","PLAY_VIDEO":"Play Video","PREV_VIDEO":"Previous Video","QUESTION_MARK":"Question Mark:","REPLAY":"Replay","SEEK_FIVE_BACK":"Seek Back 5 seconds","SEEK_FIVE_FWD":"Seek Forward 5 seconds","SHARE_ON_FACEBOOK":"Share on Facebook","SPACE_BAR":"Space Bar:","SUBSCRIBE_TO":"Subscribe to","TURN_AUTO_PLAY_OFF":"Turn Autoplay Off","TURN_AUTO_PLAY_ON":"Turn Autoplay On","UPGRADE_FLASH":"Upgrade Flash","UP_NEXT":"Up Next:","VID_BEGIN_IN":"Your video will begin in {number} seconds","VID_PLAYER_CTRLS":"Video Player Controls","VIEW_AGAIN":"View Again","VISIT_LINK_FOR_NEW_VIDEOS":"Please visit {url_link} for new videos.","VOL_DOWN":"Volume Down","VOL_UP":"Volume Up"};;YAHOO.VideoPlatform.PlayerHosting = {"bucket":50,"colo":"sp2","env":"p"};;YAHOO.VideoPlatform.WhiteListedDomains = {"abcnews.go.com":"","acc.independent.co.uk":"","and-hsk-molint-ets-uk.andintweb.dmgt.net":"","cma-nol.newsoftheworld.co.uk":"","cma.thetimes.co.uk":"","creative.dailymail.co.uk":"","dailyexpresstoby.calypso.netro42.com":"","etonline.com":"","expressandstar.com":"","fantasyfootball.metro.co.uk":"","guardian.com":"","hellogiggles.com":"","metrofantasy.qa.fsbtech.com":"","mol-uk.andweb.dmgt.net":"","self.ch1.apps.yahooapis.com":"","staging.gfm.metro.co.uk":"","telesto.netro42.net":"","thetimes.co.uk":"","video.maktoob.com":"","yahoo-the-dugout.dgtl.net":"","www.bridgnorthjournal.com":"","www.dailyexpress.co.uk":"","www.dailymail.co.uk":"","www.dailystar.co.uk":"","www.dev1.telegraph.co.uk":"","www.dev2.telegraph.co.uk":"","www.etonline.com":"","www.expressandstar.com":"","www.express.co.uk":"","www.grindtv.com":"","www.guardian.co.uk":"","www.herefordshirejournals.com":"","www.huffingtonpost.com":"","www.independent.co.uk":"","www.marketdraytonadvertiser.com":"","www.metro.co.uk":"","www.mirror.co.uk":"","www.newportadvertiser.com":"","www.newsoftheworld.co.uk":"","www.northshropshirechronicle.com":"","www.rivals.com":"","www.rivals.yahoo.com":"","www.shrewsburychronicle.com":"","www.shropshirestar.com":"","www.southshropshirejournals.com":"","www.standard.co.uk":"","www.talktalk.co.uk":"","www.telegraph.co.uk":"","www.telfordjournal.com":"","www.test1.telegraph.co.uk":"","www.test2.telegraph.co.uk":"","www.test3.telegraph.co.uk":"","www.test4.telegraph.co.uk":"","www.test5.telegraph.co.uk":"","www.test6.telegraph.co.uk":"","www.test7.telegraph.co.uk":"","www.test8.telegraph.co.uk":"","www.thepostgame.com":"","www.thesun.co.uk":"","www.thesundaytimes.co.uk":"","www.thetimes.co.uk":"","www.thisisbarton.co.uk":"","www.thisisbath.co.uk":"","www.thisisbelper.co.uk":"","www.thisisblackmorevale.co.uk":"","www.thisisboston.co.uk":"","www.thisisbridgwater.co.uk":"","www.thisisbrigg.co.uk":"","www.thisisbristol.co.uk":"","www.thisisburnham.co.uk":"","www.thisiscentralsomerset.co.uk":"","www.thisischeadle.co.uk":"","www.thisischeddarvalley.co.uk":"","www.thisisclevedon.co.uk":"","www.thisiscornwall.co.uk":"","www.thisiscourier.co.uk":"","www.thisiscrawley.co.uk":"","www.thisiscroydontoday.co.uk":"","www.thisisderbyshire.co.uk":"","www.thisisdevon.co.uk":"","www.thisisexeter.co.uk":"","www.thisisfosse-way.co.uk":"","www.thisisgloucestershire.co.uk":"","www.thisisgrimsby.co.uk":"","www.thisisguernsey.com":"","www.thisishullandeastriding.co.uk":"","www.thisisilkeston.com":"","www.thisisjersey.com":"","www.thisiskent.co.uk":"","www.thisisleek.co.uk":"","www.thisisleicestershire.co.uk":"","www.thisislichfield.co.uk":"","www.thisislincolnshire.co.uk":"","www.thisislondon.co.uk":"","www.thisislouth.co.uk":"","www.thisismiddevon.co.uk":"","www.thisisnorthdevon.co.uk":"","www.thisisnottingham.co.uk":"","www.thisisplymouth.co.uk":"","www.thisisretford.co.uk":"","www.thisisscunthorpe.co.uk":"","www.thisisshepton.co.uk":"","www.thisissomerset.co.uk":"","www.thisissomersetguardian.co.uk":"","www.thisissomersetstandard.co.uk":"","www.thisissouthderbyshire.co.uk":"","www.thisissouthdevon.co.uk":"","www.thisisstourandavon.co.uk":"","www.thisisstroudtoday.co.uk":"","www.thisissurreytoday.co.uk":"","www.thisissussex.co.uk":"","www.thisissuttoncoldfield.co.uk":"","www.thisisswansea.co.uk":"","www.thisistamworth.co.uk":"","www.thisistheforest.co.uk":"","www.thisisthesentinel.co.uk":"","www.thisistotalessex.co.uk":"","www.thisisuttoxeter.co.uk":"","www.thisiswalsallonline.co.uk":"","www.thisiswells.co.uk":"","www.thisiswesterndailypress.co.uk":"","www.thisiswesterngazette.co.uk":"","www.thisiswesternmorningnews.co.uk":"","www.thisiswestonsupermare.co.uk":"","www.timesonline.co.uk":"","www.uat1.telegraph.co.uk":"","www.uat2.telegraph.co.uk":"","www.uat3.telegraph.co.u":"","www.vosmeilleuresidees.yahoo.fr":"","www.yahoo-evenements.fr":"","www.ycorpblog.com":"","www.yourchronicle.com":"","www.zonalmarking.net":""};<!-- // p|sp2|pprd1-node1-lh1|50|3.9.2.10498|Mon Sep 09 2013 22:03:18 GMT+0000 (UTC)|600|0.47877133800648153 -->